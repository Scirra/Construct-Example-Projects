{
	"name": "Code",
	"events": [
		{
			"eventType": "comment",
			"text": "Made by Viridino Studios (@ViridinoStudios)\n\nMateus Ferreira Moreira - Programmer\nX: @BonzerKitten\nE-mail: ferreiramoreiramateus@gmail.com\n\nFelipe Vaiano Calderan - Programmer\nX: @fvcalderan\nE-mail: fvcalderan@gmail.com\n\nWesley Andrade - Artist\nX: @andrart7\nE-mail: wesleymatos1989@gmail.com\n\nHelp us make new examples by supporting our work on https://www.patreon.com/viridinostudios"
		},
		{
			"eventType": "comment",
			"text": "Whether or not the player is allowed to interact with the game."
		},
		{
			"eventType": "variable",
			"name": "AllowPlayerInput",
			"type": "boolean",
			"initialValue": "true",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 901727707811962
		},
		{
			"eventType": "comment",
			"text": "Whether or not the game has started."
		},
		{
			"eventType": "variable",
			"name": "HasStarted",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 357811441761157
		},
		{
			"eventType": "comment",
			"text": "How hard the game currently is from 0 to 1."
		},
		{
			"eventType": "variable",
			"name": "CurrentDifficulty",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 835196567468527
		},
		{
			"eventType": "comment",
			"text": "How many eggs the player need to catch before reaching the hardest difficulty."
		},
		{
			"eventType": "variable",
			"name": "EGGSBEFOREMAXDIFFICULTY",
			"type": "number",
			"initialValue": "30",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 599987881523014
		},
		{
			"eventType": "comment",
			"text": "How long it takes for each egg to spawn in the easiest difficulty."
		},
		{
			"eventType": "variable",
			"name": "EASYEGGSPAWNINTERVAL",
			"type": "number",
			"initialValue": "2",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 654126907998116
		},
		{
			"eventType": "comment",
			"text": "How long it takes for each egg to spawn in the hardest difficulty."
		},
		{
			"eventType": "variable",
			"name": "HARDEGGSPAWNINTERVAL",
			"type": "number",
			"initialValue": "0.6",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 855986705542725
		},
		{
			"eventType": "comment",
			"text": "How many eggs the player caught."
		},
		{
			"eventType": "variable",
			"name": "CurrentScore",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 358365347734174
		},
		{
			"eventType": "comment",
			"text": "How many extra lives the player have on each round."
		},
		{
			"eventType": "variable",
			"name": "MAXEXTRALIVES",
			"type": "number",
			"initialValue": "3",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 478874150830015
		},
		{
			"eventType": "comment",
			"text": "How many extra lives the player currently have."
		},
		{
			"eventType": "variable",
			"name": "RemainingExtraLives",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 224862338506239
		},
		{
			"eventType": "comment",
			"text": "The highest amount of eggs the player ever caught in a single round."
		},
		{
			"eventType": "variable",
			"name": "HighScore",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 309154928299286
		},
		{
			"eventType": "comment",
			"text": "Setup the game by resetting a few global variables."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 257557492224925
				}
			],
			"actions": [
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 771698325990433,
					"parameters": {
						"variable": "AllowPlayerInput",
						"value": "true"
					}
				},
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 214331625094280,
					"parameters": {
						"variable": "HasStarted",
						"value": "false"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 787425157521039,
					"parameters": {
						"variable": "CurrentScore",
						"value": "0"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 227028641182532,
					"parameters": {
						"variable": "CurrentDifficulty",
						"value": "0"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 147727831639297,
					"parameters": {
						"variable": "RemainingExtraLives",
						"value": "MAXEXTRALIVES"
					}
				},
				{
					"type": "comment",
					"text": "Fade out the black screen."
				},
				{
					"id": "tween-one-property",
					"objectClass": "Fade",
					"sid": 992923974905053,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"FadeOut\"",
						"property": "offsetOpacity",
						"end-value": "0",
						"time": "0.25",
						"ease": "noease",
						"destroy-on-complete": "no",
						"loop": "no",
						"ping-pong": "no",
						"repeat-count": "1"
					}
				},
				{
					"type": "comment",
					"text": "Check if the player has a high score stored in the local storage."
				},
				{
					"id": "check-item-exists",
					"objectClass": "LocalStorage",
					"sid": 745375275168921,
					"parameters": {
						"key": "\"Score\""
					}
				}
			],
			"sid": 235381802955673
		},
		{
			"eventType": "comment",
			"text": "If the player has a high score stored, load it."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-item-exists",
					"objectClass": "LocalStorage",
					"sid": 592518132060884,
					"parameters": {
						"key": "\"Score\""
					}
				}
			],
			"actions": [
				{
					"id": "get-item",
					"objectClass": "LocalStorage",
					"sid": 219701973738225,
					"parameters": {
						"key": "\"Score\""
					}
				}
			],
			"sid": 216970378263541
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-item-get",
					"objectClass": "LocalStorage",
					"sid": 244872036797201,
					"parameters": {
						"key": "\"Score\""
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 658515792459179,
					"parameters": {
						"variable": "HighScore",
						"value": "LocalStorage.ItemValue"
					}
				}
			],
			"sid": 223767442801167
		},
		{
			"eventType": "comment",
			"text": "However, if the player doesn't have a high score, set it to zero."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-item-missing",
					"objectClass": "LocalStorage",
					"sid": 118038191885499,
					"parameters": {
						"key": "\"Score\""
					}
				}
			],
			"actions": [
				{
					"id": "set-item",
					"objectClass": "LocalStorage",
					"sid": 568017967574822,
					"parameters": {
						"key": "\"Score\"",
						"value": "0"
					}
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 757926099349573
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 159410861065955,
					"parameters": {
						"variable": "HighScore",
						"value": "0"
					}
				}
			],
			"sid": 202702004783416
		},
		{
			"eventType": "comment",
			"text": "Once the player interacts with the game for the first time, update the HUD and spawn the first egg after two seconds."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "evaluate-expression",
					"objectClass": "System",
					"sid": 657866786337188,
					"parameters": {
						"value": "AllowPlayerInput = 1 & HasStarted = 0 & RemainingExtraLives > 0"
					}
				}
			],
			"actions": [],
			"sid": 136107246453858,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 395863317909200,
							"parameters": {
								"key": 37
							}
						},
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 254583252177919,
							"parameters": {
								"key": 39
							}
						},
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 654888922679521,
							"parameters": {
								"gamepad": "0",
								"button": "left-shoulder-button"
							}
						},
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 713611951220136,
							"parameters": {
								"gamepad": "0",
								"button": "right-shoulder-button"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 988493505664805,
							"parameters": {
								"variable": "HasStarted",
								"value": "true"
							}
						},
						{
							"id": "start-timer",
							"objectClass": "GameManager",
							"sid": 278641899351233,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "2",
								"type": "once",
								"tag": "\"SpawnEgg\""
							}
						},
						{
							"callFunction": "UpdateHUD",
							"sid": 648984758796537
						},
						{
							"id": "flash",
							"objectClass": "UserInterface",
							"sid": 852495186322813,
							"behaviorType": "Flash",
							"parameters": {
								"on-time": "0.1",
								"off-time": "0.1",
								"duration": "1"
							}
						},
						{
							"id": "flash",
							"objectClass": "UserInterfaceDropShadow",
							"sid": 558224508674184,
							"behaviorType": "Flash",
							"parameters": {
								"on-time": "0.1",
								"off-time": "0.1",
								"duration": "1"
							}
						}
					],
					"sid": 912468008059499,
					"isOrBlock": true
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Once the spawn egg timer is over, spawn an egg."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "GameManager",
					"sid": 451695168554273,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"SpawnEgg\""
					}
				}
			],
			"actions": [
				{
					"callFunction": "SpawnEgg",
					"sid": 914811708100241
				}
			],
			"sid": 401482952484198
		},
		{
			"eventType": "comment",
			"text": "The UID of the last chicken used to spawn an egg."
		},
		{
			"eventType": "variable",
			"name": "PreviousChickenUID",
			"type": "number",
			"initialValue": "-1",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 382686516591884
		},
		{
			"eventType": "comment",
			"text": "Spawn an egg from a random chicken."
		},
		{
			"functionName": "SpawnEgg",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 811098242358418,
			"children": [
				{
					"eventType": "comment",
					"text": "Pick only the chickens that haven't spawned an egg recently."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 971164723037060,
							"parameters": {
								"object": "Chicken",
								"expression": "Chicken.UID",
								"comparison": 1,
								"value": "PreviousChickenUID"
							}
						}
					],
					"actions": [],
					"sid": 104894962438617,
					"children": [
						{
							"eventType": "comment",
							"text": "Pick a random chicken."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-random-instance",
									"objectClass": "System",
									"sid": 366173388742646,
									"parameters": {
										"object": "Chicken"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Store the chicken UID, so it doesn't repeat."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 148202219491979,
									"parameters": {
										"variable": "PreviousChickenUID",
										"value": "Chicken.UID"
									}
								},
								{
									"type": "comment",
									"text": "Create the egg collision object."
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 981696047737028,
									"parameters": {
										"object-to-create": "EggCollision",
										"layer": "\"Game\"",
										"x": "Chicken.X",
										"y": "Chicken.Y - 48",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"type": "comment",
									"text": "Create the egg texture object and attach it to the egg collision object."
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 688244561119875,
									"parameters": {
										"object-to-create": "EggTexture",
										"layer": "\"Game\"",
										"x": "EggCollision.X",
										"y": "EggCollision.Y",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "add-child",
									"objectClass": "EggCollision",
									"sid": 247144660556420,
									"parameters": {
										"child": "EggTexture",
										"transform-x": true,
										"transform-y": true,
										"transform-w": false,
										"transform-h": false,
										"transform-a": false,
										"transform-o": false,
										"transform-z-elevation": false,
										"transform-visibility": false,
										"destroy-with-parent": true
									}
								},
								{
									"type": "comment",
									"text": "Move the chicken and the overlay to the top of the layer, so the recently spawned egg is always behind."
								},
								{
									"id": "move-to-top",
									"objectClass": "Chicken",
									"sid": 771678269901030
								},
								{
									"id": "move-to-top",
									"objectClass": "Overlay",
									"sid": 623514265645278
								},
								{
									"type": "comment",
									"text": "Setup the egg size."
								},
								{
									"id": "set-size",
									"objectClass": "EggTexture",
									"sid": 960548847976067,
									"parameters": {
										"width": "0",
										"height": "0"
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "EggTexture",
									"sid": 927002948654596,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"FadeIn\"",
										"property": "size",
										"end-x": "Self.ImageWidth",
										"end-y": "Self.ImageHeight",
										"time": "0.5",
										"ease": "easeoutback",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"type": "comment",
									"text": "Make the chicken bounce in a cute way."
								},
								{
									"id": "tween-two-properties",
									"objectClass": "Chicken",
									"sid": 317782073415115,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"Bounce\"",
										"property": "size",
										"end-x": "Self.ImageWidth + 64",
										"end-y": "Self.ImageHeight - 64",
										"time": "0.125",
										"ease": "easeoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "yes",
										"repeat-count": "1"
									}
								},
								{
									"type": "comment",
									"text": "Slowly increase the difficulty in."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 689902062412823,
									"parameters": {
										"variable": "CurrentDifficulty",
										"value": "clamp(CurrentDifficulty + 1 / EGGSBEFOREMAXDIFFICULTY, 0, 1)"
									}
								},
								{
									"type": "comment",
									"text": "Start a timer to spawn the next egg, with a time parameter based on the current difficulty level."
								},
								{
									"id": "start-timer",
									"objectClass": "GameManager",
									"sid": 829869566887322,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "lerp(EASYEGGSPAWNINTERVAL, HARDEGGSPAWNINTERVAL, CurrentDifficulty)",
										"type": "once",
										"tag": "\"SpawnEgg\""
									}
								}
							],
							"sid": 102246057699036
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "How close an egg needs to be to detect a ramp below it."
		},
		{
			"eventType": "variable",
			"name": "RAMPDETECTIONTHRESHOLD",
			"type": "number",
			"initialValue": "8",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 297701048258898
		},
		{
			"eventType": "comment",
			"text": "Constantly update the physics of each egg."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 987872813789790
				}
			],
			"actions": [],
			"sid": 138695518452308,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 412944694920500,
							"parameters": {
								"object": "EggCollision"
							}
						}
					],
					"actions": [],
					"sid": 817087735154758,
					"children": [
						{
							"eventType": "comment",
							"text": "Whether or not the egg was overlapping a ramp before being moved."
						},
						{
							"eventType": "variable",
							"name": "WasOverlappingRamp",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 396499323785590
						},
						{
							"eventType": "comment",
							"text": "Whether or not the egg is overlapping a ramp after being moved."
						},
						{
							"eventType": "variable",
							"name": "IsOverlappingRamp",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 817182785326050
						},
						{
							"eventType": "comment",
							"text": "The UID of the ramp that's currently being overlapped by an egg."
						},
						{
							"eventType": "variable",
							"name": "OverlappingRampUID",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 391603999051581
						},
						{
							"eventType": "comment",
							"text": "The egg isn't overlapping a ramp."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-at-offset",
									"objectClass": "EggCollision",
									"sid": 918506455923603,
									"parameters": {
										"object": "Ramp",
										"offset-x": "0",
										"offset-y": "RAMPDETECTIONTHRESHOLD"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 732529714970101,
									"parameters": {
										"variable": "WasOverlappingRamp",
										"value": "false"
									}
								}
							],
							"sid": 777277478834640
						},
						{
							"eventType": "comment",
							"text": "The egg is overlapping a ramp."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 696455601258449
								},
								{
									"id": "is-overlapping-at-offset",
									"objectClass": "EggCollision",
									"sid": 725931425236444,
									"parameters": {
										"object": "Ramp",
										"offset-x": "0",
										"offset-y": "RAMPDETECTIONTHRESHOLD"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 547755275704817,
									"parameters": {
										"variable": "WasOverlappingRamp",
										"value": "true"
									}
								}
							],
							"sid": 591169773640821,
							"children": [
								{
									"eventType": "comment",
									"text": "If the ramp is pointing upwards, destroy it. This type of ramp is not supported and should be avoided."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 689691201135454,
											"parameters": {
												"value": "Ramp.Angle > 180 & Ramp.Angle < 360"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "Ramp",
											"sid": 942824736018933
										}
									],
									"sid": 715029976392161
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Move the egg horizontally."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "EggCollision",
									"sid": 175064418320226,
									"parameters": {
										"x": "Self.X + Self.VectorX * 60 * dt"
									}
								}
							],
							"sid": 423077065115519,
							"children": [
								{
									"eventType": "comment",
									"text": "If it starts to overlap a ramp, push it outside of it."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "EggCollision",
											"sid": 364542064796421,
											"parameters": {
												"object": "Ramp"
											}
										}
									],
									"actions": [],
									"sid": 157353868224807,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "while",
													"objectClass": "System",
													"sid": 787456933837068
												},
												{
													"id": "is-overlapping-another-object",
													"objectClass": "EggCollision",
													"sid": 810871323689572,
													"parameters": {
														"object": "Ramp"
													}
												}
											],
											"actions": [
												{
													"id": "set-x",
													"objectClass": "EggCollision",
													"sid": 605140325438474,
													"parameters": {
														"x": "Self.X - sign(Self.VectorX) * 0.1"
													}
												}
											],
											"sid": 280861534238884
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Move the egg vertically."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-y",
									"objectClass": "EggCollision",
									"sid": 693749523577526,
									"parameters": {
										"y": "Self.Y + Self.VectorY * 60 * dt"
									}
								}
							],
							"sid": 816096535159926,
							"children": [
								{
									"eventType": "comment",
									"text": "If it starts to overlap a ramp, push it outside of it."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "EggCollision",
											"sid": 564506847169399,
											"parameters": {
												"object": "Ramp"
											}
										}
									],
									"actions": [],
									"sid": 137249009721505,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "while",
													"objectClass": "System",
													"sid": 965197816262326
												},
												{
													"id": "is-overlapping-another-object",
													"objectClass": "EggCollision",
													"sid": 740781600022822,
													"parameters": {
														"object": "Ramp"
													}
												}
											],
											"actions": [
												{
													"id": "set-y",
													"objectClass": "EggCollision",
													"sid": 755388362082858,
													"parameters": {
														"y": "Self.Y - sign(Self.VectorY) * 0.1"
													}
												}
											],
											"sid": 118492116877576
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "The egg isn't overlapping a ramp."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-at-offset",
									"objectClass": "EggCollision",
									"sid": 988678519041384,
									"parameters": {
										"object": "Ramp",
										"offset-x": "0",
										"offset-y": "RAMPDETECTIONTHRESHOLD"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 623175983338107,
									"parameters": {
										"variable": "IsOverlappingRamp",
										"value": "false"
									}
								}
							],
							"sid": 601314013106267
						},
						{
							"eventType": "comment",
							"text": "The egg is overlapping a ramp."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 970397719095957
								},
								{
									"id": "is-overlapping-at-offset",
									"objectClass": "EggCollision",
									"sid": 683255765239704,
									"parameters": {
										"object": "Ramp",
										"offset-x": "0",
										"offset-y": "RAMPDETECTIONTHRESHOLD"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 744112941316755,
									"parameters": {
										"variable": "IsOverlappingRamp",
										"value": "true"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 219650574730945,
									"parameters": {
										"variable": "OverlappingRampUID",
										"value": "Ramp.UID"
									}
								}
							],
							"sid": 550311048553087
						},
						{
							"eventType": "comment",
							"text": "Rotate the egg based on its X vector."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "EggCollision",
									"sid": 274624277209965,
									"parameters": {
										"child": "EggTexture",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "rotate-clockwise",
									"objectClass": "EggTexture",
									"sid": 690405837624749,
									"parameters": {
										"degrees": "EggCollision.VectorX * 60 * dt"
									}
								}
							],
							"sid": 586156421124598
						},
						{
							"eventType": "comment",
							"text": "If the egg is overlapping a ramp, increase its speed based on the ramp angle."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 958231786793171,
									"parameters": {
										"value": "IsOverlappingRamp = 1"
									}
								}
							],
							"actions": [],
							"sid": 801237024694753,
							"children": [
								{
									"eventType": "comment",
									"text": "If the egg wasn't overlapping a ramp before being moved, reset both of its vectors."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 311236655577019,
											"parameters": {
												"value": "WasOverlappingRamp = 0"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "EggCollision",
											"sid": 970968096965311,
											"parameters": {
												"instance-variable": "VectorX",
												"value": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "EggCollision",
											"sid": 509374408988962,
											"parameters": {
												"instance-variable": "VectorY",
												"value": "0"
											}
										}
									],
									"sid": 512443519418441
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "Ramp",
											"sid": 509492204046098,
											"parameters": {
												"unique-id": "OverlappingRampUID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "EggCollision",
											"sid": 276408075940751,
											"parameters": {
												"instance-variable": "VectorX",
												"value": "Functions.MoveValueTowardsAnotherValue(Self.VectorX, cos(Ramp.Angle) * 16, 0.1)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "EggCollision",
											"sid": 292706263902104,
											"parameters": {
												"instance-variable": "VectorY",
												"value": "Functions.MoveValueTowardsAnotherValue(Self.VectorY, sin(Ramp.Angle) * 16, 0.1)"
											}
										}
									],
									"sid": 751169152190213
								}
							]
						},
						{
							"eventType": "comment",
							"text": "However, if the isn't overlapping a ramp, decrease its horizontal speed and increase its vertical speed to simulate the effect of gravity."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 562588489764859
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 969919835875521,
									"parameters": {
										"value": "IsOverlappingRamp = 0"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "EggCollision",
									"sid": 449184673342791,
									"parameters": {
										"instance-variable": "VectorX",
										"value": "Functions.MoveValueTowardsAnotherValue(Self.VectorX, 0, 0.1)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "EggCollision",
									"sid": 452709151206765,
									"parameters": {
										"instance-variable": "VectorY",
										"value": "Functions.MoveValueTowardsAnotherValue(Self.VectorY, 32, 0.3)"
									}
								}
							],
							"sid": 882461908921660
						},
						{
							"eventType": "comment",
							"text": "If the egg is overlapping the player's egg catcher, destroy it and increase the player's score."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "EggCollision",
									"sid": 471794428384855,
									"parameters": {
										"object": "EggCatcher"
									}
								}
							],
							"actions": [],
							"sid": 655417855942315,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-children",
											"objectClass": "EggCollision",
											"sid": 571179650509193,
											"parameters": {
												"child": "EggTexture",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Detach the egg's texture from the egg's collision and move it towards the score text."
										},
										{
											"id": "remove-from-parent",
											"objectClass": "EggTexture",
											"sid": 550091034477210
										},
										{
											"id": "tween-two-properties",
											"objectClass": "EggTexture",
											"sid": 744948239961422,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"Position\"",
												"property": "position",
												"end-x": "960",
												"end-y": "350",
												"time": "0.5",
												"ease": "easeinsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "EggTexture",
											"sid": 157002712272770,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"Size\"",
												"property": "size",
												"end-x": "0",
												"end-y": "0",
												"time": "0.5",
												"ease": "easeinsine",
												"destroy-on-complete": "yes",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"type": "comment",
											"text": "Destroy the egg's collision and increase the player's score."
										},
										{
											"id": "destroy",
											"objectClass": "EggCollision",
											"sid": 459190898939451
										},
										{
											"callFunction": "IncreaseScore",
											"sid": 105972931069392
										}
									],
									"sid": 222875004069773
								}
							]
						},
						{
							"eventType": "comment",
							"text": "If the egg hits the ground, create a set of particles around the collision area, destroy the egg and remove one life from the player."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 439190610104659,
									"parameters": {
										"value": "EggCollision.Y >= 1480"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 319247468100738,
									"parameters": {
										"object-to-create": "Particles",
										"layer": "\"Game\"",
										"x": "EggCollision.X",
										"y": "EggCollision.Y",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "destroy",
									"objectClass": "EggCollision",
									"sid": 461229939090384
								},
								{
									"callFunction": "RemoveLife",
									"sid": 734472760486553
								}
							],
							"sid": 512808709539096
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Move the player based on the player input."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "evaluate-expression",
					"objectClass": "System",
					"sid": 406187547243531,
					"parameters": {
						"value": "AllowPlayerInput = 1 & HasStarted = 1 & RemainingExtraLives > 0"
					}
				}
			],
			"actions": [],
			"sid": 785577453350369,
			"children": [
				{
					"eventType": "comment",
					"text": "Move the player to the left side."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 379049375041778,
							"parameters": {
								"key": 37
							}
						},
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 506636646705863,
							"parameters": {
								"gamepad": "0",
								"button": "left-shoulder-button"
							}
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "Player",
							"sid": 845048558680717,
							"disabled": true,
							"parameters": {
								"x": "960 - 140"
							}
						}
					],
					"sid": 190987189675399,
					"children": [
						{
							"eventType": "comment",
							"text": "If the player is on the bottom, move it to the top."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 140717138445068,
									"parameters": {
										"value": "Player.AnimationName = \"BottomLeft\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 869867943871944,
									"parameters": {
										"animation": "\"TopLeft\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-position",
									"objectClass": "EggCatcher",
									"sid": 952874900298761,
									"parameters": {
										"x": "524",
										"y": "955"
									}
								}
							],
							"sid": 716006044072156
						},
						{
							"eventType": "comment",
							"text": "However, if the player is on the top, move it to the bottom."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 685634375928378
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 790669912625994,
									"parameters": {
										"value": "Player.AnimationName <> \"BottomLeft\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 650568945284575,
									"parameters": {
										"animation": "\"BottomLeft\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-position",
									"objectClass": "EggCatcher",
									"sid": 815255866082834,
									"parameters": {
										"x": "526",
										"y": "1363"
									}
								}
							],
							"sid": 700718737606407
						}
					],
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Move the player to right side."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 110018911170296,
							"parameters": {
								"key": 39
							}
						},
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 699141623325988,
							"parameters": {
								"gamepad": "0",
								"button": "right-shoulder-button"
							}
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "Player",
							"sid": 832351477786882,
							"disabled": true,
							"parameters": {
								"x": "960 + 140"
							}
						}
					],
					"sid": 138937398699600,
					"children": [
						{
							"eventType": "comment",
							"text": "If the player is on the bottom, move it to the top."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 150452979177911,
									"parameters": {
										"value": "Player.AnimationName = \"BottomRight\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 474170648430298,
									"parameters": {
										"animation": "\"TopRight\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-position",
									"objectClass": "EggCatcher",
									"sid": 572486327937859,
									"parameters": {
										"x": "1396",
										"y": "955"
									}
								}
							],
							"sid": 143939863557732
						},
						{
							"eventType": "comment",
							"text": "However, if the player is on the top, move it to the bottom."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 145036777094325
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 619754696437250,
									"parameters": {
										"value": "Player.AnimationName <> \"BottomRight\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 655173679174258,
									"parameters": {
										"animation": "\"BottomRight\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-position",
									"objectClass": "EggCatcher",
									"sid": 799064463168540,
									"parameters": {
										"x": "1394",
										"y": "1363"
									}
								}
							],
							"sid": 627174512300512
						}
					],
					"isOrBlock": true
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Increase the player's score and update the HUD."
		},
		{
			"functionName": "IncreaseScore",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 418853701512023,
					"parameters": {
						"variable": "CurrentScore",
						"value": "CurrentScore + 1"
					}
				},
				{
					"callFunction": "UpdateHUD",
					"sid": 312461674179448
				}
			],
			"sid": 366979049640561
		},
		{
			"eventType": "comment",
			"text": "Remove one life from the player and update the HUD."
		},
		{
			"functionName": "RemoveLife",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 314409741675314,
					"parameters": {
						"variable": "RemainingExtraLives",
						"value": "clamp(RemainingExtraLives - 1, 0, MAXEXTRALIVES)"
					}
				},
				{
					"callFunction": "UpdateHUD",
					"sid": 423461005264628
				}
			],
			"sid": 759092163386704,
			"children": [
				{
					"eventType": "comment",
					"text": "If the player has no more extra lives, it's game over."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 234389119580813,
							"parameters": {
								"value": "AllowPlayerInput = 1 & HasStarted = 1 & RemainingExtraLives = 0"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 552773549022173,
							"parameters": {
								"variable": "AllowPlayerInput",
								"value": "false"
							}
						},
						{
							"type": "comment",
							"text": "Display losing animation and prevent the egg catcher from catching new eggs by disabling its collisions."
						},
						{
							"id": "set-animation",
							"objectClass": "Player",
							"sid": 493336440462466,
							"parameters": {
								"animation": "\"Losing\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-collisions-enabled",
							"objectClass": "EggCatcher",
							"sid": 676171511999991,
							"parameters": {
								"collisions": "disabled"
							}
						},
						{
							"type": "comment",
							"text": "Make the user interface flash to catch the player's attention."
						},
						{
							"id": "flash",
							"objectClass": "UserInterface",
							"sid": 475360271097367,
							"behaviorType": "Flash",
							"parameters": {
								"on-time": "0.1",
								"off-time": "0.1",
								"duration": "1"
							}
						},
						{
							"id": "flash",
							"objectClass": "UserInterfaceDropShadow",
							"sid": 820399514232839,
							"behaviorType": "Flash",
							"parameters": {
								"on-time": "0.1",
								"off-time": "0.1",
								"duration": "1"
							}
						},
						{
							"type": "comment",
							"text": "Cancel the spawn egg timer, so no new eggs are spawned."
						},
						{
							"id": "stop-timer",
							"objectClass": "GameManager",
							"sid": 602392216187930,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"SpawnEgg\""
							}
						},
						{
							"type": "comment",
							"text": "Wait three seconds before restarting the game."
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 852357057878515,
							"parameters": {
								"seconds": "3"
							}
						}
					],
					"sid": 503949286547968,
					"children": [
						{
							"eventType": "comment",
							"text": "If the player has reached a new high score, save it and restart the game."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 174526413592661,
									"parameters": {
										"value": "CurrentScore > HighScore"
									}
								}
							],
							"actions": [
								{
									"id": "set-item",
									"objectClass": "LocalStorage",
									"sid": 978412160264232,
									"parameters": {
										"key": "\"Score\"",
										"value": "CurrentScore"
									}
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 625475610135773
								},
								{
									"callFunction": "RestartGame",
									"sid": 402907434448448
								}
							],
							"sid": 312324873999103
						},
						{
							"eventType": "comment",
							"text": "However, if the player haven't reached a new high score, simply restart the game."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 262767971787425
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 606563241010642,
									"parameters": {
										"value": "CurrentScore <= HighScore"
									}
								}
							],
							"actions": [
								{
									"callFunction": "RestartGame",
									"sid": 829214985405472
								}
							],
							"sid": 822270749922603
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Restart the game by fading in the black screen and restarting the layout afterwards."
		},
		{
			"functionName": "RestartGame",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "tween-one-property",
					"objectClass": "Fade",
					"sid": 353323595145235,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"FadeIn\"",
						"property": "offsetOpacity",
						"end-value": "100",
						"time": "0.25",
						"ease": "noease",
						"destroy-on-complete": "no",
						"loop": "no",
						"ping-pong": "no",
						"repeat-count": "1"
					}
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 944380499453041
				},
				{
					"id": "restart-layout",
					"objectClass": "System",
					"sid": 360470254875845
				}
			],
			"sid": 240750706632654
		},
		{
			"eventType": "comment",
			"text": "Update the HUD to display the number of lives, score and high score."
		},
		{
			"functionName": "UpdateHUD",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "UserInterface",
					"sid": 581336916504231,
					"parameters": {
						"text": "\"[color=#fbbf78]- LIVES -[/color]\"\n&newline&\nRemainingExtraLives&\"/\"&MAXEXTRALIVES\n&newline&newline&\n\"[color=#fbbf78]- SCORE -[/color]\"\n&newline&\nzeropad(CurrentScore, 6)\n&newline&newline&\n\"[color=#fbbf78]- HIGH SCORE -[/color]\"\r\n&newline&\r\nzeropad(HighScore, 6)\n"
					}
				},
				{
					"id": "set-text",
					"objectClass": "UserInterfaceDropShadow",
					"sid": 854817833353212,
					"parameters": {
						"text": "\"- LIVES -\"\r\n&newline&\r\nRemainingExtraLives&\"/\"&MAXEXTRALIVES\r\n&newline&newline&\r\n\"- SCORE -\"\r\n&newline&\r\nzeropad(CurrentScore, 6)\r\n&newline&newline&\r\n\"- HIGH SCORE -\"\r\n&newline&\r\nzeropad(HighScore, 6)\n"
					}
				}
			],
			"sid": 456937466850349
		},
		{
			"eventType": "comment",
			"text": "Gradually moves a value towards another value using a speed parameter."
		},
		{
			"functionName": "MoveValueTowardsAnotherValue",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "number",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CurrentValue",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 311678809640266
				},
				{
					"name": "TargetValue",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 294513337117891
				},
				{
					"name": "Speed",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 137978663014036
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 979976871840282,
			"children": [
				{
					"eventType": "comment",
					"text": "The direction in which the current value needs to move at in order to reach the target value."
				},
				{
					"eventType": "variable",
					"name": "Direction",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 900818874035827
				},
				{
					"eventType": "comment",
					"text": "Calculate the direction."
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 121672358172557,
							"parameters": {
								"variable": "Direction",
								"value": "sign(TargetValue - CurrentValue )"
							}
						}
					],
					"sid": 714129496229584
				},
				{
					"eventType": "comment",
					"text": "If the current value is higher than the target value, use the target value as the minimum clamp parameter."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 748773304484547,
							"parameters": {
								"value": "CurrentValue > TargetValue"
							}
						}
					],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 758781621084060,
							"parameters": {
								"value": "clamp(CurrentValue + Direction * abs(Speed) * 60 * dt, TargetValue, Infinity)"
							}
						}
					],
					"sid": 729037657088827
				},
				{
					"eventType": "comment",
					"text": "If the current value is lower than the target value, use the target value as the maximum clamp parameter."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 156835028836122
						},
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 812049235651706,
							"parameters": {
								"value": "CurrentValue < TargetValue"
							}
						}
					],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 958794812998075,
							"parameters": {
								"value": "clamp(CurrentValue + Direction * abs(Speed) * 60 * dt, -Infinity, TargetValue)"
							}
						}
					],
					"sid": 904193036061705
				},
				{
					"eventType": "comment",
					"text": "If the current value equals the target value, simply return the target value."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 665960039623245
						},
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 320306388269091,
							"parameters": {
								"value": "CurrentValue = TargetValue"
							}
						}
					],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 325513031484450,
							"parameters": {
								"value": "TargetValue"
							}
						}
					],
					"sid": 958947079292802
				}
			]
		}
	],
	"sid": 220283293015551
}