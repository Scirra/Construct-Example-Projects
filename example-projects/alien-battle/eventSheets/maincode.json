{
	"name": "MainCode",
	"events": [
		{
			"eventType": "comment",
			"text": "Made by Viridino Studios (@ViridinoStudios)\n\nMateus Ferreira - Programmer\nTwitter: @BonzerKitten\nE-mail: ferreiramoreiramateus@gmail.com\n\nWesley Andrade - Artist\nTwitter: @andrart7\nE-mail: wesleymatos1989@gmail.com\n\nMade with the support of our patrons on https://www.patreon.com/viridinostudios and our good friends at https://www.construct.net."
		},
		{
			"eventType": "comment",
			"text": "How long the boss stay in an idle position before performing the next attack."
		},
		{
			"eventType": "variable",
			"name": "ActionCooldownDuration",
			"type": "number",
			"initialValue": "0.5",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 560016640618980
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Setup",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Setup the game by starting an initial action cooldown for the boss."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 994862305367290
						}
					],
					"actions": [
						{
							"id": "start-timer",
							"objectClass": "BossBody",
							"sid": 124943117414291,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "ActionCooldownDuration",
								"type": "once",
								"tag": "\"ActionCooldown\""
							}
						},
						{
							"type": "comment",
							"text": "Also pin the muzzle flash to the player's gun tip, so they always stay together."
						},
						{
							"id": "pin-to-object-imagepoint",
							"objectClass": "MuzzleFlash",
							"sid": 883207491059285,
							"behaviorType": "Pin",
							"parameters": {
								"pin-to": "PlayerAnimations",
								"image-point": "\"GunTip\"",
								"angle": false,
								"width-type": "scale",
								"height-type": "no",
								"z": false
							}
						}
					],
					"sid": 880906393545433
				},
				{
					"eventType": "comment",
					"text": "Restart the game while also changing all global variables back to their default values, preventing the game from having issues during each session."
				},
				{
					"functionName": "GameOver",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "reset-global-variables",
							"objectClass": "System",
							"sid": 987381578328538
						},
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 540652610270067
						}
					],
					"sid": 731589705057306
				}
			],
			"sid": 195572399025993
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Controls",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Move the player left."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 274387741031493,
							"parameters": {
								"key": 37
							}
						},
						{
							"id": "is-button-down",
							"objectClass": "Gamepad",
							"sid": 226057704982451,
							"parameters": {
								"gamepad": "0",
								"button": "d-pad-left"
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "PlayerCollision",
							"sid": 217827569932210,
							"behaviorType": "Platform",
							"parameters": {
								"control": "left"
							}
						}
					],
					"sid": 561274470052612,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Move the player right."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 732657069230530,
							"parameters": {
								"key": 39
							}
						},
						{
							"id": "is-button-down",
							"objectClass": "Gamepad",
							"sid": 710950875402081,
							"parameters": {
								"gamepad": "0",
								"button": "d-pad-right"
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "PlayerCollision",
							"sid": 643799757489585,
							"behaviorType": "Platform",
							"parameters": {
								"control": "right"
							}
						}
					],
					"sid": 491871821408091,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Make the player jump."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 899797194318803,
							"parameters": {
								"key": 90
							}
						},
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 605982864330221,
							"parameters": {
								"gamepad": "0",
								"button": "button-a"
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "PlayerCollision",
							"sid": 111145239702458,
							"behaviorType": "Platform",
							"parameters": {
								"control": "jump"
							}
						}
					],
					"sid": 773955045718642,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Make the player shoot up, towards the boss face."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 425034017577795,
							"parameters": {
								"key": 88
							}
						},
						{
							"id": "is-button-down",
							"objectClass": "Gamepad",
							"sid": 816489840018355,
							"parameters": {
								"gamepad": "0",
								"button": "button-b"
							}
						}
					],
					"actions": [],
					"sid": 616987954074300,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 859727142750666,
									"parameters": {
										"interval-seconds": "0.15"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerAnimations",
									"sid": 277252478113135,
									"parameters": {
										"object": "Bullet",
										"layer": "\"World\"",
										"image-point": "\"GunTip\"",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-angle-of-motion",
									"objectClass": "Bullet",
									"sid": 269252988983587,
									"behaviorType": "Bullet",
									"parameters": {
										"angle": "270"
									}
								},
								{
									"type": "comment",
									"text": "Also restart the muzzle flash animation and move it on top of the recently created bullet."
								},
								{
									"id": "move-to-object",
									"objectClass": "MuzzleFlash",
									"sid": 802135663127776,
									"parameters": {
										"where": "in-front",
										"object": "Bullet"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "MuzzleFlash",
									"sid": 822478718992239,
									"parameters": {
										"animation": "\"MuzzleFlash0\"&choose(1, 2, 3)",
										"from": "beginning"
									}
								},
								{
									"id": "start-animation",
									"objectClass": "MuzzleFlash",
									"sid": 778022023482361,
									"parameters": {
										"from": "beginning"
									}
								}
							],
							"sid": 405246155817917
						}
					],
					"isOrBlock": true
				}
			],
			"sid": 243726951959579
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Animations",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Change the player animation based on the action its currently performing."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-floor",
							"objectClass": "PlayerCollision",
							"sid": 193800102631809,
							"behaviorType": "Platform"
						}
					],
					"actions": [],
					"sid": 921343178128152,
					"children": [
						{
							"eventType": "comment",
							"text": "Play the walk animation."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-speed",
									"objectClass": "PlayerCollision",
									"sid": 908840160286821,
									"behaviorType": "Platform",
									"parameters": {
										"comparison": 5,
										"speed": "16"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "PlayerAnimations",
									"sid": 534194868520206,
									"parameters": {
										"animation": "\"Walk\"",
										"from": "beginning"
									}
								}
							],
							"sid": 209157218913211
						},
						{
							"eventType": "comment",
							"text": "Play the idle animation."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 432407011141780
								},
								{
									"id": "compare-speed",
									"objectClass": "PlayerCollision",
									"sid": 785980819093302,
									"behaviorType": "Platform",
									"parameters": {
										"comparison": 2,
										"speed": "16"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "PlayerAnimations",
									"sid": 267209861421711,
									"parameters": {
										"animation": "\"Idle\"",
										"from": "beginning"
									}
								}
							],
							"sid": 150997146633840
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Play the jump animation."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 357148701714095
						},
						{
							"id": "is-on-floor",
							"objectClass": "PlayerCollision",
							"sid": 565795693721746,
							"behaviorType": "Platform",
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "PlayerAnimations",
							"sid": 623919525796187,
							"parameters": {
								"animation": "\"Jump\"",
								"from": "beginning"
							}
						}
					],
					"sid": 372832160616841
				},
				{
					"eventType": "comment",
					"text": "Constantly update the player width based on its horizontal movement vector, making sure it's always facing the correct direction."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 414963667592100,
							"parameters": {
								"first-value": "abs(PlayerCollision.Platform.VectorX)",
								"comparison": 5,
								"second-value": "16"
							}
						}
					],
					"actions": [
						{
							"id": "set-width",
							"objectClass": "PlayerAnimations",
							"sid": 415168432785174,
							"parameters": {
								"width": "sign(PlayerCollision.Platform.VectorX) * Self.ImageWidth"
							}
						}
					],
					"sid": 733043373306092
				}
			],
			"sid": 583993149997360
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Constant",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Constantly update the camera position, so it tracks the player in a very slight way."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 649580488604885
						}
					],
					"actions": [
						{
							"id": "scroll-to-position",
							"objectClass": "System",
							"sid": 943134118610111,
							"parameters": {
								"x": "lerp(LayoutWidth / 2, PlayerCollision.X, 0.1)",
								"y": "lerp(LayoutHeight / 2 - 40, PlayerCollision.Y, 0.25)"
							}
						},
						{
							"type": "comment",
							"text": "Also offset the texture of each cloud with slightly higher speed, creating the feeling of motion."
						},
						{
							"id": "set-image-offset-x",
							"objectClass": "Clouds01",
							"sid": 139201172794363,
							"parameters": {
								"offset-x": "Self.ImageOffsetX + 0.1 * 60 * dt"
							}
						},
						{
							"id": "set-image-offset-x",
							"objectClass": "Clouds02",
							"sid": 102175873735193,
							"parameters": {
								"offset-x": "Self.ImageOffsetX + 0.2 * 60 * dt"
							}
						},
						{
							"id": "set-image-offset-x",
							"objectClass": "Clouds03",
							"sid": 441880240385366,
							"parameters": {
								"offset-x": "Self.ImageOffsetX + 0.3 * 60 * dt"
							}
						},
						{
							"id": "set-image-offset-x",
							"objectClass": "Clouds04",
							"sid": 628073075577252,
							"parameters": {
								"offset-x": "Self.ImageOffsetX + 0.4 * 60 * dt"
							}
						}
					],
					"sid": 663983730643153
				}
			],
			"sid": 353128697144653
		},
		{
			"eventType": "comment",
			"text": "The index of the animation the boss should perform next."
		},
		{
			"eventType": "variable",
			"name": "AnimationState",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 695933193183949
		},
		{
			"eventType": "comment",
			"text": "How many heath points the boss at the start of the game."
		},
		{
			"eventType": "variable",
			"name": "InitialBossHeathPoints",
			"type": "number",
			"initialValue": "50",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 719155202905484
		},
		{
			"eventType": "comment",
			"text": "How many heath points the boss currently have."
		},
		{
			"eventType": "variable",
			"name": "CurrentBossHeathPoints",
			"type": "number",
			"initialValue": "50",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 176340311535852
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Boss",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Once the cooldown is over, perform the next action."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "BossBody",
							"sid": 739076585039558,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"ActionCooldown\""
							}
						}
					],
					"actions": [],
					"sid": 717469210226086,
					"children": [
						{
							"eventType": "comment",
							"text": "If the boss heath is equal to zero, play the death animation."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 184739606018610,
									"parameters": {
										"first-value": "CurrentBossHeathPoints",
										"comparison": 0,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "play-timeline",
									"objectClass": "Timeline",
									"sid": 326426044792798,
									"parameters": {
										"timeline": "Death",
										"tags": "\"Death\""
									}
								}
							],
							"sid": 111223514732273
						},
						{
							"eventType": "comment",
							"text": "However, if the boss heath is higher than zero, play an attack animation."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 181331348472602
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 576603028670791,
									"parameters": {
										"first-value": "CurrentBossHeathPoints",
										"comparison": 4,
										"second-value": "0"
									}
								}
							],
							"actions": [],
							"sid": 351860682605177,
							"children": [
								{
									"eventType": "comment",
									"text": "If the animation state is set to zero, play the left punch animation."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 909793579931831,
											"parameters": {
												"first-value": "AnimationState",
												"comparison": 0,
												"second-value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "play-timeline",
											"objectClass": "Timeline",
											"sid": 604864785897621,
											"parameters": {
												"timeline": "LeftPunch",
												"tags": "\"LeftPunch\""
											}
										}
									],
									"sid": 866990780392883
								},
								{
									"eventType": "comment",
									"text": "If the animation state is set to one, play the right punch animation."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 173342686361166
										},
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 141112431525633,
											"parameters": {
												"first-value": "AnimationState",
												"comparison": 0,
												"second-value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "play-timeline",
											"objectClass": "Timeline",
											"sid": 226925644210476,
											"parameters": {
												"timeline": "RightPunch",
												"tags": "\"RightPunch\""
											}
										}
									],
									"sid": 347212217541617
								},
								{
									"eventType": "comment",
									"text": "If the animation state is set to two, play the laser beam animation."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 229226253537142
										},
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 185964103506067,
											"parameters": {
												"first-value": "AnimationState",
												"comparison": 0,
												"second-value": "2"
											}
										}
									],
									"actions": [
										{
											"id": "play-timeline",
											"objectClass": "Timeline",
											"sid": 441538358241843,
											"parameters": {
												"timeline": "LaserBeam",
												"tags": "\"LaserBeam\""
											}
										}
									],
									"sid": 185352528866939
								},
								{
									"eventType": "comment",
									"text": "Increase the animation state value, so the boss performs a different attack next time."
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 629624693346677,
											"parameters": {
												"variable": "AnimationState",
												"value": "(AnimationState + 1) % 3"
											}
										}
									],
									"sid": 285866947190753
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Once any of the animations are over, start the action cooldown timer again."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timeline-finished-by-tags",
							"objectClass": "Timeline",
							"sid": 125020827741121,
							"parameters": {
								"tags": "\"LeftPunch\""
							}
						},
						{
							"id": "on-timeline-finished-by-tags",
							"objectClass": "Timeline",
							"sid": 125497767726704,
							"parameters": {
								"tags": "\"RightPunch\""
							}
						},
						{
							"id": "on-timeline-finished-by-tags",
							"objectClass": "Timeline",
							"sid": 876917735507007,
							"parameters": {
								"tags": "\"LaserBeam\""
							}
						}
					],
					"actions": [
						{
							"id": "start-timer",
							"objectClass": "BossBody",
							"sid": 334110060494477,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "ActionCooldownDuration",
								"type": "once",
								"tag": "\"ActionCooldown\""
							}
						}
					],
					"sid": 538390737646943,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Move the left hand in front of the player."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-keyframe-reached",
							"objectClass": "Timeline",
							"sid": 365700076654696,
							"parameters": {
								"tags": "\"LeftHandFront\"",
								"match": "any-tags"
							}
						}
					],
					"actions": [
						{
							"id": "move-to-object",
							"objectClass": "BossLeftHand",
							"sid": 615301653891394,
							"parameters": {
								"where": "in-front",
								"object": "PlayerAnimations"
							}
						}
					],
					"sid": 854628263376075
				},
				{
					"eventType": "comment",
					"text": "Move the left hand behind the building."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-keyframe-reached",
							"objectClass": "Timeline",
							"sid": 448247822323268,
							"parameters": {
								"tags": "\"LeftHandBack\"",
								"match": "any-tags"
							}
						}
					],
					"actions": [
						{
							"id": "move-to-object",
							"objectClass": "BossLeftHand",
							"sid": 703734314835334,
							"parameters": {
								"where": "behind",
								"object": "Building"
							}
						}
					],
					"sid": 330138856191954
				},
				{
					"eventType": "comment",
					"text": "Once the left hand hits the building, spawn a bunch of bricks and explosions around it and restart the game if the player is too close."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-keyframe-reached",
							"objectClass": "Timeline",
							"sid": 412108376115894,
							"parameters": {
								"tags": "\"LeftHandHit\"",
								"match": "any-tags"
							}
						}
					],
					"actions": [
						{
							"callFunction": "SpawnBricks",
							"sid": 177028285602206,
							"parameters": [
								"BossLeftHand.X"
							]
						},
						{
							"callFunction": "SpawnExplosions",
							"sid": 924197577389941,
							"parameters": [
								"4",
								"BossLeftHand.X",
								"BossLeftHand.Y",
								"32",
								"16"
							]
						}
					],
					"sid": 118883139219972,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "PlayerCollision",
									"sid": 535531895891352,
									"parameters": {
										"object": "LeftDamage"
									}
								}
							],
							"actions": [
								{
									"callFunction": "GameOver",
									"sid": 324917280341591
								}
							],
							"sid": 555823025792761
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Move the right hand in front of the player."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-keyframe-reached",
							"objectClass": "Timeline",
							"sid": 811854541912138,
							"parameters": {
								"tags": "\"RightHandFront\"",
								"match": "any-tags"
							}
						}
					],
					"actions": [
						{
							"id": "move-to-object",
							"objectClass": "BossRightHand",
							"sid": 108204521855348,
							"parameters": {
								"where": "in-front",
								"object": "PlayerAnimations"
							}
						}
					],
					"sid": 974842833479567
				},
				{
					"eventType": "comment",
					"text": "Move the right hand behind the building."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-keyframe-reached",
							"objectClass": "Timeline",
							"sid": 294539709181455,
							"parameters": {
								"tags": "\"RightHandBack\"",
								"match": "any-tags"
							}
						}
					],
					"actions": [
						{
							"id": "move-to-object",
							"objectClass": "BossRightHand",
							"sid": 886076598836360,
							"parameters": {
								"where": "behind",
								"object": "Building"
							}
						}
					],
					"sid": 684488651906497
				},
				{
					"eventType": "comment",
					"text": "Once the right hand hits the building, spawn a bunch of bricks and explosions around it and restart the game if the player is too close."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-keyframe-reached",
							"objectClass": "Timeline",
							"sid": 909892229155602,
							"parameters": {
								"tags": "\"RightHandHit\"",
								"match": "any-tags"
							}
						}
					],
					"actions": [
						{
							"callFunction": "SpawnBricks",
							"sid": 385467281290033,
							"parameters": [
								"BossRightHand.X"
							]
						},
						{
							"callFunction": "SpawnExplosions",
							"sid": 463257291217324,
							"parameters": [
								"4",
								"BossRightHand.X",
								"BossRightHand.Y",
								"32",
								"16"
							]
						}
					],
					"sid": 320297948801269,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "PlayerCollision",
									"sid": 176742901530330,
									"parameters": {
										"object": "RightDamage"
									}
								}
							],
							"actions": [
								{
									"callFunction": "GameOver",
									"sid": 904921964662554
								}
							],
							"sid": 996565481178124
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Once the \"ShootLaser\" keyframe, spawn a big laser beam above the boss and gradually move it down with a tween animation."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-keyframe-reached",
							"objectClass": "Timeline",
							"sid": 879197751150337,
							"parameters": {
								"tags": "\"ShootLaser\"",
								"match": "any-tags"
							}
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 138675551643389,
							"parameters": {
								"object-to-create": "LaserBeam",
								"layer": "\"World\"",
								"x": "320",
								"y": "230 - 256",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-width",
							"objectClass": "LaserBeam",
							"sid": 684001834899057,
							"parameters": {
								"width": "8"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "LaserBeam",
							"sid": 552094137363744,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Drop\"",
								"property": "offsetY",
								"end-value": "230",
								"time": "0.25",
								"ease": "noease",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 226512257857191
				},
				{
					"eventType": "comment",
					"text": "Once the laser beam has reached the building rooftop, make it larger and spawn a bunch of bricks around it for a very impactful effect."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "LaserBeam",
							"sid": 539973708548158,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Drop\""
							}
						}
					],
					"actions": [
						{
							"id": "tween-one-property",
							"objectClass": "LaserBeam",
							"sid": 324040690169484,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Enlarge\"",
								"property": "offsetWidth",
								"end-value": "48",
								"time": "0.1",
								"ease": "easeoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						},
						{
							"callFunction": "SpawnBricks",
							"sid": 442209598324389,
							"parameters": [
								"LaserBeam.X"
							]
						},
						{
							"type": "comment",
							"text": "Wait a second before making the laser flash."
						},
						{
							"id": "start-timer",
							"objectClass": "LaserBeam",
							"sid": 347504851534637,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "1.0",
								"type": "once",
								"tag": "\"Flash\""
							}
						},
						{
							"type": "comment",
							"text": "Also move all particles to the top of the layer and increase their spawn rate."
						},
						{
							"id": "move-to-top",
							"objectClass": "LaserParticlesBack",
							"sid": 637182481373520
						},
						{
							"id": "set-rate",
							"objectClass": "LaserParticlesBack",
							"sid": 518074183108500,
							"parameters": {
								"rate": "64"
							}
						},
						{
							"id": "move-to-top",
							"objectClass": "LaserParticlesFront",
							"sid": 110518717937519
						},
						{
							"id": "set-rate",
							"objectClass": "LaserParticlesFront",
							"sid": 963582745500929,
							"parameters": {
								"rate": "64"
							}
						}
					],
					"sid": 483421870801782
				},
				{
					"eventType": "comment",
					"text": "If the player overlaps the laser beam while it's on the ground, restart the game."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-timer-running",
							"objectClass": "LaserBeam",
							"sid": 289387291473155,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Flash\""
							}
						}
					],
					"actions": [],
					"sid": 847596591823708,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "PlayerCollision",
									"sid": 577568768166368,
									"parameters": {
										"object": "LaserBeam"
									}
								}
							],
							"actions": [
								{
									"callFunction": "GameOver",
									"sid": 659755194961098
								}
							],
							"sid": 475932537315528
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Once the timer is over, make the laser beam flash before disappearing."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "LaserBeam",
							"sid": 555614534295664,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Flash\""
							}
						}
					],
					"actions": [
						{
							"id": "flash",
							"objectClass": "LaserBeam",
							"sid": 472882941191157,
							"behaviorType": "Flash",
							"parameters": {
								"on-time": "0.05",
								"off-time": "0.05",
								"duration": "1.0"
							}
						}
					],
					"sid": 579590238574935
				},
				{
					"eventType": "comment",
					"text": "Once the flash has ended, destroy the laser beam."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-flash-ended",
							"objectClass": "LaserBeam",
							"sid": 376949811538039,
							"behaviorType": "Flash"
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "LaserBeam",
							"sid": 603045778833267
						},
						{
							"type": "comment",
							"text": "Also disable all particle by reducing their spawn rate to zero."
						},
						{
							"id": "set-rate",
							"objectClass": "LaserParticlesBack",
							"sid": 882935825005820,
							"parameters": {
								"rate": "0"
							}
						},
						{
							"id": "set-rate",
							"objectClass": "LaserParticlesFront",
							"sid": 861098182095165,
							"parameters": {
								"rate": "0"
							}
						}
					],
					"sid": 527402749674265
				},
				{
					"eventType": "comment",
					"text": "Spawn small and big explosions around a specific area based on the values in the position and the random parameters."
				},
				{
					"functionName": "SpawnExplosions",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "Quantity",
							"type": "number",
							"initialValue": "0",
							"comment": "Each explosion takes 0.1 seconds to be displayed on screen.",
							"sid": 738825848296866
						},
						{
							"name": "PositionX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 913117418357322
						},
						{
							"name": "PositionY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 947579704694637
						},
						{
							"name": "RandomX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 529279811111252
						},
						{
							"name": "RandomY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 253551246782131
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 743260734664239,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 706315167598318,
									"parameters": {
										"count": "Quantity"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Spawn big explosion."
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 696397842638647,
									"parameters": {
										"object-to-create": "Explosion",
										"layer": "\"World\"",
										"x": "PositionX + random(-RandomX, RandomX)",
										"y": "PositionY + random(-RandomY, RandomY)",
										"create-hierarchy": false
									}
								},
								{
									"id": "start-timer",
									"objectClass": "Explosion",
									"sid": 734661059768311,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.1 * loopindex",
										"type": "once",
										"tag": "\"Start\""
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Explosion",
									"sid": 853942199435626,
									"parameters": {
										"animation": "\"Big\"",
										"from": "beginning"
									}
								},
								{
									"type": "comment",
									"text": "Spawn small explosion."
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 296247691209918,
									"parameters": {
										"object-to-create": "Explosion",
										"layer": "\"World\"",
										"x": "PositionX + random(-RandomX, RandomX)",
										"y": "PositionY + random(-RandomY, RandomY)",
										"create-hierarchy": false
									}
								},
								{
									"id": "start-timer",
									"objectClass": "Explosion",
									"sid": 920710727944029,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.1 * loopindex",
										"type": "once",
										"tag": "\"Start\""
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Explosion",
									"sid": 165965975167808,
									"parameters": {
										"animation": "\"Small\"",
										"from": "beginning"
									}
								}
							],
							"sid": 101843197546404
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Once the start timer is over, make the explosion visible and start its animation by adjusting the speed to a value higher than zero."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "Explosion",
							"sid": 567531995588423,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Start\""
							}
						}
					],
					"actions": [],
					"sid": 654547409078338,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 605182660982881,
									"parameters": {
										"object": "Explosion"
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "Explosion",
									"sid": 122255774916194,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-animation-speed",
									"objectClass": "Explosion",
									"sid": 597340645003117,
									"parameters": {
										"speed": "20"
									}
								}
							],
							"sid": 877701228358023
						}
					]
				},
				{
					"eventType": "comment",
					"text": "After the explosion is finished, destroy the object in order to prevent any sort of CPU or memory overload."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-animation-finished",
							"objectClass": "Explosion",
							"sid": 815495376162989
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Explosion",
							"sid": 516091599309003
						}
					],
					"sid": 367362119792328
				},
				{
					"eventType": "comment",
					"text": "Spawn a pre-defined amount of bricks around a specific X position, with slightly randomized properties for a more natural result."
				},
				{
					"functionName": "SpawnBricks",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "PositionX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 205591126389494
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 571720356186263,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 197324736691354,
									"parameters": {
										"count": "24"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 584463615491753,
									"parameters": {
										"object-to-create": "Brick",
										"layer": "\"World\"",
										"x": "PositionX + random(-32, 32)",
										"y": "230 + random(-4, 4)",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "Brick",
									"sid": 853761420073773,
									"parameters": {
										"frame-number": "choose(0, 0, 0, 1, 1, 2, 2, 3, 4)"
									}
								},
								{
									"id": "set-angle-of-motion",
									"objectClass": "Brick",
									"sid": 872966029241148,
									"behaviorType": "Bullet",
									"parameters": {
										"angle": "270 + random(-15, 15)"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "Brick",
									"sid": 812859616250478,
									"behaviorType": "Bullet",
									"parameters": {
										"speed": "random(96, 320)"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "Brick",
									"sid": 456631309254786,
									"behaviorType": "Rotate",
									"parameters": {
										"speed": "random(-360, 360)"
									}
								}
							],
							"sid": 920884224361218
						}
					]
				},
				{
					"eventType": "comment",
					"text": "If a bullet hits the boss, reduce its heath and destroy the bullet."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Bullet",
							"sid": 213174890551615,
							"parameters": {
								"object": "BossBody"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 633914625127201,
							"parameters": {
								"variable": "CurrentBossHeathPoints",
								"value": "clamp(CurrentBossHeathPoints - 1, 0, Infinity)"
							}
						},
						{
							"id": "destroy",
							"objectClass": "Bullet",
							"sid": 940047862616419
						},
						{
							"type": "comment",
							"text": "Stop any other previous flash animation and start a new one."
						},
						{
							"id": "stop-tweens",
							"objectClass": "BossBody",
							"sid": 111628106870656,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Flash\""
							}
						},
						{
							"id": "tween-value",
							"objectClass": "BossBody",
							"sid": 135327549473928,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Flash\"",
								"start-value": "150",
								"end-value": "100",
								"time": "0.075",
								"ease": "default",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 142590896542989
				},
				{
					"eventType": "comment",
					"text": "Constantly update the luminosity parameter from the HSL effect in the boss sprite while a flash animation is being played."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing",
							"objectClass": "BossBody",
							"sid": 949036428712162,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Flash\""
							}
						}
					],
					"actions": [
						{
							"id": "set-effect-parameter",
							"objectClass": "BossBody",
							"sid": 343134286360626,
							"parameters": {
								"effect": "\"AdjustHSL\"",
								"parameter-index": "2",
								"value": "Self.Tween.Value(\"Flash\")"
							}
						}
					],
					"sid": 398033485530092
				},
				{
					"eventType": "comment",
					"text": "Leave a trail behind each of the boss's hands while it's not playing the death animation."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 778061858997483,
							"parameters": {
								"interval-seconds": "0.1"
							}
						},
						{
							"id": "is-playing-by-tags",
							"objectClass": "Timeline",
							"sid": 617118573729411,
							"parameters": {
								"tags": "\"Death\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Left hand."
						},
						{
							"id": "spawn-another-object",
							"objectClass": "BossLeftHand",
							"sid": 863504131111504,
							"parameters": {
								"object": "BossLeftHandTrail",
								"layer": "\"World\"",
								"image-point": "0",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-size",
							"objectClass": "BossLeftHandTrail",
							"sid": 397779218745571,
							"parameters": {
								"width": "BossLeftHand.Width",
								"height": "BossLeftHand.Height"
							}
						},
						{
							"id": "set-animation-frame",
							"objectClass": "BossLeftHandTrail",
							"sid": 453558899305466,
							"parameters": {
								"frame-number": "BossLeftHand.AnimationFrame"
							}
						},
						{
							"id": "move-to-bottom",
							"objectClass": "BossLeftHandTrail",
							"sid": 398179247976539
						},
						{
							"type": "comment",
							"text": "Right hand."
						},
						{
							"id": "spawn-another-object",
							"objectClass": "BossRightHand",
							"sid": 964454719191451,
							"parameters": {
								"object": "BossRightHandTrail",
								"layer": "\"World\"",
								"image-point": "0",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-size",
							"objectClass": "BossRightHandTrail",
							"sid": 286510959156817,
							"parameters": {
								"width": "BossRightHand.Width",
								"height": "BossRightHand.Height"
							}
						},
						{
							"id": "set-animation-frame",
							"objectClass": "BossRightHandTrail",
							"sid": 603547120186569,
							"parameters": {
								"frame-number": "BossRightHand.AnimationFrame"
							}
						},
						{
							"id": "move-to-bottom",
							"objectClass": "BossRightHandTrail",
							"sid": 934332348396409
						}
					],
					"sid": 663064392465718
				}
			],
			"sid": 476307249816404
		}
	],
	"sid": 846833362399285
}