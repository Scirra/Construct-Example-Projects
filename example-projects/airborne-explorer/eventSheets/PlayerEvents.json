{
	"name": "PlayerEvents",
	"events": [
		{
			"eventType": "variable",
			"name": "pTouchX",
			"type": "number",
			"initialValue": "0",
			"comment": "Processed touch position in the X axis",
			"isStatic": false,
			"isConstant": false,
			"sid": 147178691710609
		},
		{
			"eventType": "variable",
			"name": "pTouchY",
			"type": "number",
			"initialValue": "0",
			"comment": "Processed touch position in the Y axis",
			"isStatic": false,
			"isConstant": false,
			"sid": 517579517976282
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Player",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Movement settings."
				},
				{
					"eventType": "variable",
					"name": "PLAYER_BOUNCE_THRESHOLD",
					"type": "number",
					"initialValue": "1000",
					"comment": "How much speed the player needs to bounce",
					"isStatic": false,
					"isConstant": true,
					"sid": 102836478665748
				},
				{
					"eventType": "variable",
					"name": "PLAYER_REBOUND_STRENGTH",
					"type": "number",
					"initialValue": "600",
					"comment": "How strong the player rebounds from the floor.",
					"isStatic": false,
					"isConstant": true,
					"sid": 715314459361477
				},
				{
					"eventType": "variable",
					"name": "PLAYER_X_ACCELERATION",
					"type": "number",
					"initialValue": "4800",
					"comment": "Player's X Acceleration",
					"isStatic": false,
					"isConstant": true,
					"sid": 137088910754956
				},
				{
					"eventType": "variable",
					"name": "PLAYER_X_BRAKE",
					"type": "number",
					"initialValue": "1200",
					"comment": "Player's X brake strength",
					"isStatic": false,
					"isConstant": true,
					"sid": 271062380429474
				},
				{
					"eventType": "variable",
					"name": "PLAYER_X_GROUND_DRAG",
					"type": "number",
					"initialValue": "3200",
					"comment": "Player's X ground drag",
					"isStatic": false,
					"isConstant": true,
					"sid": 246308496999577
				},
				{
					"eventType": "variable",
					"name": "PLAYER_X_AIRBORNE_DRAG",
					"type": "number",
					"initialValue": "800",
					"comment": "Player's X airborne drag",
					"isStatic": false,
					"isConstant": true,
					"sid": 862972027576429
				},
				{
					"eventType": "variable",
					"name": "PLAYER_X_WIND",
					"type": "number",
					"initialValue": "350",
					"comment": "Wind applied to the player",
					"isStatic": false,
					"isConstant": true,
					"sid": 277145776465307
				},
				{
					"eventType": "variable",
					"name": "PLAYER_GRAVITY",
					"type": "number",
					"initialValue": "2000",
					"comment": "Gravity applied to the player",
					"isStatic": false,
					"isConstant": true,
					"sid": 835673294791615
				},
				{
					"eventType": "variable",
					"name": "PLAYER_MAX_X_SPEED",
					"type": "number",
					"initialValue": "800",
					"comment": "Player's maximum X speed",
					"isStatic": false,
					"isConstant": true,
					"sid": 107367924147513
				},
				{
					"eventType": "comment",
					"text": "Movement variables."
				},
				{
					"eventType": "variable",
					"name": "Xaxis",
					"type": "number",
					"initialValue": "0",
					"comment": "Player X-Axis movement",
					"isStatic": false,
					"isConstant": false,
					"sid": 684035875956297
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Player - Specials",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "group",
							"disabled": false,
							"title": "Player - Specials - Trail",
							"description": "",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "comment",
									"text": "Create a trail behind the player."
								},
								{
									"aceType": "action",
									"aceName": "Spawn Trail",
									"objectClass": "Player",
									"functionDescription": "Create a trail behind the player",
									"functionCategory": "Special",
									"functionReturnType": "none",
									"functionCopyPicked": false,
									"functionIsAsync": false,
									"functionParameters": [
										{
											"name": "color",
											"type": "string",
											"initialValue": "",
											"comment": "Color of the trail in R,G,B format.",
											"sid": 953142451042461
										}
									],
									"eventType": "custom-ace-block",
									"conditions": [
										{
											"id": "pick-by-evaluate",
											"objectClass": "System",
											"sid": 960191301119697,
											"parameters": {
												"object": "PlayerTrail",
												"expression": "PlayerTrail.inPool"
											}
										},
										{
											"id": "pick-nth-instance",
											"objectClass": "System",
											"sid": 473947706245695,
											"parameters": {
												"object": "PlayerTrail",
												"instance": "0"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Remove this trail from the pool."
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "PlayerTrail",
											"sid": 390401874743112,
											"parameters": {
												"instance-variable": "inPool",
												"value": "false"
											}
										},
										{
											"type": "comment",
											"text": "Set opacity to 100%."
										},
										{
											"id": "set-opacity",
											"objectClass": "PlayerTrail",
											"sid": 515100510063723,
											"parameters": {
												"opacity": "50"
											}
										},
										{
											"type": "comment",
											"text": "Set its color."
										},
										{
											"id": "set-default-color",
											"objectClass": "PlayerTrail",
											"sid": 530221309082409,
											"parameters": {
												"color": "rgba255(\n    int(tokenat(color,0,\",\")),\n    int(tokenat(color,1,\",\")),\n    int(tokenat(color,2,\",\")),\n    255\n)"
											}
										},
										{
											"type": "comment",
											"text": "Set position and angle to match player's."
										},
										{
											"id": "set-position-to-another-object",
											"objectClass": "PlayerTrail",
											"sid": 421370509796230,
											"parameters": {
												"object": "PlayerSprite",
												"image-point-optional": "0"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "PlayerTrail",
											"sid": 868188603751771,
											"parameters": {
												"angle": "PlayerSprite.Angle"
											}
										},
										{
											"type": "comment",
											"text": "Fade it out and send it back to the pool afterwards."
										},
										{
											"id": "tween-one-property",
											"objectClass": "PlayerTrail",
											"sid": 168839079099741,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"DestroyTrail\"",
												"property": "offsetOpacity",
												"end-value": "0",
												"time": "0.3",
												"ease": "easeoutsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 370980190119299
								},
								{
									"eventType": "comment",
									"text": "Send trail back to the pool of trails."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-tweens-finished",
											"objectClass": "PlayerTrail",
											"sid": 491775071492566,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"DestroyTrail\""
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "PlayerTrail",
											"sid": 483249919036614,
											"parameters": {
												"instance-variable": "inPool",
												"value": "true"
											}
										},
										{
											"id": "set-position",
											"objectClass": "PlayerTrail",
											"sid": 112826658457228,
											"parameters": {
												"x": "-10000",
												"y": "-10000"
											}
										}
									],
									"sid": 114776965034303
								},
								{
									"eventType": "comment",
									"text": "Create pool of trail objects."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-start-of-layout",
											"objectClass": "System",
											"sid": 591361336706908
										}
									],
									"actions": [],
									"sid": 252582207892502,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "repeat",
													"objectClass": "System",
													"sid": 136927882402069,
													"parameters": {
														"count": "120"
													}
												}
											],
											"actions": [
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 705730977597994,
													"parameters": {
														"object-to-create": "PlayerTrail",
														"layer": "\"PlayerTrail\"",
														"x": "-10000",
														"y": "-10000",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												}
											],
											"sid": 331382386278251
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Spawn trail when special actions are available."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "every-x-seconds",
											"objectClass": "System",
											"sid": 923024293386370,
											"parameters": {
												"interval-seconds": "1/30"
											}
										}
									],
									"actions": [],
									"sid": 875773746526390,
									"children": [
										{
											"eventType": "comment",
											"text": "Both actions are available."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-timer-running",
													"objectClass": "Player",
													"sid": 608691910377679,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"RocketJumpCooldown\""
													},
													"isInverted": true
												},
												{
													"id": "is-timer-running",
													"objectClass": "Player",
													"sid": 961117498528581,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"LinkCooldown\""
													},
													"isInverted": true
												},
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 235439423805717,
													"parameters": {
														"variable": "canRocket"
													}
												},
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 761040104004970,
													"parameters": {
														"variable": "canLink"
													}
												}
											],
											"actions": [
												{
													"customAction": "Spawn Trail",
													"objectClass": "Player",
													"sid": 227848207191500,
													"parameters": [
														"\"128,32,191\""
													]
												}
											],
											"sid": 826896607981322
										},
										{
											"eventType": "comment",
											"text": "Rocket jump is available."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 394159080897093
												},
												{
													"id": "is-timer-running",
													"objectClass": "Player",
													"sid": 763873576310118,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"RocketJumpCooldown\""
													},
													"isInverted": true
												},
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 698133448270252,
													"parameters": {
														"variable": "canRocket"
													}
												}
											],
											"actions": [
												{
													"customAction": "Spawn Trail",
													"objectClass": "Player",
													"sid": 439375993039875,
													"parameters": [
														"\"255,0,0\""
													]
												}
											],
											"sid": 898222628283971
										},
										{
											"eventType": "comment",
											"text": "Link is available."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 840583750536513
												},
												{
													"id": "is-timer-running",
													"objectClass": "Player",
													"sid": 641845304313166,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"LinkCooldown\""
													},
													"isInverted": true
												},
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 921625426379071,
													"parameters": {
														"variable": "canLink"
													}
												}
											],
											"actions": [
												{
													"customAction": "Spawn Trail",
													"objectClass": "Player",
													"sid": 103086234347189,
													"parameters": [
														"\"0,127,255\""
													]
												}
											],
											"sid": 161354863935819
										}
									]
								}
							],
							"sid": 739664244675194
						},
						{
							"eventType": "group",
							"disabled": false,
							"title": "Player - Specials - Controls",
							"description": "",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "comment",
									"text": "Player can control the rover when the game is focused."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 616324504652460,
											"parameters": {
												"variable": "inputFocus",
												"comparison": 0,
												"value": "\"game\""
											}
										}
									],
									"actions": [],
									"sid": 386132192185548,
									"children": [
										{
											"eventType": "comment",
											"text": "Keyboard controls."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-key-pressed",
													"objectClass": "Keyboard",
													"sid": 733830515119799,
													"parameters": {
														"key": 38
													}
												},
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 209381073424783,
													"parameters": {
														"variable": "canRocket"
													}
												}
											],
											"actions": [
												{
													"customAction": "Rocket Jump",
													"objectClass": "Player",
													"sid": 406765908658226
												}
											],
											"sid": 372869586604116
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-key-pressed",
													"objectClass": "Keyboard",
													"sid": 767470096284676,
													"parameters": {
														"key": 32
													}
												},
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 830127309451993,
													"parameters": {
														"variable": "canLink"
													}
												}
											],
											"actions": [
												{
													"customAction": "Cast Link",
													"objectClass": "Player",
													"sid": 488293739606994
												}
											],
											"sid": 517641592926845
										},
										{
											"eventType": "comment",
											"text": "Mobile controls."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-touched-object",
													"objectClass": "Touch",
													"sid": 229359647536234,
													"parameters": {
														"object": "ButtonRocket",
														"type": "start"
													}
												}
											],
											"actions": [
												{
													"customAction": "Rocket Jump",
													"objectClass": "Player",
													"sid": 567225829010282
												},
												{
													"id": "tween-two-properties",
													"objectClass": "ButtonRocket",
													"sid": 252299821986744,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"ButtonScale\"",
														"property": "size",
														"end-x": "Self.ImageWidth * 1.25",
														"end-y": "Self.ImageHeight * 1.25",
														"time": "0.1",
														"ease": "easeinoutsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 319828699607380
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-touched-object",
													"objectClass": "Touch",
													"sid": 847325156537926,
													"parameters": {
														"object": "ButtonLink",
														"type": "start"
													}
												}
											],
											"actions": [
												{
													"customAction": "Cast Link",
													"objectClass": "Player",
													"sid": 827800175753885
												},
												{
													"id": "tween-two-properties",
													"objectClass": "ButtonLink",
													"sid": 679617251156923,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"ButtonScale\"",
														"property": "size",
														"end-x": "Self.ImageWidth * 1.25",
														"end-y": "Self.ImageHeight * 1.25",
														"time": "0.1",
														"ease": "easeinoutsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 707166183828851
										},
										{
											"eventType": "comment",
											"text": "Animate touch controls."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-tweens-finished",
													"objectClass": "ButtonRocket",
													"sid": 714496548099169,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"ButtonScale\""
													}
												}
											],
											"actions": [
												{
													"id": "tween-two-properties",
													"objectClass": "ButtonRocket",
													"sid": 438393914616601,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"ButtonReScale\"",
														"property": "size",
														"end-x": "Self.ImageWidth",
														"end-y": "Self.ImageHeight",
														"time": "0.1",
														"ease": "easeinoutsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 890410051982977
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-tweens-finished",
													"objectClass": "ButtonLink",
													"sid": 765645486588141,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"ButtonScale\""
													}
												}
											],
											"actions": [
												{
													"id": "tween-two-properties",
													"objectClass": "ButtonLink",
													"sid": 430232045476285,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"ButtonReScale\"",
														"property": "size",
														"end-x": "Self.ImageWidth",
														"end-y": "Self.ImageHeight",
														"time": "0.1",
														"ease": "easeinoutsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 142705922355622
										}
									]
								}
							],
							"sid": 516584203211679
						},
						{
							"eventType": "group",
							"disabled": false,
							"title": "Player - Specials - Rocket Jump",
							"description": "",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "comment",
									"text": "Perform a rocket jump."
								},
								{
									"aceType": "action",
									"aceName": "Rocket Jump",
									"objectClass": "Player",
									"functionDescription": "Perform a rocket jump",
									"functionCategory": "Special",
									"functionReturnType": "none",
									"functionCopyPicked": false,
									"functionIsAsync": false,
									"functionParameters": [],
									"eventType": "custom-ace-block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 322341819232490,
											"parameters": {
												"value": "PlayerLink.Count = 0"
											}
										},
										{
											"id": "is-timer-running",
											"objectClass": "Player",
											"sid": 231784276567582,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"RocketJumpCooldown\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Start cooldown."
										},
										{
											"id": "start-timer",
											"objectClass": "Player",
											"sid": 233539991375978,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "5.0",
												"type": "once",
												"tag": "\"RocketJumpCooldown\""
											}
										},
										{
											"type": "comment",
											"text": "Move the player a little up and spawn explosion below."
										},
										{
											"id": "set-y",
											"objectClass": "Player",
											"sid": 838163310955056,
											"parameters": {
												"y": "Self.Y - 16"
											}
										},
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 171338675024193,
											"parameters": {
												"object-to-create": "Explosion",
												"layer": "\"Effects\"",
												"x": "Player.X + random(-32, 32)",
												"y": "Player.Y + 32",
												"create-hierarchy": false,
												"template-name": "\"Air0\""
											}
										},
										{
											"type": "comment",
											"text": "Play sound effect."
										},
										{
											"callFunction": "playSFX",
											"sid": 687760141929519,
											"parameters": [
												"\"Explosion\" & choose(0, 1)",
												"\"SFX\"",
												"0",
												"random(0.8, 1.25)"
											]
										}
									],
									"sid": 373849490574789
								}
							],
							"sid": 326624258220085
						},
						{
							"eventType": "group",
							"disabled": false,
							"title": "Player - Specials - Link",
							"description": "",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "variable",
									"name": "MIN_SPHERE_Y",
									"type": "number",
									"initialValue": "300",
									"comment": "Minimum Y position for sphere.",
									"isStatic": false,
									"isConstant": false,
									"sid": 712526758504739
								},
								{
									"eventType": "comment",
									"text": "Cast link to nearby energy sphere."
								},
								{
									"aceType": "action",
									"aceName": "Cast Link",
									"objectClass": "Player",
									"functionDescription": "Cast link to nearby energy sphere",
									"functionCategory": "Special",
									"functionReturnType": "none",
									"functionCopyPicked": false,
									"functionIsAsync": false,
									"functionParameters": [],
									"eventType": "custom-ace-block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 273723877992917,
											"parameters": {
												"value": "PlayerLink.Count = 0"
											}
										},
										{
											"id": "pick-by-highest-lowest-value",
											"objectClass": "System",
											"sid": 694696396861038,
											"parameters": {
												"object": "EnergySphere",
												"which": "lowest",
												"expression": "distance(Player.X, Player.Y, EnergySphere.X, EnergySphere.Y)"
											}
										},
										{
											"id": "is-on-screen",
											"objectClass": "EnergySphere",
											"sid": 604142165774593
										},
										{
											"id": "is-timer-running",
											"objectClass": "Player",
											"sid": 903908724346008,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"LinkCooldown\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Start cooldown."
										},
										{
											"id": "start-timer",
											"objectClass": "Player",
											"sid": 354506167140967,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "5.0",
												"type": "once",
												"tag": "\"LinkCooldown\""
											}
										},
										{
											"type": "comment",
											"text": "Play sound effect."
										},
										{
											"callFunction": "playSFX",
											"sid": 439762452433569,
											"parameters": [
												"\"TeslaLinkStart\"",
												"\"SFX\"",
												"0",
												"1"
											]
										},
										{
											"type": "comment",
											"text": "Create link and set its properties."
										},
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 560115683181928,
											"parameters": {
												"object-to-create": "PlayerLink",
												"layer": "\"Link\"",
												"x": "Player.X",
												"y": "Player.Y",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-width",
											"objectClass": "PlayerLink",
											"sid": 642844084192646,
											"parameters": {
												"width": "0.01"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "PlayerLink",
											"sid": 206154206765379,
											"parameters": {
												"instance-variable": "sphereUID",
												"value": "EnergySphere.UID"
											}
										},
										{
											"id": "add-child",
											"objectClass": "EnergySphere",
											"sid": 863033163300796,
											"parameters": {
												"child": "PlayerLink",
												"transform-x": false,
												"transform-y": false,
												"transform-w": false,
												"transform-h": false,
												"transform-a": false,
												"transform-o": false,
												"transform-z-elevation": false,
												"transform-visibility": false,
												"destroy-with-parent": false
											}
										},
										{
											"type": "comment",
											"text": "Animate link."
										},
										{
											"id": "tween-value",
											"objectClass": "PlayerLink",
											"sid": 134176270775293,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"CastLink\"",
												"start-value": "0",
												"end-value": "1",
												"time": "0.25",
												"ease": "easeinoutsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 991753788846146
								},
								{
									"eventType": "comment",
									"text": "Update link position and width."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "every-tick",
											"objectClass": "System",
											"sid": 251970825119227
										},
										{
											"id": "pick-by-unique-id",
											"objectClass": "EnergySphere",
											"sid": 822737575181405,
											"parameters": {
												"unique-id": "PlayerLink.sphereUID"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Link should follow the player's position and aim at the parent sphere."
										},
										{
											"id": "set-position-to-another-object",
											"objectClass": "PlayerLink",
											"sid": 921880214891299,
											"parameters": {
												"object": "Player",
												"image-point-optional": "0"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "PlayerLink",
											"sid": 330301944441114,
											"parameters": {
												"angle": "angle(Player.X, Player.Y, EnergySphere.X, EnergySphere.Y)"
											}
										}
									],
									"sid": 140910160117768,
									"children": [
										{
											"eventType": "comment",
											"text": "Set link's width according to its current state (animating or static)."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-playing",
													"objectClass": "PlayerLink",
													"sid": 592104832002286,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"CastLink\""
													}
												}
											],
											"actions": [
												{
													"id": "set-width",
													"objectClass": "PlayerLink",
													"sid": 181790761102719,
													"parameters": {
														"width": "distance(Player.X, Player.Y, EnergySphere.X, EnergySphere.Y) * Self.Tween.Value(\"CastLink\")"
													}
												}
											],
											"sid": 350487934454226
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 644952844372730
												}
											],
											"actions": [
												{
													"id": "set-width",
													"objectClass": "PlayerLink",
													"sid": 989489829451642,
													"parameters": {
														"width": "distance(Player.X, Player.Y, EnergySphere.X, EnergySphere.Y)"
													}
												}
											],
											"sid": 950181697757143
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Link has successfully linked to sphere."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-tweens-finished",
											"objectClass": "PlayerLink",
											"sid": 558082514212611,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"CastLink\""
											}
										},
										{
											"id": "pick-parent",
											"objectClass": "PlayerLink",
											"sid": 486804893471176,
											"parameters": {
												"parent": "EnergySphere",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Destroy it."
										},
										{
											"id": "tween-one-property",
											"objectClass": "PlayerLink",
											"sid": 735877422323807,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"DestroyLink\"",
												"property": "offsetOpacity",
												"end-value": "0",
												"time": "0.25",
												"ease": "easeinoutsine",
												"destroy-on-complete": "yes",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"type": "comment",
											"text": "Disable player's standard physics."
										},
										{
											"id": "set-enabled",
											"objectClass": "Player",
											"sid": 683094165617363,
											"behaviorType": "Custom",
											"parameters": {
												"state": "disabled"
											}
										},
										{
											"type": "comment",
											"text": "Play sound effect."
										},
										{
											"callFunction": "playSFX",
											"sid": 662816022241955,
											"parameters": [
												"\"TeslaLinkGo\"",
												"\"SFX\"",
												"0",
												"1"
											]
										},
										{
											"type": "comment",
											"text": "Move player to sphere's position."
										},
										{
											"id": "tween-two-properties",
											"objectClass": "Player",
											"sid": 470523679283085,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"MoveToSphere\"",
												"property": "position",
												"end-x": "EnergySphere.X",
												"end-y": "EnergySphere.Y",
												"time": "distance(Player.X, Player.Y, EnergySphere.X, EnergySphere.Y)/5000",
												"ease": "easeinoutsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 273067404297365
								},
								{
									"eventType": "comment",
									"text": "If the player has reached the sphere, enable standard physics and destroy the sphere (if not already destroyed)."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-tweens-finished",
											"objectClass": "Player",
											"sid": 272060267022114,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"MoveToSphere\""
											}
										}
									],
									"actions": [
										{
											"id": "set-speed",
											"objectClass": "Player",
											"sid": 129301371264132,
											"behaviorType": "Custom",
											"parameters": {
												"which": "overall",
												"speed": "0"
											}
										},
										{
											"id": "set-enabled",
											"objectClass": "Player",
											"sid": 821454862723535,
											"behaviorType": "Custom",
											"parameters": {
												"state": "enabled"
											}
										},
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 905995451759494,
											"parameters": {
												"object-to-create": "Explosion",
												"layer": "\"Effects\"",
												"x": "EnergySphere.X",
												"y": "EnergySphere.Y",
												"create-hierarchy": false,
												"template-name": "\"Air1\""
											}
										},
										{
											"id": "destroy",
											"objectClass": "EnergySphere",
											"sid": 102470724053717
										}
									],
									"sid": 414775449926477
								},
								{
									"eventType": "comment",
									"text": "If a linked sphere was destroyed, remove the link and enable standard physics."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-destroyed",
											"objectClass": "EnergySphere",
											"sid": 683032939881692
										},
										{
											"id": "pick-children",
											"objectClass": "EnergySphere",
											"sid": 243691063485587,
											"parameters": {
												"child": "PlayerLink",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"id": "stop-all-tweens",
											"objectClass": "PlayerLink",
											"sid": 885113166292210,
											"behaviorType": "Tween"
										},
										{
											"id": "tween-one-property",
											"objectClass": "PlayerLink",
											"sid": 697079101624045,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"DestroyLink\"",
												"property": "offsetOpacity",
												"end-value": "0",
												"time": "0.25",
												"ease": "easeinoutsine",
												"destroy-on-complete": "yes",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 564661342285117,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-playing",
													"objectClass": "Player",
													"sid": 858465106571327,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"MoveToSphere\""
													}
												}
											],
											"actions": [
												{
													"id": "stop-tweens",
													"objectClass": "Player",
													"sid": 776847254147102,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"MoveToSphere\""
													}
												},
												{
													"id": "set-speed",
													"objectClass": "Player",
													"sid": 937789393155195,
													"behaviorType": "Custom",
													"parameters": {
														"which": "overall",
														"speed": "0"
													}
												},
												{
													"id": "set-enabled",
													"objectClass": "Player",
													"sid": 449886574888012,
													"behaviorType": "Custom",
													"parameters": {
														"state": "enabled"
													}
												}
											],
											"sid": 573757030147929
										}
									]
								}
							],
							"sid": 309362883535450
						}
					],
					"sid": 294297878030028
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Player - Movement",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Update player's score."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Player",
									"sid": 822336839210512,
									"parameters": {
										"object": "Roads"
									}
								}
							],
							"actions": [],
							"sid": 459012127953580,
							"children": [
								{
									"eventType": "comment",
									"text": "Player has bounced off at least 1 enemy."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 980466537016179,
											"parameters": {
												"variable": "comboScore",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Hide combo text."
										},
										{
											"id": "set-text",
											"objectClass": "TextCombo",
											"sid": 353522209736342,
											"parameters": {
												"text": "\"[outlineBack=#000000][lineThickness=4][color=#00ff00]+\" & comboScore"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "TextCombo",
											"sid": 653787949757239,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"HideComboText\"",
												"property": "offsetOpacity",
												"end-value": "0",
												"time": "1",
												"ease": "easeinsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"type": "comment",
											"text": "Update player's score."
										},
										{
											"callFunction": "addComboScore",
											"sid": 859394474043982
										}
									],
									"sid": 604548412276493,
									"children": [
										{
											"eventType": "comment",
											"text": "Delete all combo keys."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each-key",
													"objectClass": "DictCombo",
													"sid": 363107749650350
												}
											],
											"actions": [
												{
													"id": "delete-key",
													"objectClass": "DictCombo",
													"sid": 637804323804663,
													"parameters": {
														"key": "Self.CurrentKey"
													}
												}
											],
											"sid": 799991597356337
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Check if the player can bounce."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 945913946057892,
											"parameters": {
												"variable": "canBounce"
											}
										},
										{
											"id": "compare-speed",
											"objectClass": "Player",
											"sid": 320514349339847,
											"behaviorType": "Custom",
											"parameters": {
												"which": "vertical",
												"comparison": 4,
												"speed": "PLAYER_BOUNCE_THRESHOLD"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Apply negative force of decreased magnitude to the player."
										},
										{
											"id": "set-speed",
											"objectClass": "Player",
											"sid": 660434995917670,
											"behaviorType": "Custom",
											"parameters": {
												"which": "vertical",
												"speed": "-max(Player.Custom.dy/1.5, PLAYER_REBOUND_STRENGTH)"
											}
										}
									],
									"sid": 795425559013460
								},
								{
									"eventType": "comment",
									"text": "Check if upgrade shop needs to be displayed."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 647851873435268,
											"parameters": {
												"variable": "timeRemaining",
												"comparison": 3,
												"value": "-1"
											}
										}
									],
									"actions": [
										{
											"callFunction": "timeIsUp",
											"sid": 683798619338973
										}
									],
									"sid": 363215170187543
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Player is airborne."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 424065158546007,
									"parameters": {
										"value": "Player.Y + Player.Height/2 < groundLevel"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Apply gravity."
								},
								{
									"id": "accelerate",
									"objectClass": "Player",
									"sid": 406757402229659,
									"behaviorType": "Custom",
									"parameters": {
										"which": "vertically",
										"acceleration": "PLAYER_GRAVITY"
									}
								},
								{
									"type": "comment",
									"text": "Let the player rotate."
								},
								{
									"id": "rotate-clockwise",
									"objectClass": "Player",
									"sid": 386382975234096,
									"parameters": {
										"degrees": "Self.rotSpeed * dt"
									}
								}
							],
							"sid": 688340871621590
						},
						{
							"eventType": "comment",
							"text": "Player is on the ground."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 906542824298032
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Remove all vertical speed."
								},
								{
									"id": "set-speed",
									"objectClass": "Player",
									"sid": 832906905882084,
									"behaviorType": "Custom",
									"parameters": {
										"which": "vertical",
										"speed": "0"
									}
								},
								{
									"type": "comment",
									"text": "Set Y to ground level."
								},
								{
									"id": "set-y",
									"objectClass": "Player",
									"sid": 888469084223131,
									"parameters": {
										"y": "groundLevel - Player.Height/2"
									}
								},
								{
									"type": "comment",
									"text": "Stop rotating."
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Player",
									"sid": 683071383911114,
									"parameters": {
										"instance-variable": "rotSpeed",
										"value": "0"
									}
								},
								{
									"type": "comment",
									"text": "Slowly go back to correct angle."
								},
								{
									"id": "set-angle",
									"objectClass": "Player",
									"sid": 802873256097143,
									"parameters": {
										"angle": "anglelerp(Self.Angle, 0, 10 * dt)"
									}
								}
							],
							"sid": 441841668606072
						},
						{
							"eventType": "comment",
							"text": "Player can control the rover when the game is focused."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 106049756357182,
									"parameters": {
										"variable": "inputFocus",
										"comparison": 0,
										"value": "\"game\""
									}
								}
							],
							"actions": [],
							"sid": 241988053641928,
							"children": [
								{
									"eventType": "comment",
									"text": "Keyboard controls (made to work with simultaneous touch input, in case that happens)."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "key-is-down",
											"objectClass": "Keyboard",
											"sid": 598681393548601,
											"parameters": {
												"key": 39
											}
										},
										{
											"id": "key-is-down",
											"objectClass": "Keyboard",
											"sid": 670345783322398,
											"parameters": {
												"key": 37
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 486232364494274,
											"parameters": {
												"variable": "Xaxis",
												"value": "0"
											}
										}
									],
									"sid": 921615397789480
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 628024255987698
										},
										{
											"id": "key-is-down",
											"objectClass": "Keyboard",
											"sid": 798330786834581,
											"parameters": {
												"key": 39
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 444467493944091,
											"parameters": {
												"variable": "Xaxis",
												"value": "1"
											}
										}
									],
									"sid": 956181853313411
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 446117104623264
										},
										{
											"id": "key-is-down",
											"objectClass": "Keyboard",
											"sid": 785856233153702,
											"parameters": {
												"key": 37
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 709156999116615,
											"parameters": {
												"variable": "Xaxis",
												"value": "-1"
											}
										}
									],
									"sid": 496506497034113
								},
								{
									"eventType": "comment",
									"text": "Mobile controls."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 973005445440445,
											"parameters": {
												"variable": "mobileControls"
											}
										}
									],
									"actions": [],
									"sid": 821385408197711,
									"children": [
										{
											"eventType": "comment",
											"text": "Set starting analog position."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-nth-touch-start",
													"objectClass": "Touch",
													"sid": 336604085070418,
													"parameters": {
														"touch-number": "0"
													}
												},
												{
													"id": "is-touching-object",
													"objectClass": "Touch",
													"sid": 219894592978782,
													"parameters": {
														"object": "ButtonRocket"
													},
													"isInverted": true
												},
												{
													"id": "is-touching-object",
													"objectClass": "Touch",
													"sid": 549785087271599,
													"parameters": {
														"object": "ButtonLink"
													},
													"isInverted": true
												},
												{
													"id": "is-touching-object",
													"objectClass": "Touch",
													"sid": 680346041858370,
													"parameters": {
														"object": "ButtonSound"
													},
													"isInverted": true
												},
												{
													"id": "is-touching-object",
													"objectClass": "Touch",
													"sid": 136699078599273,
													"parameters": {
														"object": "ButtonPause"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 738177291282750,
													"parameters": {
														"variable": "pTouchX",
														"value": "Touch.X"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 189037692954486,
													"parameters": {
														"variable": "pTouchY",
														"value": "Touch.Y - scrolly + ViewportHeight(\"UI\")/2"
													}
												},
												{
													"id": "set-position",
													"objectClass": "AnalogBase",
													"sid": 715306469131252,
													"parameters": {
														"x": "pTouchX",
														"y": "pTouchY"
													}
												},
												{
													"id": "set-position",
													"objectClass": "AnalogStick",
													"sid": 735314026883559,
													"parameters": {
														"x": "pTouchX",
														"y": "pTouchY"
													}
												}
											],
											"sid": 551412115593185
										},
										{
											"eventType": "comment",
											"text": "Move analogue stick, always limiting it inside the analog radius."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "has-nth-touch",
													"objectClass": "Touch",
													"sid": 288637296105358,
													"parameters": {
														"touch-number": "0"
													}
												},
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 255097568484187,
													"parameters": {
														"variable": "pTouchX",
														"comparison": 5,
														"value": "-ViewportWidth(\"UI\")/2"
													}
												},
												{
													"id": "compare-x",
													"objectClass": "AnalogBase",
													"sid": 489883346071671,
													"parameters": {
														"comparison": 5,
														"x-co-ordinate": "-LayoutWidth/2"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 107099962742050,
													"parameters": {
														"variable": "pTouchX",
														"value": "Touch.X"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 911306029202457,
													"parameters": {
														"variable": "pTouchY",
														"value": "Touch.Y - scrolly + ViewportHeight(\"UI\")/2"
													}
												}
											],
											"sid": 611237236505771,
											"children": [
												{
													"eventType": "comment",
													"text": "Stick's X position."
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 965023085450532,
															"parameters": {
																"variable": "pTouchX",
																"comparison": 2,
																"value": "AnalogBase.X"
															}
														}
													],
													"actions": [
														{
															"id": "set-x",
															"objectClass": "AnalogStick",
															"sid": 928418804852899,
															"parameters": {
																"x": "max(pTouchX, AnalogBase.X + cos(angle(AnalogBase.X, AnalogBase.Y, pTouchX, pTouchY)) * AnalogBase.Width/2)"
															}
														}
													],
													"sid": 299985380673002
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 747780190395831
														},
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 488007863683665,
															"parameters": {
																"variable": "pTouchX",
																"comparison": 4,
																"value": "AnalogBase.X"
															}
														}
													],
													"actions": [
														{
															"id": "set-x",
															"objectClass": "AnalogStick",
															"sid": 679034591169356,
															"parameters": {
																"x": "min(pTouchX, AnalogBase.X + cos(angle(AnalogBase.X, AnalogBase.Y, pTouchX, pTouchY)) * AnalogBase.Width/2)"
															}
														}
													],
													"sid": 794956422818086
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 367510798240613
														}
													],
													"actions": [
														{
															"id": "set-x",
															"objectClass": "AnalogStick",
															"sid": 262400463788611,
															"parameters": {
																"x": "pTouchX"
															}
														}
													],
													"sid": 168927060613676
												},
												{
													"eventType": "comment",
													"text": "Stick's Y position."
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 469402807524638,
															"parameters": {
																"variable": "pTouchY",
																"comparison": 2,
																"value": "AnalogBase.Y"
															}
														}
													],
													"actions": [
														{
															"id": "set-y",
															"objectClass": "AnalogStick",
															"sid": 163432022678087,
															"parameters": {
																"y": "max(pTouchY, AnalogBase.Y + sin(angle(AnalogBase.X, AnalogBase.Y, pTouchX, pTouchY)) * AnalogBase.Height/2)"
															}
														}
													],
													"sid": 737045638104735
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 767490754052385
														},
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 442568949206568,
															"parameters": {
																"variable": "pTouchY",
																"comparison": 4,
																"value": "AnalogBase.Y"
															}
														}
													],
													"actions": [
														{
															"id": "set-y",
															"objectClass": "AnalogStick",
															"sid": 540608607660519,
															"parameters": {
																"y": "min(pTouchY, AnalogBase.Y + sin(angle(AnalogBase.X, AnalogBase.Y, pTouchX, pTouchY)) * AnalogBase.Height/2)"
															}
														}
													],
													"sid": 963782334363472
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 686966178259409
														}
													],
													"actions": [
														{
															"id": "set-y",
															"objectClass": "AnalogStick",
															"sid": 870335643583723,
															"parameters": {
																"y": "pTouchY"
															}
														}
													],
													"sid": 568691061883614
												},
												{
													"eventType": "comment",
													"text": "Set player's movement according to analog position."
												},
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 629867518146101,
															"parameters": {
																"variable": "Xaxis",
																"value": "(AnalogStick.X - AnalogBase.X) / (AnalogBase.Width / 2)"
															}
														}
													],
													"sid": 180488703080030
												}
											]
										},
										{
											"eventType": "comment",
											"text": "Remove analog from screen."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-nth-touch-end",
													"objectClass": "Touch",
													"sid": 790816817381976,
													"parameters": {
														"touch-number": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-position",
													"objectClass": "AnalogBase",
													"sid": 303563520239618,
													"parameters": {
														"x": "-10000",
														"y": "-10000"
													}
												},
												{
													"id": "set-position",
													"objectClass": "AnalogStick",
													"sid": 842948266940520,
													"parameters": {
														"x": "-10000",
														"y": "-10000"
													}
												}
											],
											"sid": 220554583592570
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Player is moving forward."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 321933314405326,
									"parameters": {
										"variable": "Xaxis",
										"comparison": 4,
										"value": "0.25"
									}
								}
							],
							"actions": [
								{
									"id": "accelerate",
									"objectClass": "Player",
									"sid": 811947219139947,
									"behaviorType": "Custom",
									"parameters": {
										"which": "horizontally",
										"acceleration": "Self.Custom.dx < 0 ? PLAYER_X_ACCELERATION * Xaxis : PLAYER_X_BRAKE * Xaxis"
									}
								}
							],
							"sid": 306348813379756
						},
						{
							"eventType": "comment",
							"text": "Player is moving backwards."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 970360743032526
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 551198679236024,
									"parameters": {
										"variable": "Xaxis",
										"comparison": 2,
										"value": "-0.25"
									}
								}
							],
							"actions": [
								{
									"id": "accelerate",
									"objectClass": "Player",
									"sid": 481358758538891,
									"behaviorType": "Custom",
									"parameters": {
										"which": "horizontally",
										"acceleration": "Self.Custom.dx > 0 ? PLAYER_X_ACCELERATION * Xaxis : PLAYER_X_BRAKE * Xaxis"
									}
								}
							],
							"sid": 533577725076001
						},
						{
							"eventType": "comment",
							"text": "Slowly go back to cruising speed if on the ground."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 524482467599513
								}
							],
							"actions": [],
							"sid": 177195223618919,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-speed",
											"objectClass": "Player",
											"sid": 557540634763578,
											"behaviorType": "Custom",
											"parameters": {
												"which": "horizontal",
												"comparison": 4,
												"speed": "100"
											}
										}
									],
									"actions": [
										{
											"id": "accelerate",
											"objectClass": "Player",
											"sid": 274663201057104,
											"behaviorType": "Custom",
											"parameters": {
												"which": "horizontally",
												"acceleration": "Player.BBoxBottom >= groundLevel ? -PLAYER_X_GROUND_DRAG : -PLAYER_X_AIRBORNE_DRAG"
											}
										}
									],
									"sid": 806561365848435
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 600854433881430
										},
										{
											"id": "compare-speed",
											"objectClass": "Player",
											"sid": 962367049429880,
											"behaviorType": "Custom",
											"parameters": {
												"which": "horizontal",
												"comparison": 2,
												"speed": "-100"
											}
										}
									],
									"actions": [
										{
											"id": "accelerate",
											"objectClass": "Player",
											"sid": 189891958576343,
											"behaviorType": "Custom",
											"parameters": {
												"which": "horizontally",
												"acceleration": "Player.BBoxBottom >= groundLevel ? PLAYER_X_GROUND_DRAG : PLAYER_X_AIRBORNE_DRAG"
											}
										}
									],
									"sid": 678014335900651
								},
								{
									"eventType": "comment",
									"text": "Perfect cruising speed."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 927486035411938
										}
									],
									"actions": [
										{
											"id": "set-speed",
											"objectClass": "Player",
											"sid": 526312285649842,
											"behaviorType": "Custom",
											"parameters": {
												"which": "horizontal",
												"speed": "0"
											}
										}
									],
									"sid": 339534157037214
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Limit maximum speed."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 872297154475536,
									"parameters": {
										"value": "abs(Player.Custom.dx) > PLAYER_MAX_X_SPEED"
									}
								}
							],
							"actions": [
								{
									"id": "set-speed",
									"objectClass": "Player",
									"sid": 249442591672085,
									"behaviorType": "Custom",
									"parameters": {
										"which": "horizontal",
										"speed": "sign(Self.Custom.dx) * PLAYER_MAX_X_SPEED"
									}
								}
							],
							"sid": 606463041514712
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 425887376215102,
									"parameters": {
										"variable": "windy"
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "Player",
									"sid": 931986285622921,
									"parameters": {
										"x": "Self.X - 400 * dt"
									}
								}
							],
							"sid": 950087700450088
						}
					],
					"sid": 404818346426216
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Player - Collision",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "If the player collides with an explosion, set player's speed accordingly."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Player",
									"sid": 221084805583620,
									"parameters": {
										"object": "Explosion"
									}
								}
							],
							"actions": [
								{
									"id": "set-y",
									"objectClass": "Player",
									"sid": 747651593023269,
									"parameters": {
										"y": "Self.Y - 20"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "Player",
									"sid": 854410369180159,
									"behaviorType": "Custom",
									"parameters": {
										"which": "horizontal",
										"speed": "(Player.X - Explosion.X)/Explosion.Width * Explosion.PowerX"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "Player",
									"sid": 150888415036228,
									"behaviorType": "Custom",
									"parameters": {
										"which": "vertical",
										"speed": "-1 * Explosion.PowerY"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Player",
									"sid": 404316938570816,
									"parameters": {
										"instance-variable": "rotSpeed",
										"value": "(Player.X - Explosion.X) * random(2, 5)"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "Player",
									"sid": 749440951309530,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.25",
										"type": "once",
										"tag": "\"Exploded\""
									}
								}
							],
							"sid": 498737981351567
						},
						{
							"eventType": "comment",
							"text": "If the player collides with a rock, set player's speed accordingly."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Player",
									"sid": 245617240256555,
									"parameters": {
										"object": "Obstacle"
									}
								}
							],
							"actions": [
								{
									"id": "set-y",
									"objectClass": "Player",
									"sid": 177514386465139,
									"parameters": {
										"y": "Self.Y - 20"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "Player",
									"sid": 513440841497518,
									"behaviorType": "Custom",
									"parameters": {
										"which": "horizontal",
										"speed": "(Player.X - Obstacle.X)/Obstacle.Width * 2000"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "Player",
									"sid": 975755592272289,
									"behaviorType": "Custom",
									"parameters": {
										"which": "vertical",
										"speed": "1500"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Player",
									"sid": 465726829361285,
									"parameters": {
										"instance-variable": "rotSpeed",
										"value": "(Player.X - Obstacle.X) * random(2, 5)"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "Player",
									"sid": 809684515560490,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.25",
										"type": "once",
										"tag": "\"Exploded\""
									}
								}
							],
							"sid": 604745562773113
						},
						{
							"eventType": "comment",
							"text": "If the player collides with an explosive entity, create an explosion."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Player",
									"sid": 592425667820185,
									"parameters": {
										"object": "Explosives"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 439945927766719,
									"parameters": {
										"object-to-create": "Explosion",
										"layer": "\"Effects\"",
										"x": "Explosives.X",
										"y": "Explosives.Y",
										"create-hierarchy": false,
										"template-name": "Explosives.ExplosionType"
									}
								},
								{
									"type": "comment",
									"text": "Play sound effect."
								},
								{
									"callFunction": "playSFX",
									"sid": 644757031548929,
									"parameters": [
										"\"Explosion\" & ((right(Explosives.explosionType, 1) = \"1\") ? 2 :  choose(0, 1))",
										"\"SFX\"",
										"0",
										"random(0.8, 1.25)"
									]
								}
							],
							"sid": 656658395800083,
							"children": [
								{
									"eventType": "comment",
									"text": "Add to player's score."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "Explosives",
											"sid": 165471274444232,
											"parameters": {
												"instance-variable": "addToScore"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 587180219292425,
											"parameters": {
												"variable": "currentLevel",
												"comparison": 1,
												"value": "5"
											}
										}
									],
									"actions": [],
									"sid": 192925300422875,
									"children": [
										{
											"eventType": "comment",
											"text": "If an entry for that explosive already exists, update its value."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "has-key",
													"objectClass": "DictCombo",
													"sid": 780805592976072,
													"parameters": {
														"key": "Explosives.ObjectTypeName"
													}
												}
											],
											"actions": [
												{
													"id": "set-key",
													"objectClass": "DictCombo",
													"sid": 362030175836678,
													"parameters": {
														"key": "Explosives.ObjectTypeName",
														"value": "Self.Get(Explosives.ObjectTypeName) + 1"
													}
												}
											],
											"sid": 607095879042550
										},
										{
											"eventType": "comment",
											"text": "Otherwise, create it and set its value to 1 (initial bounce off that explosive)."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 150989606912983
												}
											],
											"actions": [
												{
													"id": "add-key",
													"objectClass": "DictCombo",
													"sid": 544381358701806,
													"parameters": {
														"key": "Explosives.ObjectTypeName",
														"value": "1"
													}
												}
											],
											"sid": 944980241213119
										},
										{
											"eventType": "comment",
											"text": "Update combo text."
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"customAction": "Update Combo Text",
													"objectClass": "TextCombo",
													"sid": 109012422346901,
													"parameters": [
														true
													]
												}
											],
											"sid": 465304182100823
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Destroy explosive."
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "Explosives",
											"sid": 428994863198476
										}
									],
									"sid": 796731883349643
								}
							]
						},
						{
							"eventType": "comment",
							"text": "If the player collides with the boss, create an explosion."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Player",
									"sid": 176657602368030,
									"parameters": {
										"object": "Boss"
									}
								}
							],
							"actions": [
								{
									"customAction": "Hit",
									"objectClass": "Boss",
									"sid": 124822278806233
								}
							],
							"sid": 781261485188433
						},
						{
							"eventType": "comment",
							"text": "While the player is overlapping an abductor, slowly float up."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Player",
									"sid": 702833523278428,
									"parameters": {
										"object": "SaucerAbductor"
									}
								},
								{
									"id": "is-timer-running",
									"objectClass": "Player",
									"sid": 418748580654154,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"Exploded\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-speed",
									"objectClass": "Player",
									"sid": 357911230402382,
									"behaviorType": "Custom",
									"parameters": {
										"which": "vertical",
										"speed": "-250"
									}
								}
							],
							"sid": 425324265422251,
							"children": [
								{
									"eventType": "comment",
									"text": "Make the player slowly rotate (if not already rotating)."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 655834889183195,
											"parameters": {
												"instance-variable": "rotSpeed",
												"comparison": 2,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Player",
											"sid": 105455050162186,
											"parameters": {
												"instance-variable": "rotSpeed",
												"value": "min(Self.rotSpeed, -100)"
											}
										}
									],
									"sid": 756002172697413
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 518243582905887
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 414101255454542,
											"parameters": {
												"instance-variable": "rotSpeed",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Player",
											"sid": 304298375424282,
											"parameters": {
												"instance-variable": "rotSpeed",
												"value": "max(Self.rotSpeed, 100)"
											}
										}
									],
									"sid": 306439285811739
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 198076820876318
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Player",
											"sid": 735591652806192,
											"parameters": {
												"instance-variable": "rotSpeed",
												"value": "choose(-100, 100)"
											}
										}
									],
									"sid": 967977691535744
								}
							]
						}
					],
					"sid": 165674883911707
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Player - Animation",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Make player wheels rotate according to player's speed."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 582665366331030,
									"parameters": {
										"object": "PlayerWheel"
									}
								}
							],
							"actions": [
								{
									"id": "set-speed",
									"objectClass": "PlayerWheel",
									"sid": 209592270118042,
									"behaviorType": "Rotate",
									"parameters": {
										"speed": "clamp(Player.Custom.dx + 240, 160, 800)"
									}
								}
							],
							"sid": 605333465352468
						}
					],
					"sid": 377612463185011
				}
			],
			"sid": 174374672230123
		}
	],
	"sid": 331310359732793
}