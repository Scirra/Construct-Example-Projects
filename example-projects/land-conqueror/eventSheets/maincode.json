{
	"name": "MainCode",
	"events": [
		{
			"eventType": "comment",
			"text": "Made by Viridino Studios (@ViridinoStudios)\n\nMateus Ferreira - Programmer\nTwitter: @BonzerKitten\nE-mail: ferreiramoreiramateus@gmail.com\n\nWesley Andrade - Artist\nTwitter: @andrart7\nE-mail: wesleymatos1989@gmail.com\n\nMade with the support of patrons on https://www.patreon.com/viridinostudios"
		},
		{
			"eventType": "comment",
			"text": "Angle that points forward in an isometric view."
		},
		{
			"eventType": "variable",
			"name": "FORWARDANGLE",
			"type": "number",
			"initialValue": "-26.5650511771",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 437263888259929
		},
		{
			"eventType": "comment",
			"text": "Angle that points backward in an isometric view."
		},
		{
			"eventType": "variable",
			"name": "BACKWARDANGLE",
			"type": "number",
			"initialValue": "153.4349488229",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 999742520406798
		},
		{
			"eventType": "comment",
			"text": "Angle that points left in an isometric view."
		},
		{
			"eventType": "variable",
			"name": "LEFTANGLE",
			"type": "number",
			"initialValue": "-153.4349488229",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 287977929345906
		},
		{
			"eventType": "comment",
			"text": "Angle that points right in an isometric view."
		},
		{
			"eventType": "variable",
			"name": "RIGHTANGLE",
			"type": "number",
			"initialValue": "26.5650511771",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 477585611834582
		},
		{
			"eventType": "comment",
			"text": "Base distance between each block."
		},
		{
			"eventType": "variable",
			"name": "FIRSTCOLLISIONDISTANCE",
			"type": "number",
			"initialValue": "17.88854382",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 834837705016375
		},
		{
			"eventType": "comment",
			"text": "Vertical distance between each block for extra comparisons. "
		},
		{
			"eventType": "variable",
			"name": "SECONDCOLLISIONDISTANCE",
			"type": "number",
			"initialValue": "16",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 184023221391973
		},
		{
			"eventType": "comment",
			"text": "How long it takes for a character to perform a jump between two blocks."
		},
		{
			"eventType": "variable",
			"name": "ANIMATIONDURATION",
			"type": "number",
			"initialValue": "0.25",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 245229841755921
		},
		{
			"eventType": "comment",
			"text": "How high each block is in pixels."
		},
		{
			"eventType": "variable",
			"name": "BLOCKHEIGHT",
			"type": "number",
			"initialValue": "32",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 687092129661596
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Setup",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Setup the scene by starting a sequence of timers for each main loop in the game, like spawning skeletons and making them jump."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 723057961901263
						}
					],
					"actions": [
						{
							"id": "start-timer",
							"objectClass": "GameManager",
							"sid": 332017176487176,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "2",
								"type": "regular",
								"tag": "\"SkeletonSpawn\""
							}
						},
						{
							"id": "start-timer",
							"objectClass": "GameManager",
							"sid": 572112932931656,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "0.5",
								"type": "regular",
								"tag": "\"SkeletonJump\""
							}
						},
						{
							"id": "start-timer",
							"objectClass": "GameManager",
							"sid": 475705016505579,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "8",
								"type": "regular",
								"tag": "\"Thunder\""
							}
						},
						{
							"type": "comment",
							"text": "Paint the ground below the player."
						},
						{
							"callFunction": "PaintGround",
							"sid": 853762534243572,
							"parameters": [
								"Player.X",
								"Player.Y"
							]
						}
					],
					"sid": 782748876196648,
					"children": [
						{
							"eventType": "comment",
							"text": "Also paint the ground of any disabled solid object."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 874985380497912,
									"parameters": {
										"object": "Solid",
										"expression": "Solid.Enable",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [],
							"sid": 369570929276497,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 960687962795528,
											"parameters": {
												"object": "Solid"
											}
										}
									],
									"actions": [
										{
											"callFunction": "PaintGround",
											"sid": 250132262491714,
											"parameters": [
												"Solid.ImagePointX(\"Center\")",
												"Solid.ImagePointY(\"Center\")"
											]
										}
									],
									"sid": 676609144627739
								}
							]
						}
					]
				}
			],
			"sid": 322770847224611
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Controls",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Move the player left."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 821729340529347,
							"parameters": {
								"key": 37
							}
						},
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 807940499809005,
							"parameters": {
								"gamepad": "0",
								"button": "d-pad-left"
							}
						}
					],
					"actions": [
						{
							"callFunction": "MoveCharacterAtAngle",
							"sid": 512125211213847,
							"parameters": [
								"Player.UID",
								"LEFTANGLE",
								true,
								false,
								false
							]
						}
					],
					"sid": 735737564719390,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Move the player right."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 972069794892919,
							"parameters": {
								"key": 39
							}
						},
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 102024205557514,
							"parameters": {
								"gamepad": "0",
								"button": "d-pad-right"
							}
						}
					],
					"actions": [
						{
							"callFunction": "MoveCharacterAtAngle",
							"sid": 452992384227073,
							"parameters": [
								"Player.UID",
								"RIGHTANGLE",
								false,
								true,
								false
							]
						}
					],
					"sid": 676721158542654,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Move the player forward."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 723319007482204,
							"parameters": {
								"key": 38
							}
						},
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 138015841326469,
							"parameters": {
								"gamepad": "0",
								"button": "d-pad-up"
							}
						}
					],
					"actions": [
						{
							"callFunction": "MoveCharacterAtAngle",
							"sid": 494400994388887,
							"parameters": [
								"Player.UID",
								"FORWARDANGLE",
								true,
								false,
								false
							]
						}
					],
					"sid": 910939886678758,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Move the player backward."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 302792393415695,
							"parameters": {
								"key": 40
							}
						},
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 282600005614473,
							"parameters": {
								"gamepad": "0",
								"button": "d-pad-down"
							}
						}
					],
					"actions": [
						{
							"callFunction": "MoveCharacterAtAngle",
							"sid": 159880199845001,
							"parameters": [
								"Player.UID",
								"BACKWARDANGLE",
								false,
								true,
								false
							]
						}
					],
					"sid": 250328750893371,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Move a character in a specific direction, but only if it's not moving already. Checking if there's a block above or below or even and edge is also possible, but optional."
				},
				{
					"functionName": "MoveCharacterAtAngle",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "CharacterUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 141963652160798
						},
						{
							"name": "AngleOfMotion",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 109174382734157
						},
						{
							"name": "CheckAbove",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 909075585249788
						},
						{
							"name": "CheckBelow",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 755264070536106
						},
						{
							"name": "IgnoreEdges",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 779881090532926
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "CharacterMovement",
							"sid": 219385812135946,
							"parameters": {
								"unique-id": "CharacterUID"
							}
						}
					],
					"actions": [],
					"sid": 471686588591700,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-any-playing",
									"objectClass": "CharacterMovement",
									"sid": 705388076825452,
									"behaviorType": "Tween",
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 846604447060372,
							"children": [
								{
									"eventType": "comment",
									"text": "Initially prevent the character from falling off an edge."
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "CharacterMovement",
											"sid": 567103090619933,
											"parameters": {
												"instance-variable": "Fall",
												"value": "false"
											}
										}
									],
									"sid": 800374145157960
								},
								{
									"eventType": "comment",
									"text": "Check if there's a solid object in front of the character, based on its angle of motion."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 538142858948686,
											"parameters": {
												"object": "Solid",
												"expression": "Solid.ImagePointX(\"Center\")",
												"comparison": 0,
												"value": "round(CharacterMovement.X + cos(AngleOfMotion) * FIRSTCOLLISIONDISTANCE)"
											}
										},
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 207974810146266,
											"parameters": {
												"object": "Solid",
												"expression": "Solid.ImagePointY(\"Center\")",
												"comparison": 0,
												"value": "round(CharacterMovement.Y + sin(AngleOfMotion) * FIRSTCOLLISIONDISTANCE)"
											}
										}
									],
									"actions": [],
									"sid": 355535942095207,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 652981428478523,
													"parameters": {
														"first-value": "Solid.PickedCount",
														"comparison": 0,
														"second-value": "1"
													}
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "Solid",
													"sid": 242608847552735,
													"parameters": {
														"instance-variable": "Enable"
													}
												}
											],
											"actions": [
												{
													"callFunction": "ChangeCharacterDestination",
													"sid": 295186260698124,
													"parameters": [
														"CharacterMovement.UID",
														"round(CharacterMovement.X + cos(AngleOfMotion) * FIRSTCOLLISIONDISTANCE)",
														"round(CharacterMovement.Y + sin(AngleOfMotion) * FIRSTCOLLISIONDISTANCE)"
													]
												}
											],
											"sid": 341181646171501
										}
									]
								},
								{
									"eventType": "comment",
									"text": "If there's no solid object in front of the character, check if there's a solid object above the initially targeted position, also based on its angle of motion."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 245308125866514
										},
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 700154831127042,
											"parameters": {
												"variable": "CheckAbove"
											}
										},
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 137873124425966,
											"parameters": {
												"object": "Solid",
												"expression": "Solid.ImagePointX(\"Center\")",
												"comparison": 0,
												"value": "round(CharacterMovement.X + cos(AngleOfMotion) * FIRSTCOLLISIONDISTANCE)"
											}
										},
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 815272373525581,
											"parameters": {
												"object": "Solid",
												"expression": "Solid.ImagePointY(\"Center\")",
												"comparison": 0,
												"value": "round(CharacterMovement.Y + sin(AngleOfMotion) * FIRSTCOLLISIONDISTANCE - SECONDCOLLISIONDISTANCE)"
											}
										}
									],
									"actions": [],
									"sid": 924212162839319,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 135845084348480,
													"parameters": {
														"first-value": "Solid.PickedCount",
														"comparison": 0,
														"second-value": "1"
													}
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "Solid",
													"sid": 562686032589230,
													"parameters": {
														"instance-variable": "Enable"
													}
												}
											],
											"actions": [
												{
													"callFunction": "ChangeCharacterDestination",
													"sid": 343274048915943,
													"parameters": [
														"CharacterMovement.UID",
														"round(CharacterMovement.X + cos(AngleOfMotion) * FIRSTCOLLISIONDISTANCE)",
														"round(CharacterMovement.Y + sin(AngleOfMotion) * FIRSTCOLLISIONDISTANCE - SECONDCOLLISIONDISTANCE)"
													]
												}
											],
											"sid": 873201782519802
										}
									]
								},
								{
									"eventType": "comment",
									"text": "If there's no solid object in above the character, check if there's a solid object below the initially targeted position, also based on its angle of motion."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 205049705505321
										},
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 943684543719602,
											"parameters": {
												"variable": "CheckBelow"
											}
										},
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 355577340361241,
											"parameters": {
												"object": "Solid",
												"expression": "Solid.ImagePointX(\"Center\")",
												"comparison": 0,
												"value": "round(CharacterMovement.X + cos(AngleOfMotion) * FIRSTCOLLISIONDISTANCE)"
											}
										},
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 182561513972294,
											"parameters": {
												"object": "Solid",
												"expression": "Solid.ImagePointY(\"Center\")",
												"comparison": 0,
												"value": "round(CharacterMovement.Y + sin(AngleOfMotion) * FIRSTCOLLISIONDISTANCE + SECONDCOLLISIONDISTANCE)"
											}
										}
									],
									"actions": [],
									"sid": 756922871560718,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 138929154824952,
													"parameters": {
														"first-value": "Solid.PickedCount",
														"comparison": 0,
														"second-value": "1"
													}
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "Solid",
													"sid": 239368435624888,
													"parameters": {
														"instance-variable": "Enable"
													}
												}
											],
											"actions": [
												{
													"callFunction": "ChangeCharacterDestination",
													"sid": 300477296066936,
													"parameters": [
														"CharacterMovement.UID",
														"round(CharacterMovement.X + cos(AngleOfMotion) * FIRSTCOLLISIONDISTANCE)",
														"round(CharacterMovement.Y + sin(AngleOfMotion) * FIRSTCOLLISIONDISTANCE + SECONDCOLLISIONDISTANCE)"
													]
												}
											],
											"sid": 602071419194635
										}
									]
								},
								{
									"eventType": "comment",
									"text": "If there's no solid object at all and the character has the \"IgnoreEdges\" option set to on, make the player jump off the map and eventually die."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 699891236360134
										},
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 692421270778647,
											"parameters": {
												"variable": "IgnoreEdges"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "Solid",
											"sid": 951410658524669,
											"parameters": {
												"instance-variable": "Enable"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "CharacterMovement",
											"sid": 860283483124256,
											"parameters": {
												"instance-variable": "Fall",
												"value": "true"
											}
										},
										{
											"callFunction": "ChangeCharacterDestination",
											"sid": 911816020471782,
											"parameters": [
												"CharacterMovement.UID",
												"round(CharacterMovement.X + cos(AngleOfMotion) * FIRSTCOLLISIONDISTANCE)",
												"round(CharacterMovement.Y + sin(AngleOfMotion) * FIRSTCOLLISIONDISTANCE)"
											]
										}
									],
									"sid": 169262010573947
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Change the destination of a specific character and then move it towards that destination."
				},
				{
					"functionName": "ChangeCharacterDestination",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "CharacterUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 954475269211635
						},
						{
							"name": "NewDestinationX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 324077106100535
						},
						{
							"name": "NewDestinationY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 863119711741374
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "CharacterMovement",
							"sid": 687740213019567,
							"parameters": {
								"unique-id": "CharacterUID"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "CharacterMovement",
							"sid": 859421023856805,
							"parameters": {
								"instance-variable": "DestinationX",
								"value": "NewDestinationX"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "CharacterMovement",
							"sid": 486823808640581,
							"parameters": {
								"instance-variable": "DestinationY",
								"value": "NewDestinationY"
							}
						},
						{
							"type": "comment",
							"text": "Move the character up, so it look like it's performing a jump animation."
						},
						{
							"id": "tween-one-property",
							"objectClass": "CharacterMovement",
							"sid": 824481147708042,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"VerticalUp\"",
								"property": "offsetY",
								"end-value": "((Self.Y + Self.DestinationY) / 2) - (BLOCKHEIGHT / 2)",
								"time": "ANIMATIONDURATION / 2",
								"ease": "easeoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "CharacterMovement",
							"sid": 286539175787615,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Horizontal\"",
								"property": "offsetX",
								"end-value": "Self.DestinationX",
								"time": "ANIMATIONDURATION",
								"ease": "easeinoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 531808199904259,
					"children": [
						{
							"eventType": "comment",
							"text": "Mirror the character depending on its horizontal movement direction."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 468276592546504,
									"parameters": {
										"first-value": "CharacterMovement.X",
										"comparison": 4,
										"second-value": "CharacterMovement.DestinationX"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "CharacterMovement",
									"sid": 567848711656800,
									"parameters": {
										"state": "mirrored"
									}
								}
							],
							"sid": 596768712714191
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 635077273318290
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 173278684104380,
									"parameters": {
										"first-value": "CharacterMovement.X",
										"comparison": 2,
										"second-value": "CharacterMovement.DestinationX"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "CharacterMovement",
									"sid": 654550259679437,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 433668145837750
						},
						{
							"eventType": "comment",
							"text": "Display the character's front or back depending on its vertical movement direction."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 222013495832463,
									"parameters": {
										"first-value": "CharacterMovement.Y",
										"comparison": 4,
										"second-value": "CharacterMovement.DestinationY"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "CharacterMovement",
									"sid": 470969410818234,
									"parameters": {
										"animation": "\"JumpBack\"",
										"from": "beginning"
									}
								}
							],
							"sid": 154284126294059
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 709996978785795
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 840437289868009,
									"parameters": {
										"first-value": "CharacterMovement.Y",
										"comparison": 2,
										"second-value": "CharacterMovement.DestinationY"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "CharacterMovement",
									"sid": 821676507977479,
									"parameters": {
										"animation": "\"JumpFront\"",
										"from": "beginning"
									}
								}
							],
							"sid": 832651477875134
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Once the character is high enough, move it down, so it look like it's performing a land animation."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "CharacterMovement",
							"sid": 553425638667781,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"VerticalUp\""
							}
						}
					],
					"actions": [
						{
							"id": "tween-one-property",
							"objectClass": "CharacterMovement",
							"sid": 985193876758733,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"VerticalDown\"",
								"property": "offsetY",
								"end-value": "Self.DestinationY",
								"time": "ANIMATIONDURATION / 2",
								"ease": "easeinsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 128635577797235
				},
				{
					"eventType": "comment",
					"text": "When the character lands, check it should fall and be destroyed or simply start an idle animation, while also painting the ground below it."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "CharacterMovement",
							"sid": 965918055654677,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"VerticalDown\""
							}
						}
					],
					"actions": [],
					"sid": 628434658131869,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "CharacterMovement",
									"sid": 781601216102089,
									"parameters": {
										"instance-variable": "Fall"
									}
								}
							],
							"actions": [
								{
									"callFunction": "DestroyCharacter",
									"sid": 801642608775428,
									"parameters": [
										"CharacterMovement.UID"
									]
								}
							],
							"sid": 866515782625813
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 491879030175900
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "CharacterMovement",
									"sid": 165077121801274,
									"parameters": {
										"instance-variable": "Fall"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 538368343248174,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "CharacterMovement",
											"sid": 115976346617968,
											"parameters": {
												"animation": "\"JumpFront\""
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "CharacterMovement",
											"sid": 681610560876659,
											"parameters": {
												"animation": "\"IdleFront\"",
												"from": "beginning"
											}
										}
									],
									"sid": 236222362462277
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "CharacterMovement",
											"sid": 995037844776517,
											"parameters": {
												"animation": "\"JumpBack\""
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "CharacterMovement",
											"sid": 999162558025927,
											"parameters": {
												"animation": "\"IdleBack\"",
												"from": "beginning"
											}
										}
									],
									"sid": 231018444140598
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 319496076144235,
											"parameters": {
												"first-value": "CharacterMovement.ObjectTypeName",
												"comparison": 0,
												"second-value": "\"Player\""
											}
										}
									],
									"actions": [],
									"sid": 512439598034113,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-overlapping-another-object",
													"objectClass": "Player",
													"sid": 347620684337365,
													"parameters": {
														"object": "Solid"
													}
												}
											],
											"actions": [
												{
													"callFunction": "PaintGround",
													"sid": 378615450311464,
													"parameters": [
														"Player.X",
														"Player.Y"
													]
												},
												{
													"callFunction": "CheckLevelProgress",
													"sid": 402114048792323
												}
											],
											"sid": 735897389114821
										}
									]
								}
							]
						}
					]
				}
			],
			"sid": 778459807502906
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Progress",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Pick and paint the solid object below the character, but only show most of the visual effects if hasn't been painted yet."
				},
				{
					"functionName": "PaintGround",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "GroundX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 890546935679846
						},
						{
							"name": "GroundY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 546281751156018
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 540478083403513,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 980425246093668,
									"parameters": {
										"object": "Solid",
										"expression": "round(Solid.ImagePointX(\"Center\"))",
										"comparison": 0,
										"value": "round(GroundX)"
									}
								},
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 955095103763234,
									"parameters": {
										"object": "Solid",
										"expression": "round(Solid.ImagePointY(\"Center\"))",
										"comparison": 0,
										"value": "round(GroundY)"
									}
								}
							],
							"actions": [],
							"sid": 211102578282166,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 592271133190959,
											"parameters": {
												"first-value": "Solid.PickedCount",
												"comparison": 0,
												"second-value": "1"
											}
										}
									],
									"actions": [],
									"sid": 280115433513594,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "Solid",
													"sid": 629329565855312,
													"parameters": {
														"animation": "tokenat(Self.AnimationName, 0, \"_\")&\"_Off\""
													}
												}
											],
											"actions": [
												{
													"callFunction": "SpawnText",
													"sid": 205024372008811,
													"parameters": [
														"Player.ImagePointX(\"Score\")",
														"Player.ImagePointY(\"Score\")",
														"\"+10\""
													]
												},
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 431453541468731,
													"parameters": {
														"object-to-create": "Flash",
														"layer": "\"Characters\"",
														"x": "Solid.ImagePointX(\"Center\")",
														"y": "Solid.ImagePointY(\"Center\")",
														"create-hierarchy": false
													}
												}
											],
											"sid": 957029666605557
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "Solid",
													"sid": 985495825406978,
													"parameters": {
														"animation": "tokenat(Self.AnimationName, 0, \"_\")&\"_On\"",
														"from": "beginning"
													}
												}
											],
											"sid": 851651947779739
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Check whether or not the level has been complete, by calculating how solid objects has been painted."
				},
				{
					"functionName": "CheckLevelProgress",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 945866276684094,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 295842489981385,
									"parameters": {
										"object": "Solid",
										"expression": "Solid.AnimationName",
										"comparison": 0,
										"value": "tokenat(Solid.AnimationName, 0, \"_\")&\"_On\""
									}
								}
							],
							"actions": [],
							"sid": 715487895424461,
							"children": [
								{
									"eventType": "comment",
									"text": "If the level is complete, stop spawning skeletons and destroy the remaining ones."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 357434053906086,
											"parameters": {
												"first-value": "Solid.PickedCount",
												"comparison": 0,
												"second-value": "Solid.Count"
											}
										}
									],
									"actions": [
										{
											"id": "stop-timer",
											"objectClass": "GameManager",
											"sid": 238240434834735,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"SkeletonSpawn\""
											}
										},
										{
											"id": "stop-timer",
											"objectClass": "GameManager",
											"sid": 113531597174018,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"SkeletonJump\""
											}
										}
									],
									"sid": 446090329817393,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 461163102434938,
													"parameters": {
														"object": "Skeleton"
													}
												}
											],
											"actions": [
												{
													"callFunction": "DestroyCharacter",
													"sid": 888218046780001,
													"parameters": [
														"Skeleton.UID"
													]
												}
											],
											"sid": 160433775431892
										}
									]
								}
							]
						}
					]
				}
			],
			"sid": 126566832550470
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Skeleton",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Spawn a skeleton on a random solid object that is marked as a spawn point for enemies."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "GameManager",
							"sid": 323387337506731,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"SkeletonSpawn\""
							}
						}
					],
					"actions": [],
					"sid": 188297117113492,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 450398176342153,
									"parameters": {
										"object": "Solid",
										"expression": "Solid.SpawnEnemy",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [],
							"sid": 125625157406169,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-random-instance",
											"objectClass": "System",
											"sid": 335903863395086,
											"parameters": {
												"object": "Solid"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 140542798375917,
											"parameters": {
												"object-to-create": "Skeleton",
												"layer": "\"Characters\"",
												"x": "Solid.ImagePointX(\"Center\")",
												"y": "Solid.ImagePointY(\"Center\")",
												"create-hierarchy": false
											}
										},
										{
											"callFunction": "SpawnExplosion",
											"sid": 182093698414656,
											"parameters": [
												"Skeleton.ImagePointX(\"Center\")",
												"Skeleton.ImagePointY(\"Center\")"
											]
										}
									],
									"sid": 342249407568842
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Choose a random direction for each skeleton in the scene, then make them jump based on that direction."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "GameManager",
							"sid": 918095167904787,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"SkeletonJump\""
							}
						}
					],
					"actions": [],
					"sid": 583642517497927,
					"children": [
						{
							"eventType": "variable",
							"name": "NextDirection",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 181134982671730
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 199080791992839,
									"parameters": {
										"object": "Skeleton"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 785559706801932,
									"parameters": {
										"variable": "NextDirection",
										"value": "choose(0 ,1)"
									}
								}
							],
							"sid": 743801379178486,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 729590920279358,
											"parameters": {
												"first-value": "NextDirection",
												"comparison": 0,
												"second-value": "0"
											}
										}
									],
									"actions": [
										{
											"callFunction": "MoveCharacterAtAngle",
											"sid": 137872212517234,
											"parameters": [
												"Skeleton.UID",
												"RIGHTANGLE",
												false,
												true,
												true
											]
										}
									],
									"sid": 298621193457191
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 607005982355626,
											"parameters": {
												"first-value": "NextDirection",
												"comparison": 0,
												"second-value": "1"
											}
										}
									],
									"actions": [
										{
											"callFunction": "MoveCharacterAtAngle",
											"sid": 608263246697427,
											"parameters": [
												"Skeleton.UID",
												"BACKWARDANGLE",
												false,
												true,
												true
											]
										}
									],
									"sid": 507926917244040
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "If the player collides with a skeleton while both of them are in the air, consider it a parry, so the player don't take any damage."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Player",
							"sid": 140272188001827,
							"parameters": {
								"object": "Skeleton"
							}
						}
					],
					"actions": [],
					"sid": 338704397622300,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-any-playing",
									"objectClass": "Player",
									"sid": 726322307576726,
									"behaviorType": "Tween"
								},
								{
									"id": "is-any-playing",
									"objectClass": "Skeleton",
									"sid": 284314721910654,
									"behaviorType": "Tween"
								}
							],
							"actions": [],
							"sid": 244977739934455,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 862312514085064
										}
									],
									"actions": [
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 998622173868038,
											"parameters": {
												"type": "log",
												"message": "\"Parry!\""
											}
										}
									],
									"sid": 978131248021958
								}
							]
						},
						{
							"eventType": "comment",
							"text": "However, if both of them land on them same block, restart the game. It's game over."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 564284202759759
								},
								{
									"id": "is-any-playing",
									"objectClass": "Player",
									"sid": 916571379221414,
									"behaviorType": "Tween",
									"isInverted": true
								},
								{
									"id": "is-any-playing",
									"objectClass": "Skeleton",
									"sid": 217548534866730,
									"behaviorType": "Tween",
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 121026231435505,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 830433029747704
										}
									],
									"actions": [
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 690740413401850,
											"parameters": {
												"type": "log",
												"message": "\"Damage!\""
											}
										},
										{
											"id": "restart-layout",
											"objectClass": "System",
											"sid": 530130299321752
										}
									],
									"sid": 850057878189722
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Destroy a specific character and display a few visual effects depending on its object type name."
				},
				{
					"functionName": "DestroyCharacter",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "CharacterUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 639632805598050
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "CharacterMovement",
							"sid": 458685291846187,
							"parameters": {
								"unique-id": "CharacterUID"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "CharacterMovement",
							"sid": 726297011649104
						}
					],
					"sid": 987368302517575,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 451036134708647,
									"parameters": {
										"first-value": "CharacterMovement.ObjectTypeName",
										"comparison": 0,
										"second-value": "\"Player\""
									}
								}
							],
							"actions": [
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 119727417107192,
									"parameters": {
										"type": "log",
										"message": "\"Player destroyed.\""
									}
								}
							],
							"sid": 459630899423137
						},
						{
							"eventType": "comment",
							"text": "If the character is a skeleton, spawn a few flying bones and an explosion."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 172772796057831
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 571368663060650,
									"parameters": {
										"first-value": "CharacterMovement.ObjectTypeName",
										"comparison": 0,
										"second-value": "\"Skeleton\""
									}
								}
							],
							"actions": [
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 831755480433739,
									"parameters": {
										"type": "log",
										"message": "\"Skeleton destroyed.\""
									}
								}
							],
							"sid": 456782595286244,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 193036620610830,
											"parameters": {
												"count": "4"
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "CharacterMovement",
											"sid": 253313693294490,
											"parameters": {
												"object": "Bone",
												"layer": "\"Effects\"",
												"image-point": "0",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-angle-of-motion",
											"objectClass": "Bone",
											"sid": 863536183323044,
											"behaviorType": "Bullet",
											"parameters": {
												"angle": "random(240, 300)"
											}
										},
										{
											"id": "set-speed",
											"objectClass": "Bone",
											"sid": 725828784412920,
											"behaviorType": "Bullet",
											"parameters": {
												"speed": "random(64, 192)"
											}
										},
										{
											"id": "set-speed",
											"objectClass": "Bone",
											"sid": 786094866017410,
											"behaviorType": "Rotate",
											"parameters": {
												"speed": "random(-360, 360)"
											}
										}
									],
									"sid": 494444637691980
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"callFunction": "SpawnExplosion",
											"sid": 925806334795689,
											"parameters": [
												"CharacterMovement.ImagePointX(\"Center\")",
												"CharacterMovement.ImagePointY(\"Center\")"
											]
										}
									],
									"sid": 424752838376347
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Once a bone has traveled more than 1024 pixels, destroy it, since it's probably outside the screen and won't be used anymore."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-distance-travelled",
							"objectClass": "Bone",
							"sid": 781305230506141,
							"behaviorType": "Bullet",
							"parameters": {
								"comparison": 5,
								"distance": "1024"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Bone",
							"sid": 476103371127935
						}
					],
					"sid": 633890548545681
				},
				{
					"eventType": "comment",
					"text": "Leave a trail effect behind a skeleton while it's moving."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-any-playing",
							"objectClass": "Skeleton",
							"sid": 435622585690521,
							"behaviorType": "Tween"
						}
					],
					"actions": [],
					"sid": 447521527241850,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 604464698668258,
									"parameters": {
										"interval-seconds": "0.05"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "Skeleton",
									"sid": 297606800125800,
									"parameters": {
										"object": "SkeletonTrail",
										"layer": "\"Effects\"",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-width",
									"objectClass": "SkeletonTrail",
									"sid": 448451036168945,
									"parameters": {
										"width": "Skeleton.Width"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "SkeletonTrail",
									"sid": 248770258853560,
									"parameters": {
										"animation": "Skeleton.AnimationName",
										"from": "beginning"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "SkeletonTrail",
									"sid": 261610472896032,
									"parameters": {
										"frame-number": "Skeleton.AnimationFrame"
									}
								}
							],
							"sid": 148546923459344
						}
					]
				}
			],
			"sid": 936201771717829
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "HUD",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Spawn an animated text object that will be destroyed after about a second."
				},
				{
					"functionName": "SpawnText",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "PositionX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 921144551785203
						},
						{
							"name": "PositionY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 698609722619382
						},
						{
							"name": "Text",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 240736211486736
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 648079102124775,
							"parameters": {
								"object-to-create": "TextFont",
								"layer": "\"HUD\"",
								"x": "PositionX",
								"y": "PositionY",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-text",
							"objectClass": "TextFont",
							"sid": 382766796851829,
							"parameters": {
								"text": "Text"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "TextFont",
							"sid": 514683728988812,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"SelfDestroy\"",
								"property": "offsetY",
								"end-value": "Self.Y - 16",
								"time": "0.5",
								"ease": "easeoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 205518853132163
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "TextFont",
							"sid": 225005515038533,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"SelfDestroy\""
							}
						}
					],
					"actions": [
						{
							"id": "flash",
							"objectClass": "TextFont",
							"sid": 816342935098397,
							"behaviorType": "Flash",
							"parameters": {
								"on-time": "0.05",
								"off-time": "0.05",
								"duration": "0.3"
							}
						}
					],
					"sid": 838494517602188
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-flash-ended",
							"objectClass": "TextFont",
							"sid": 473546188239203,
							"behaviorType": "Flash"
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "TextFont",
							"sid": 547871935235197
						}
					],
					"sid": 184477617948277
				}
			],
			"sid": 369691736851502
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Rain",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 191171024726365,
							"parameters": {
								"interval-seconds": "0.1"
							}
						}
					],
					"actions": [],
					"sid": 124682620772190,
					"children": [
						{
							"eventType": "comment",
							"text": "Create four rain drops that will cross the screen and never land."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 991183013274197,
									"parameters": {
										"count": "4"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 431146528515390,
									"parameters": {
										"object-to-create": "RainDrop",
										"layer": "\"Characters\"",
										"x": "random(0, LayoutWidth) + cos(260) * 1024",
										"y": "random(0, LayoutHeight) + sin(260) * 1024",
										"create-hierarchy": false
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "RainDrop",
									"sid": 861325166119836,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"OutsideBlock\"",
										"property": "position",
										"end-x": "Self.X + cos(80) * 2048",
										"end-y": "Self.Y + sin(80) * 2048",
										"time": "4",
										"ease": "default",
										"destroy-on-complete": "yes",
										"loop": "no",
										"ping-pong": "no"
									}
								}
							],
							"sid": 678609032788841
						},
						{
							"eventType": "comment",
							"text": "Create a single rain drop that will land on a random solid object and display a small water splash effect."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-random-instance",
									"objectClass": "System",
									"sid": 786746027812785,
									"parameters": {
										"object": "Solid"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 584270311800020,
									"parameters": {
										"object-to-create": "RainDrop",
										"layer": "\"Characters\"",
										"x": "Solid.ImagePointX(\"Center\") + cos(260) * 1024",
										"y": "Solid.ImagePointY(\"Center\") + sin(260) * 1024",
										"create-hierarchy": false
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "RainDrop",
									"sid": 468634793327850,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"InsideBlock\"",
										"property": "position",
										"end-x": "Self.X + cos(80) * 1024",
										"end-y": "Self.Y + sin(80) * 1024",
										"time": "2",
										"ease": "default",
										"destroy-on-complete": "yes",
										"loop": "no",
										"ping-pong": "no"
									}
								}
							],
							"sid": 577262531169652
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "RainDrop",
							"sid": 922447570718469,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"InsideBlock\""
							}
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "RainDrop",
							"sid": 403147728834147,
							"parameters": {
								"object": "Splash",
								"layer": "\"Rain\"",
								"image-point": "0",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-angle",
							"objectClass": "Splash",
							"sid": 917637447964964,
							"parameters": {
								"angle": "270"
							}
						}
					],
					"sid": 942490268897814
				},
				{
					"eventType": "comment",
					"text": "Display an impactful thunder effect by changing the scene luminosity to very high value and then gradually lowering it back to normal."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "GameManager",
							"sid": 205665525781964,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Thunder\""
							}
						}
					],
					"actions": [
						{
							"id": "tween-value",
							"objectClass": "GameManager",
							"sid": 694289337735668,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Thunder\"",
								"start-value": "200",
								"end-value": "100",
								"time": "0.25",
								"ease": "default",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 398583955018563
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing",
							"objectClass": "GameManager",
							"sid": 666878468680994,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Thunder\""
							}
						}
					],
					"actions": [
						{
							"id": "set-layout-effect-parameter",
							"objectClass": "System",
							"sid": 401852862451106,
							"parameters": {
								"effect": "\"AdjustHSL\"",
								"parameter-index": "2",
								"value": "GameManager.Tween.Value(\"Thunder\")"
							}
						}
					],
					"sid": 619780858531615
				}
			],
			"sid": 348000238407985
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Explosion",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Spawn an explosion effect and some sparkles in a specific position."
				},
				{
					"functionName": "SpawnExplosion",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "PositionX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 300011410491751
						},
						{
							"name": "PositionY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 489465871640239
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 777871377570430,
							"parameters": {
								"object-to-create": "Explosion",
								"layer": "\"Effects\"",
								"x": "PositionX",
								"y": "PositionY",
								"create-hierarchy": false
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 488769543239676,
							"parameters": {
								"object-to-create": "Sparkles",
								"layer": "\"Effects\"",
								"x": "PositionX",
								"y": "PositionY",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-angle",
							"objectClass": "Sparkles",
							"sid": 448023494519258,
							"parameters": {
								"angle": "270"
							}
						}
					],
					"sid": 344349703439872
				}
			],
			"sid": 376461367243366
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Background",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Constantly offset the background, so it look like the level is moving up."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 622613674353999
						}
					],
					"actions": [
						{
							"id": "set-image-offset-y",
							"objectClass": "Sky",
							"sid": 571876971989281,
							"parameters": {
								"offset-y": "Self.ImageOffsetY + 0.25 * 60 * dt"
							}
						}
					],
					"sid": 465601396075099
				}
			],
			"sid": 993865318057768
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Camera",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Constantly move the camera towards the middle point between the player position and the level center position, so all important elements are always visible."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 303639303377271
						}
					],
					"actions": [
						{
							"id": "scroll-to-position",
							"objectClass": "System",
							"sid": 865836860926303,
							"parameters": {
								"x": "lerp(scrollx, (Player.X + 320) / 2, 0.1 * 60 * dt)",
								"y": "lerp(scrolly, (Player.Y + 180) / 2, 0.1 * 60 * dt)"
							}
						}
					],
					"sid": 219427337056243
				}
			],
			"sid": 764860458295859
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "ZOrder",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Constantly update the Z order of all objects in the family, so they're properly displayed."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 761526511064991
						}
					],
					"actions": [],
					"sid": 824260540872858,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 888086564265045,
									"parameters": {
										"object": "ZOrder"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "ZOrder",
									"sid": 448232493930395,
									"parameters": {
										"instance-variable": "ZOrder",
										"value": "Self.ImagePointY(\"Bottom\")"
									}
								}
							],
							"sid": 169872565975740
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "sort-z-order",
									"objectClass": "System",
									"sid": 887783390779323,
									"parameters": {
										"object": "ZOrder",
										"instance-variable": {
											"name": "ZOrder",
											"objectClass": "ZOrder"
										}
									}
								}
							],
							"sid": 112113014389498
						}
					]
				}
			],
			"sid": 591783834320039
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Debug",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Restart the game, for testing purposes."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 931829259386763,
							"parameters": {
								"key": 82
							}
						}
					],
					"actions": [
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 924996419077238
						}
					],
					"sid": 334653968104655
				}
			],
			"sid": 504752779795888
		}
	],
	"sid": 837527998346163
}