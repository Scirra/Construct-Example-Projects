{
	"name": "MainCode",
	"events": [
		{
			"eventType": "comment",
			"text": "Made by Viridino Studios (@ViridinoStudios)\n\nMateus Ferreira - Programmer\nTwitter: @BonzerKitten\nE-mail: ferreiramoreiramateus@gmail.com\n\nWesley Andrade - Artist\nTwitter: @andrart7\nE-mail: wesleymatos1989@gmail.com\n\nMade with the support of patrons on https://www.patreon.com/viridinostudios"
		},
		{
			"eventType": "comment",
			"text": "The amount of ammo the player is carrying."
		},
		{
			"eventType": "variable",
			"name": "Ammo",
			"type": "number",
			"initialValue": "10",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 402873051638427
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Player",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "PlayerSetup",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Wait five seconds before removing the on-screen tutorial from the game screen."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-start-of-layout",
									"objectClass": "System",
									"sid": 794299664129629
								}
							],
							"actions": [
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 466388293601053,
									"parameters": {
										"seconds": "5"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "Tutorial",
									"sid": 236888850241273,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"SelfDestroy\"",
										"property": "offsetY",
										"end-value": "Self.Y + 128",
										"time": "1",
										"ease": "easeinsine",
										"destroy-on-complete": "yes",
										"loop": "no",
										"ping-pong": "no"
									}
								}
							],
							"sid": 247539703527082
						},
						{
							"eventType": "comment",
							"text": "Setup the player graphics by adding it as a child of its collider, so they always stay together."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-created",
									"objectClass": "PlayerGraphics",
									"sid": 294758582531102
								}
							],
							"actions": [
								{
									"id": "add-child",
									"objectClass": "PlayerCollision",
									"sid": 278401712737962,
									"parameters": {
										"child": "PlayerGraphics",
										"transform-x": true,
										"transform-y": true,
										"transform-w": false,
										"transform-h": false,
										"transform-a": false,
										"transform-z-elevation": false,
										"destroy-with-parent": true
									}
								}
							],
							"sid": 794340036163497
						}
					],
					"sid": 906108557481088
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "PlayerControls",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Move the player left."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 619477339508828,
									"parameters": {
										"key": 37
									}
								},
								{
									"id": "is-button-down",
									"objectClass": "Gamepad",
									"sid": 873425901348353,
									"parameters": {
										"gamepad": "0",
										"button": "d-pad-left"
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "PlayerCollision",
									"sid": 480548010720249,
									"behaviorType": "Platform",
									"parameters": {
										"control": "left"
									}
								}
							],
							"sid": 337044457599346,
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "Move the player right."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 464692747610994,
									"parameters": {
										"key": 39
									}
								},
								{
									"id": "is-button-down",
									"objectClass": "Gamepad",
									"sid": 184239674159854,
									"parameters": {
										"gamepad": "0",
										"button": "d-pad-right"
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "PlayerCollision",
									"sid": 342053572838971,
									"behaviorType": "Platform",
									"parameters": {
										"control": "right"
									}
								}
							],
							"sid": 633023676766025,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 340748747895052,
									"parameters": {
										"key": 32
									}
								},
								{
									"id": "on-button-pressed",
									"objectClass": "Gamepad",
									"sid": 647067633584110,
									"parameters": {
										"gamepad": "0",
										"button": "button-a"
									}
								}
							],
							"actions": [],
							"sid": 126529385817065,
							"children": [
								{
									"eventType": "comment",
									"text": "Make the player jump if it's on the floor."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-on-floor",
											"objectClass": "PlayerCollision",
											"sid": 841392866910673,
											"behaviorType": "Platform"
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "PlayerCollision",
											"sid": 770154447360436,
											"behaviorType": "Platform",
											"parameters": {
												"control": "jump"
											}
										}
									],
									"sid": 654040966011235
								},
								{
									"eventType": "comment",
									"text": "However, if the player isn't on the floor, shoot downwards and reduce maximum speed."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 121987837251132
										},
										{
											"id": "is-on-floor",
											"objectClass": "PlayerCollision",
											"sid": 568271977028453,
											"behaviorType": "Platform",
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "start-timer",
											"objectClass": "PlayerCollision",
											"sid": 351255024584251,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "0.1",
												"type": "regular",
												"tag": "\"Shoot\""
											}
										},
										{
											"id": "set-max-speed",
											"objectClass": "PlayerCollision",
											"sid": 785379038592623,
											"behaviorType": "Platform",
											"parameters": {
												"max-speed": "64"
											}
										},
										{
											"callFunction": "ShootGunBoot",
											"sid": 877902317890466
										}
									],
									"sid": 614558461440894
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "Stop shooting and restore the maximum speed to its original value."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-released",
									"objectClass": "Keyboard",
									"sid": 404907803302425,
									"parameters": {
										"key": 32
									}
								},
								{
									"id": "on-button-released",
									"objectClass": "Gamepad",
									"sid": 172155870125868,
									"parameters": {
										"gamepad": "0",
										"button": "button-a"
									}
								}
							],
							"actions": [
								{
									"id": "stop-timer",
									"objectClass": "PlayerCollision",
									"sid": 364362046259362,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"Shoot\""
									}
								},
								{
									"id": "set-max-speed",
									"objectClass": "PlayerCollision",
									"sid": 681012589686971,
									"behaviorType": "Platform",
									"parameters": {
										"max-speed": "128"
									}
								}
							],
							"sid": 635759649281505,
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "If the player lands on the floor, stop shooting and restore the maximum speed to its original value."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-landed",
									"objectClass": "PlayerCollision",
									"sid": 395011271561482,
									"behaviorType": "Platform"
								}
							],
							"actions": [
								{
									"id": "stop-timer",
									"objectClass": "PlayerCollision",
									"sid": 199290510184909,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"Shoot\""
									}
								},
								{
									"id": "set-max-speed",
									"objectClass": "PlayerCollision",
									"sid": 969201203734066,
									"behaviorType": "Platform",
									"parameters": {
										"max-speed": "128"
									}
								}
							],
							"sid": 964333055046413,
							"children": [
								{
									"eventType": "comment",
									"text": "Also, if the ammo is not full, fill it and flash the player sprite."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 332451071834832,
											"parameters": {
												"variable": "Ammo",
												"comparison": 2,
												"value": "10"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 127098194340205,
											"parameters": {
												"variable": "Ammo",
												"value": "10"
											}
										},
										{
											"id": "tween-value",
											"objectClass": "PlayerGraphics",
											"sid": 241314321080428,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"Flash\"",
												"start-value": "200",
												"end-value": "100",
												"time": "0.25",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no"
											}
										},
										{
											"type": "comment",
											"text": "Also update the HUD to display the correct ammo counter."
										},
										{
											"callFunction": "UpdateHUD",
											"sid": 970979148967573
										}
									],
									"sid": 883261646236839
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Constantly update the player luminosity if the flash effect is being played."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-playing",
									"objectClass": "PlayerGraphics",
									"sid": 945148970552478,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"Flash\""
									}
								}
							],
							"actions": [
								{
									"id": "set-effect-parameter",
									"objectClass": "PlayerGraphics",
									"sid": 541245712503413,
									"parameters": {
										"effect": "\"AdjustHSL\"",
										"parameter-index": "2",
										"value": "Self.Tween.Value(\"Flash\")"
									}
								}
							],
							"sid": 748657755392439
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "PlayerCollision",
									"sid": 992738520554905,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"Shoot\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "ShootGunBoot",
									"sid": 455927433137573
								}
							],
							"sid": 354805995167864
						},
						{
							"eventType": "comment",
							"text": "Shoot a bullet from the gun boot, but only if there's enough ammo left."
						},
						{
							"functionName": "ShootGunBoot",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 153797461160742,
									"parameters": {
										"variable": "Ammo",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Reduce the amount of ammo left."
								},
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 616606806087672,
									"parameters": {
										"variable": "Ammo",
										"value": "1"
									}
								},
								{
									"type": "comment",
									"text": "Spawn a bullet and point it downwards with a bit of spread, so it looks more natural."
								},
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerGraphics",
									"sid": 102536420503573,
									"parameters": {
										"object": "Bullet",
										"layer": "\"World\"",
										"image-point": "\"Feet\"",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-angle",
									"objectClass": "Bullet",
									"sid": 294224623494787,
									"parameters": {
										"angle": "90 + random(-10, 10)"
									}
								},
								{
									"type": "comment",
									"text": "Spawn a shell with multiple randomized properties, like speed and angle of motion."
								},
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerGraphics",
									"sid": 242807275578774,
									"parameters": {
										"object": "Shell",
										"layer": "\"World\"",
										"image-point": "\"Feet\"",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-angle-of-motion",
									"objectClass": "Shell",
									"sid": 896713316212807,
									"behaviorType": "Bullet",
									"parameters": {
										"angle": "270 + random(-60, 60)"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "Shell",
									"sid": 392256796617698,
									"behaviorType": "Rotate",
									"parameters": {
										"speed": "random(-720, 720)"
									}
								},
								{
									"id": "set-angle",
									"objectClass": "Shell",
									"sid": 829048339050312,
									"parameters": {
										"angle": "90"
									}
								},
								{
									"id": "set-size",
									"objectClass": "Shell",
									"sid": 327789183605535,
									"parameters": {
										"width": "0",
										"height": "0"
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "Shell",
									"sid": 872403419322200,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"FadeIn\"",
										"property": "size",
										"end-x": "Self.ImageWidth",
										"end-y": "Self.ImageHeight",
										"time": "0.1",
										"ease": "default",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								},
								{
									"type": "comment",
									"text": "Spawn a muzzle flash on top of everything to create a very impactful effect."
								},
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerGraphics",
									"sid": 708867790574935,
									"parameters": {
										"object": "MuzzleFlash",
										"layer": "\"World\"",
										"image-point": "\"Feet\"",
										"create-hierarchy": false
									}
								},
								{
									"type": "comment",
									"text": "Also update the HUD to display the correct ammo counter."
								},
								{
									"callFunction": "UpdateHUD",
									"sid": 892378008731102
								}
							],
							"sid": 680717341329883,
							"children": [
								{
									"eventType": "comment",
									"text": "Change the player vector Y, so it functions like a n aerial break, but only if the player is falling."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-falling",
											"objectClass": "PlayerCollision",
											"sid": 842104589867656,
											"behaviorType": "Platform"
										}
									],
									"actions": [
										{
											"id": "set-vector-y",
											"objectClass": "PlayerCollision",
											"sid": 753345124657463,
											"behaviorType": "Platform",
											"parameters": {
												"vector-y": "-16"
											}
										}
									],
									"sid": 774149140868316
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Once the shell is completely visible, wait a bit before destroying it."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "Shell",
									"sid": 682209637091264,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"FadeIn\""
									}
								}
							],
							"actions": [
								{
									"id": "tween-value",
									"objectClass": "Shell",
									"sid": 526048888636868,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"Wait\"",
										"start-value": "0",
										"end-value": "0",
										"time": "0.25",
										"ease": "default",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								}
							],
							"sid": 428537871652179
						},
						{
							"eventType": "comment",
							"text": "After the wait is over, destroy the shell, so it doesn't keep polluting the screen."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "Shell",
									"sid": 567487871211264,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"Wait\""
									}
								}
							],
							"actions": [
								{
									"id": "tween-two-properties",
									"objectClass": "Shell",
									"sid": 358707011594415,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"FadeOut\"",
										"property": "size",
										"end-x": "0",
										"end-y": "0",
										"time": "0.1",
										"ease": "default",
										"destroy-on-complete": "yes",
										"loop": "no",
										"ping-pong": "no"
									}
								}
							],
							"sid": 713215261288935
						},
						{
							"eventType": "comment",
							"text": "If a bullet collides with the ground, destroy the bullet."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Bullet",
									"sid": 261494602608386,
									"parameters": {
										"object": "Ground"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "Bullet",
									"sid": 667700941156514
								}
							],
							"sid": 384708186966510,
							"children": [
								{
									"eventType": "comment",
									"text": "Also spawn a few sparkles around the recently destroyed bullet."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 337322821105488,
											"parameters": {
												"count": "4"
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "Bullet",
											"sid": 561727795975140,
											"parameters": {
												"object": "Spark",
												"layer": "\"World\"",
												"image-point": "0",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-angle-of-motion",
											"objectClass": "Spark",
											"sid": 572888497621906,
											"behaviorType": "Bullet",
											"parameters": {
												"angle": "Bullet.Bullet.AngleOfMotion + 180 + random(-15, 15)"
											}
										}
									],
									"sid": 490049866817362
								}
							]
						},
						{
							"eventType": "comment",
							"text": "If a bullet collides with an alien blob, destroy the bullet and damage the alien blob."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Bullet",
									"sid": 561407535598570,
									"parameters": {
										"object": "AlienBlob"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "Bullet",
									"sid": 201044777403959
								},
								{
									"type": "comment",
									"text": "The heath value is clamped, so it doesn't go below zero in case two bullets hits the same alien blob in the a single tick/frame."
								},
								{
									"id": "set-instvar-value",
									"objectClass": "AlienBlob",
									"sid": 897306979008045,
									"parameters": {
										"instance-variable": "Heath",
										"value": "clamp(Self.Heath - 1, 0 , Infinity)"
									}
								}
							],
							"sid": 869349009055621,
							"children": [
								{
									"eventType": "comment",
									"text": "If the alien blob heath is higher than zero, flash it to display the damage effect."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "AlienBlob",
											"sid": 515209986567366,
											"parameters": {
												"instance-variable": "Heath",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "tween-value",
											"objectClass": "AlienBlob",
											"sid": 805435635540899,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"Flash\"",
												"start-value": "200",
												"end-value": "100",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no"
											}
										}
									],
									"sid": 509076809636664
								},
								{
									"eventType": "comment",
									"text": "However, if the alien blob heath is equal to zero, destroy it and spawn a few debris around it.."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 997335666866026
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "AlienBlob",
											"sid": 741131380425642,
											"parameters": {
												"instance-variable": "Heath",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "AlienBlob",
											"sid": 279565382019813
										}
									],
									"sid": 376644987316923,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "repeat",
													"objectClass": "System",
													"sid": 840227977345696,
													"parameters": {
														"count": "4"
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "AlienBlob",
													"sid": 456620636381144,
													"parameters": {
														"object": "AlienBlobDebris",
														"layer": "\"World\"",
														"image-point": "0",
														"create-hierarchy": false
													}
												},
												{
													"type": "comment",
													"text": "The debris have randomized properties like speed and angle of motion for a more natural look."
												},
												{
													"id": "set-angle-of-motion",
													"objectClass": "AlienBlobDebris",
													"sid": 877476645399599,
													"behaviorType": "Bullet",
													"parameters": {
														"angle": "270 + random(-30, 30)"
													}
												},
												{
													"id": "set-speed",
													"objectClass": "AlienBlobDebris",
													"sid": 283804186843089,
													"behaviorType": "Bullet",
													"parameters": {
														"speed": "random(128, 384)"
													}
												},
												{
													"id": "set-speed",
													"objectClass": "AlienBlobDebris",
													"sid": 548993735203226,
													"behaviorType": "Rotate",
													"parameters": {
														"speed": "random(-360, 360)"
													}
												}
											],
											"sid": 715662500720940
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Constantly update the alien blob luminosity if the flash effect is being played."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-playing",
									"objectClass": "AlienBlob",
									"sid": 588540116178687,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"Flash\""
									}
								}
							],
							"actions": [
								{
									"id": "set-effect-parameter",
									"objectClass": "AlienBlob",
									"sid": 886973993278648,
									"parameters": {
										"effect": "\"AdjustHSL\"",
										"parameter-index": "2",
										"value": "Self.Tween.Value(\"Flash\")"
									}
								}
							],
							"sid": 924905407554266
						},
						{
							"eventType": "comment",
							"text": "Once a bullet is destroyed, spawn a small explosion on top of it. It's important to reset the explosion angle to zero, so it doesn't inherit the angle from the bullet."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-destroyed",
									"objectClass": "Bullet",
									"sid": 692407728564997
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "Bullet",
									"sid": 777392613455714,
									"parameters": {
										"object": "SmallExplosion",
										"layer": "\"World\"",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-angle",
									"objectClass": "SmallExplosion",
									"sid": 317058382494262,
									"parameters": {
										"angle": "0"
									}
								}
							],
							"sid": 706650034242144
						}
					],
					"sid": 840727157675547
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "PlayerAnimation",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "If the player vector X is not equal to zero, update its width to match movement direction."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 961275671556993,
									"parameters": {
										"first-value": "PlayerCollision.Platform.VectorX",
										"comparison": 1,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-width",
									"objectClass": "PlayerGraphics",
									"sid": 364631525545156,
									"parameters": {
										"width": "Self.ImageWidth * sign(PlayerCollision.Platform.VectorX)"
									}
								}
							],
							"sid": 440554876755306
						},
						{
							"eventType": "comment",
							"text": "Change the player animations based on what current action it's currently performing."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-moving",
									"objectClass": "PlayerCollision",
									"sid": 450453293806928,
									"behaviorType": "Platform"
								}
							],
							"actions": [],
							"sid": 400550592981796,
							"children": [
								{
									"eventType": "comment",
									"text": "Walk animation."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-on-floor",
											"objectClass": "PlayerCollision",
											"sid": 659147616761917,
											"behaviorType": "Platform"
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "PlayerGraphics",
											"sid": 650785987678401,
											"parameters": {
												"animation": "\"Walk\"",
												"from": "beginning"
											}
										}
									],
									"sid": 876262942101888,
									"children": [
										{
											"eventType": "comment",
											"text": "Leave a few smoke particles behind the player while it's moving."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "every-x-seconds",
													"objectClass": "System",
													"sid": 498440156964884,
													"parameters": {
														"interval-seconds": "0.1"
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "PlayerGraphics",
													"sid": 571781987319184,
													"parameters": {
														"object": "WalkSmoke",
														"layer": "\"World\"",
														"image-point": "\"Smoke\"",
														"create-hierarchy": false
													}
												},
												{
													"type": "comment",
													"text": "Update the smoke width to match the player."
												},
												{
													"id": "set-width",
													"objectClass": "WalkSmoke",
													"sid": 958030807056069,
													"parameters": {
														"width": "Self.Width * sign(PlayerGraphics.Width)"
													}
												}
											],
											"sid": 347327621579987
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Jump animation."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 279958396535943
										},
										{
											"id": "is-on-floor",
											"objectClass": "PlayerCollision",
											"sid": 822817588481269,
											"behaviorType": "Platform",
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "PlayerGraphics",
											"sid": 630201900415577,
											"parameters": {
												"animation": "\"Jump\"",
												"from": "beginning"
											}
										}
									],
									"sid": 795127413089738
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Idle animation."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 147907158884075
								},
								{
									"id": "is-moving",
									"objectClass": "PlayerCollision",
									"sid": 999030424476825,
									"behaviorType": "Platform",
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "PlayerGraphics",
									"sid": 411462362742046,
									"parameters": {
										"animation": "\"Idle\"",
										"from": "beginning"
									}
								}
							],
							"sid": 525487259876150
						},
						{
							"eventType": "comment",
							"text": "Spawn a few smoke particles when the player jumps."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-jump",
									"objectClass": "PlayerCollision",
									"sid": 406858965170955,
									"behaviorType": "Platform"
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerGraphics",
									"sid": 203954754448843,
									"parameters": {
										"object": "JumpSmoke",
										"layer": "\"World\"",
										"image-point": "\"Smoke\"",
										"create-hierarchy": false
									}
								}
							],
							"sid": 146064544501185
						},
						{
							"eventType": "comment",
							"text": "Spawn a few smoke particles when the player lands."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-landed",
									"objectClass": "PlayerCollision",
									"sid": 134174771407437,
									"behaviorType": "Platform"
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerGraphics",
									"sid": 355326182891681,
									"parameters": {
										"object": "LandSmoke",
										"layer": "\"World\"",
										"image-point": "\"Smoke\"",
										"create-hierarchy": false
									}
								}
							],
							"sid": 962920789708581
						},
						{
							"eventType": "comment",
							"text": "Constantly leave a trail of clones behind the player."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 497871635187045,
									"parameters": {
										"interval-seconds": "0.1"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerCollision",
									"sid": 724909637084206,
									"parameters": {
										"object": "PlayerTrail",
										"layer": "\"World\"",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-width",
									"objectClass": "PlayerTrail",
									"sid": 769043932655235,
									"parameters": {
										"width": "PlayerGraphics.Width"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "PlayerTrail",
									"sid": 187975662184692,
									"parameters": {
										"animation": "PlayerGraphics.AnimationName",
										"from": "beginning"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "PlayerTrail",
									"sid": 489573386388384,
									"parameters": {
										"frame-number": "PlayerGraphics.AnimationFrame"
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "PlayerTrail",
									"sid": 553235297362247,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"FadeOut\"",
										"property": "size",
										"end-x": "0",
										"end-y": "Self.Height",
										"time": "0.25",
										"ease": "easeinsine",
										"destroy-on-complete": "yes",
										"loop": "no",
										"ping-pong": "no"
									}
								},
								{
									"id": "move-to-bottom",
									"objectClass": "PlayerTrail",
									"sid": 598606129689810
								}
							],
							"sid": 176609117851610
						}
					],
					"sid": 903302427108556
				}
			],
			"sid": 696902854042140
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "MemoryCleaner",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Some objects are meant to be temporary, like explosions, particles and other visuals effects, so it's important to destroy them once they're done, otherwise the computer memory could be overloaded with too many objects on the same layout."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "Particles",
							"sid": 137223503550062,
							"parameters": {
								"animation": "\"Default\""
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Particles",
							"sid": 344187753455762
						}
					],
					"sid": 532404561523203
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-distance-travelled",
							"objectClass": "Spark",
							"sid": 213319420383712,
							"behaviorType": "Bullet",
							"parameters": {
								"comparison": 5,
								"distance": "64"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Spark",
							"sid": 641863395754121
						}
					],
					"sid": 956169741008398
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-distance-travelled",
							"objectClass": "AlienBlobDebris",
							"sid": 964939294906341,
							"behaviorType": "Bullet",
							"parameters": {
								"comparison": 5,
								"distance": "512"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "AlienBlobDebris",
							"sid": 981266834469329
						}
					],
					"sid": 376131085462511
				}
			],
			"sid": 645425001940030
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "HUD",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Update the amount of ammo displayed in the HUD to match what's left in the player magazine."
				},
				{
					"functionName": "UpdateHUD",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-width",
							"objectClass": "AmmoCounter",
							"sid": 174756460394821,
							"parameters": {
								"width": "10 * Ammo"
							}
						}
					],
					"sid": 512870219674312
				}
			],
			"sid": 149248299024213
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Hazards",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Setup the alien blob by moving its smoke particles behind it."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "AlienBlobSmoke",
							"sid": 335909005162402
						}
					],
					"actions": [
						{
							"id": "move-to-bottom",
							"objectClass": "AlienBlobSmoke",
							"sid": 445381799998409
						}
					],
					"sid": 496912980326597
				},
				{
					"eventType": "comment",
					"text": "If the player collides with any of the hazards in the game, reset it by calling the game over function."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "PlayerCollision",
							"sid": 362008504745203,
							"parameters": {
								"object": "AlienSpike"
							}
						}
					],
					"actions": [
						{
							"callFunction": "GameOver",
							"sid": 143983554451465
						}
					],
					"sid": 665116532036334
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "PlayerCollision",
							"sid": 325404064842675,
							"parameters": {
								"object": "AlienBlob"
							}
						}
					],
					"actions": [
						{
							"callFunction": "GameOver",
							"sid": 123764075060424
						}
					],
					"sid": 181762239700231
				}
			],
			"sid": 924437189093686
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Background",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Constantly offset the tentacles texture, so it looks like the monster in the background is trying to grab the level."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 536059900355695
						}
					],
					"actions": [
						{
							"id": "set-image-offset-x",
							"objectClass": "Tentacle",
							"sid": 607973880432400,
							"parameters": {
								"offset-x": "Self.ImageOffsetX + Self.ScrollDirection * 2 * 60 * dt"
							}
						}
					],
					"sid": 134087857876752
				}
			],
			"sid": 203791751141350
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Camera",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Constantly update the scroll position to match the player position, but with a small offset, so the player can see what's below it."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 362137771696942
						}
					],
					"actions": [
						{
							"id": "scroll-to-position",
							"objectClass": "System",
							"sid": 273015583079290,
							"parameters": {
								"x": "LayoutWidth / 2",
								"y": "lerp(scrolly, PlayerCollision.Y + 48, 0.1 * 60 * dt)"
							}
						}
					],
					"sid": 197971622354978
				}
			],
			"sid": 855717995492963
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "GameOver",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Restart the game and reset all global variables to their default values, so nothing from the previous session is carried over."
				},
				{
					"functionName": "GameOver",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "reset-global-variables",
							"objectClass": "System",
							"sid": 710170708908160
						},
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 509428279329784
						}
					],
					"sid": 205972196029665
				}
			],
			"sid": 947146885393442
		}
	],
	"sid": 413193415739535
}