{
	"name": "Events",
	"events": [
		{
			"eventType": "comment",
			"text": "Made by Viridino Studios (@ViridinoStudios)\n\nMateus Ferreira Moreira - Programmer\nX: @BonzerKitten\nE-mail: ferreiramoreiramateus@gmail.com\n\nFelipe Vaiano Calderan - Programmer\nX: @fvcalderan\nE-mail: fvcalderan@gmail.com\n\nWesley Andrade - Artist\nX: @andrart7\nE-mail: wesleymatos1989@gmail.com\n\nHelp us make new examples by supporting our work on https://www.patreon.com/viridinostudios"
		},
		{
			"eventType": "comment",
			"text": "Colors."
		},
		{
			"eventType": "variable",
			"name": "COLOR0",
			"type": "string",
			"initialValue": "[color=#292929]",
			"comment": "Color of ID 0.",
			"isStatic": false,
			"isConstant": true,
			"sid": 283277879149968
		},
		{
			"eventType": "variable",
			"name": "COLOR1",
			"type": "string",
			"initialValue": "[color=#ffffff]",
			"comment": "Color of ID 1.",
			"isStatic": false,
			"isConstant": true,
			"sid": 650475023507343
		},
		{
			"eventType": "comment",
			"text": "Fade times."
		},
		{
			"eventType": "variable",
			"name": "FADE_NORMAL",
			"type": "number",
			"initialValue": "1",
			"comment": "Normal fade speed.",
			"isStatic": false,
			"isConstant": true,
			"sid": 602991258984543
		},
		{
			"eventType": "variable",
			"name": "FADE_FAST",
			"type": "number",
			"initialValue": "0.5",
			"comment": "Fast fade speed.",
			"isStatic": false,
			"isConstant": true,
			"sid": 124755471075397
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Setup",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Set game initial state."
				},
				{
					"functionName": "InitializeGame",
					"functionDescription": "Set game initial state",
					"functionCategory": "Game",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "Reset global variables."
						},
						{
							"id": "reset-global-variables",
							"objectClass": "System",
							"sid": 656259834229656,
							"parameters": {
								"reset-static": true
							}
						},
						{
							"type": "comment",
							"text": "Reset booleans dictionary."
						},
						{
							"id": "add-key",
							"objectClass": "DictBools",
							"sid": 370557413269899,
							"parameters": {
								"key": "\"has_treats\"",
								"value": "\"1\""
							}
						},
						{
							"id": "add-key",
							"objectClass": "DictBools",
							"sid": 373565750792981,
							"parameters": {
								"key": "\"has_mias_info\"",
								"value": "\"0\""
							}
						},
						{
							"id": "add-key",
							"objectClass": "DictBools",
							"sid": 544028134650074,
							"parameters": {
								"key": "\"has_rufus_info\"",
								"value": "\"0\""
							}
						},
						{
							"id": "add-key",
							"objectClass": "DictBools",
							"sid": 158177084461675,
							"parameters": {
								"key": "\"rick_is_helping\"",
								"value": "\"0\""
							}
						},
						{
							"type": "comment",
							"text": "Apply current node."
						},
						{
							"callFunction": "applyNode",
							"sid": 252518899182949
						}
					],
					"sid": 693258627749836
				},
				{
					"eventType": "comment",
					"text": "Game setup."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 165867815990776
						}
					],
					"actions": [
						{
							"id": "start-flowchart",
							"objectClass": "Flow",
							"sid": 307147088298748,
							"parameters": {
								"flowchart-name": "Part0",
								"start-node-tag": "\"\"",
								"flowchart-tag": "\"flowchart\"",
								"set-as-current": true
							}
						},
						{
							"callFunction": "InitializeGame",
							"sid": 335518828301147
						}
					],
					"sid": 741994226710341
				}
			],
			"sid": 823787449844086
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Controls",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "[b]Space[/b] is used to interact with the story, either by making a choice, or by going to the next dialogue."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 568709673965900,
							"parameters": {
								"key": 32
							}
						},
						{
							"id": "is-any-playing",
							"objectClass": "Fader",
							"sid": 636911582758683,
							"behaviorType": "Tween",
							"isInverted": true
						},
						{
							"id": "is-any-playing",
							"objectClass": "Actor",
							"sid": 673669230686109,
							"behaviorType": "Tween",
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 465136227196678,
					"children": [
						{
							"eventType": "variable",
							"name": "nextNode",
							"type": "string",
							"initialValue": "",
							"comment": "Go to this node.",
							"isStatic": false,
							"isConstant": false,
							"sid": 955927725261815
						},
						{
							"eventType": "comment",
							"text": "If a dialogue is still being written on screen, finish it immediately."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-running-typewriter-text",
									"objectClass": "Dialogue",
									"sid": 541243690508190
								}
							],
							"actions": [
								{
									"id": "typewriter-finish",
									"objectClass": "Dialogue",
									"sid": 280889432434755
								},
								{
									"id": "typewriter-finish",
									"objectClass": "DropShadow",
									"sid": 228827236813483
								}
							],
							"sid": 161948092600312
						},
						{
							"eventType": "comment",
							"text": "Otherwise, go to the next dialogue."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 493984025759003
								}
							],
							"actions": [
								{
									"id": "tween-one-property",
									"objectClass": "SelectionBox",
									"sid": 360172023000569,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"SelectionBoxAlpha\"",
										"property": "offsetOpacity",
										"end-value": "0",
										"time": "0.25",
										"ease": "easeinoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 210836819469977,
							"children": [
								{
									"eventType": "comment",
									"text": "Follow the dialogue that corresponds to the choice made."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-output",
											"objectClass": "Flow",
											"sid": 155310454223860,
											"parameters": {
												"output-index-or-name": "\"n_options\""
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 505206431497491,
											"parameters": {
												"variable": "nextNode",
												"value": "\"option\" & SelectionBox.selection"
											}
										}
									],
									"sid": 354999326116599
								},
								{
									"eventType": "comment",
									"text": "Next dialogue depends on the value of a boolean variable."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 726062994810033
										},
										{
											"id": "has-output",
											"objectClass": "Flow",
											"sid": 662317326606144,
											"parameters": {
												"output-index-or-name": "\"compare0\""
											}
										}
									],
									"actions": [],
									"sid": 137319778549998,
									"children": [
										{
											"eventType": "comment",
											"text": "Boolean is false."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 679133778950113,
													"parameters": {
														"value": "DictBools.Get(Flow.OutputValue(\"compare0\")) = \"0\""
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 992088318358674,
													"parameters": {
														"variable": "nextNode",
														"value": "\"compare0\""
													}
												}
											],
											"sid": 340557943049444
										},
										{
											"eventType": "comment",
											"text": "Boolean is true."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 788017004784027
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 396259134670536,
													"parameters": {
														"variable": "nextNode",
														"value": "\"compare1\""
													}
												}
											],
											"sid": 973105308552440
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Just advance to the next dialogue."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 606301652042514
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 982563647574990,
											"parameters": {
												"variable": "nextNode",
												"value": "\"next\""
											}
										}
									],
									"sid": 374580209954225
								},
								{
									"eventType": "comment",
									"text": "If the current node has a fade-out transition, play it."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-output",
											"objectClass": "Flow",
											"sid": 872885960099478,
											"parameters": {
												"output-index-or-name": "\"transition\""
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 826979432945861,
											"parameters": {
												"value": "left(Flow.OutputValue(\"transition\"), 8) = \"fade_out\""
											}
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "Fader",
											"sid": 112544515022176,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"fade\"",
												"property": "offsetOpacity",
												"end-value": "100",
												"time": "right(Flow.OutputValue(\"transition\"), 5) = \"_fast\" ? FADE_FAST : FADE_NORMAL",
												"ease": "easeinoutsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "wait-for-previous-actions",
											"objectClass": "System",
											"sid": 797774164551608
										},
										{
											"id": "goto-next-flowchart-node",
											"objectClass": "Flow",
											"sid": 625034252283435,
											"parameters": {
												"index-or-name": "nextNode"
											}
										},
										{
											"callFunction": "applyNode",
											"sid": 687469425237174
										}
									],
									"sid": 471792099531561
								},
								{
									"eventType": "comment",
									"text": "Otherwise, just write the next dialogue."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 467131894870942
										}
									],
									"actions": [
										{
											"id": "goto-next-flowchart-node",
											"objectClass": "Flow",
											"sid": 959453998655590,
											"parameters": {
												"index-or-name": "nextNode"
											}
										},
										{
											"callFunction": "applyNode",
											"sid": 598379041483266
										}
									],
									"sid": 956147819114140
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Selection up."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 667060238307248,
							"parameters": {
								"key": 38
							}
						},
						{
							"id": "compare-opacity",
							"objectClass": "SelectionBox",
							"sid": 425193313909618,
							"parameters": {
								"comparison": 0,
								"opacity": "100"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "SelectionBox",
							"sid": 706228610967870,
							"parameters": {
								"instance-variable": "selection",
								"comparison": 4,
								"value": "0"
							}
						},
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 144236499426857,
							"parameters": {
								"object": "ChoiceRef",
								"expression": "ChoiceRef.id = SelectionBox.selection - 1"
							}
						}
					],
					"actions": [
						{
							"id": "subtract-from-instvar",
							"objectClass": "SelectionBox",
							"sid": 601005997703981,
							"parameters": {
								"instance-variable": "selection",
								"value": "1"
							}
						},
						{
							"id": "tween-two-properties",
							"objectClass": "SelectionBox",
							"sid": 714327130732641,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"MoveSelection\"",
								"property": "position",
								"end-x": "ChoiceRef.X",
								"end-y": "ChoiceRef.Y",
								"time": "0.1",
								"ease": "easeinoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 678752413807605
				},
				{
					"eventType": "comment",
					"text": "Selection down."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 907137207144795,
							"parameters": {
								"key": 40
							}
						},
						{
							"id": "compare-opacity",
							"objectClass": "SelectionBox",
							"sid": 118037109378009,
							"parameters": {
								"comparison": 0,
								"opacity": "100"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "SelectionBox",
							"sid": 669464681844031,
							"parameters": {
								"instance-variable": "selection",
								"comparison": 2,
								"value": "int(Flow.OutputValue(\"n_options\")) - 1"
							}
						},
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 203641294662390,
							"parameters": {
								"object": "ChoiceRef",
								"expression": "ChoiceRef.id = SelectionBox.selection + 1"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-instvar",
							"objectClass": "SelectionBox",
							"sid": 904807976805007,
							"parameters": {
								"instance-variable": "selection",
								"value": "1"
							}
						},
						{
							"id": "tween-two-properties",
							"objectClass": "SelectionBox",
							"sid": 851443040408819,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"MoveSelection\"",
								"property": "position",
								"end-x": "ChoiceRef.X",
								"end-y": "ChoiceRef.Y",
								"time": "0.1",
								"ease": "easeinoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 389500031740428
				}
			],
			"sid": 540321328524201
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Story management",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Show selection box when applicable."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-typewriter-text-finished",
							"objectClass": "Dialogue",
							"sid": 110375448258796
						},
						{
							"id": "has-output",
							"objectClass": "Flow",
							"sid": 659464482833856,
							"parameters": {
								"output-index-or-name": "\"n_options\""
							}
						},
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 507991454513816,
							"parameters": {
								"object": "ChoiceRef",
								"expression": "ChoiceRef.id = 0"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "SelectionBox",
							"sid": 398381851281723,
							"parameters": {
								"instance-variable": "selection",
								"value": "0"
							}
						},
						{
							"id": "set-position",
							"objectClass": "SelectionBox",
							"sid": 417243278506675,
							"parameters": {
								"x": "ChoiceRef.X",
								"y": "ChoiceRef.Y"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "SelectionBox",
							"sid": 686071099350310,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"SelectionBoxAlpha\"",
								"property": "offsetOpacity",
								"end-value": "100",
								"time": "0.25",
								"ease": "easeinoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 114804437705840
				},
				{
					"eventType": "comment",
					"text": "Write to dialogue box."
				},
				{
					"functionName": "writeDialogue",
					"functionDescription": "Write to dialogue box",
					"functionCategory": "Dialogue",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 326918511391055,
					"children": [
						{
							"eventType": "variable",
							"name": "dialogueText",
							"type": "string",
							"initialValue": "",
							"comment": "Text to write to the dialogue box.",
							"isStatic": false,
							"isConstant": false,
							"sid": 254089304506732
						},
						{
							"eventType": "variable",
							"name": "shadowText",
							"type": "string",
							"initialValue": "",
							"comment": "Text to write to the dropshadow box.",
							"isStatic": false,
							"isConstant": false,
							"sid": 757225587784535
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"type": "comment",
									"text": "Set raw text."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 439847551655054,
									"parameters": {
										"variable": "dialogueText",
										"value": "Flow.OutputValue(\"dialogue\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 529207125639790,
									"parameters": {
										"variable": "shadowText",
										"value": "Flow.OutputValue(\"dialogue\")"
									}
								},
								{
									"type": "comment",
									"text": "Combine text with options."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 389578705599821,
									"parameters": {
										"variable": "dialogueText",
										"value": "dialogueText & newline & Flow.OutputValue(\"option0\") & newline & Flow.OutputValue(\"option1\") & newline & Flow.OutputValue(\"option2\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 156949650187711,
									"parameters": {
										"variable": "shadowText",
										"value": "shadowText & newline & Flow.OutputValue(\"option0\") & newline & Flow.OutputValue(\"option1\") & newline & Flow.OutputValue(\"option2\")"
									}
								},
								{
									"type": "comment",
									"text": "Add colors to dialogue text."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 406020210365342,
									"parameters": {
										"variable": "dialogueText",
										"value": "replace(dialogueText, \"[col0]\", COLOR0)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 282880386198688,
									"parameters": {
										"variable": "dialogueText",
										"value": "replace(dialogueText, \"[col1]\", COLOR1)"
									}
								},
								{
									"type": "comment",
									"text": "Ignore colors on shadow text."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 505470606494938,
									"parameters": {
										"variable": "shadowText",
										"value": "replace(shadowText, \"[col0]\", \"\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 513027449853908,
									"parameters": {
										"variable": "shadowText",
										"value": "replace(shadowText, \"[col1]\", \"\")"
									}
								},
								{
									"type": "comment",
									"text": "Type text."
								},
								{
									"id": "typewriter-text",
									"objectClass": "Dialogue",
									"sid": 704575147414908,
									"parameters": {
										"text": "dialogueText",
										"duration": "0.02 * len(dialogueText)"
									}
								},
								{
									"id": "typewriter-text",
									"objectClass": "DropShadow",
									"sid": 506052412142205,
									"parameters": {
										"text": "shadowText",
										"duration": "0.02 * len(dialogueText)"
									}
								}
							],
							"sid": 960919357665680
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Change game state according to the current flowchart node."
				},
				{
					"functionName": "applyNode",
					"functionDescription": "Change game state according to the current flowchart node",
					"functionCategory": "State",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "Dialogue",
							"sid": 958801149324652,
							"parameters": {
								"text": "\"\""
							}
						},
						{
							"id": "set-text",
							"objectClass": "DropShadow",
							"sid": 957313271868558,
							"parameters": {
								"text": "\"\""
							}
						}
					],
					"sid": 614761083756826,
					"children": [
						{
							"eventType": "comment",
							"text": "[b]Restart the game:[/b]"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "has-output",
									"objectClass": "Flow",
									"sid": 320607382490470,
									"parameters": {
										"output-index-or-name": "\"restart\""
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Play fade out animation."
								},
								{
									"id": "tween-one-property",
									"objectClass": "Fader",
									"sid": 435866302027544,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"fade\"",
										"property": "offsetOpacity",
										"end-value": "100",
										"time": "1",
										"ease": "easeinoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"type": "comment",
									"text": "Reset current flowchart."
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 379918413112561
								},
								{
									"id": "reset-flowchart",
									"objectClass": "Flow",
									"sid": 377444446596021
								},
								{
									"type": "comment",
									"text": "Initialize game."
								},
								{
									"callFunction": "InitializeGame",
									"sid": 960893317252463
								}
							],
							"sid": 682806495499865
						},
						{
							"eventType": "comment",
							"text": "Continue processing the node."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 579406278062011
								}
							],
							"actions": [],
							"sid": 463763653912586,
							"children": [
								{
									"eventType": "comment",
									"text": "[b]Transitions:[/b]\n[b]fade_in:[/b] normal fade-in animation;\n[b]fade_out:[/b] normal fade-out animation;\n[b]fade_in_fast:[/b] fast fade-in animation;\n[b]fade_out_fast:[/b] fast fade-out animation."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-output",
											"objectClass": "Flow",
											"sid": 982968046500578,
											"parameters": {
												"output-index-or-name": "\"transition\""
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 121967357119248,
											"parameters": {
												"value": "left(Flow.OutputValue(\"transition\"), 7) = \"fade_in\""
											}
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "Fader",
											"sid": 782412832775088,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"fade\"",
												"property": "offsetOpacity",
												"end-value": "0",
												"time": "right(Flow.OutputValue(\"transition\"), 5) = \"_fast\" ? FADE_FAST : FADE_NORMAL",
												"ease": "easeinoutsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 128791290046403
								},
								{
									"eventType": "comment",
									"text": "[b]Dialogue:[/b]"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-any-playing",
											"objectClass": "Fader",
											"sid": 742861375851584,
											"behaviorType": "Tween"
										}
									],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 884350908229241,
											"parameters": {
												"seconds": "1"
											}
										},
										{
											"callFunction": "writeDialogue",
											"sid": 785956314526945
										}
									],
									"sid": 240303339674246
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 870117726406109
										}
									],
									"actions": [
										{
											"callFunction": "writeDialogue",
											"sid": 610257782339732
										}
									],
									"sid": 702260594747307
								},
								{
									"eventType": "comment",
									"text": "[b]Backgrounds:[/b]\nSee Background object animation names."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-output",
											"objectClass": "Flow",
											"sid": 212367678522691,
											"parameters": {
												"output-index-or-name": "\"background\""
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Background",
											"sid": 202828815213033,
											"parameters": {
												"animation": "Flow.OutputValue(\"background\")",
												"from": "beginning"
											}
										}
									],
									"sid": 550626000666814
								},
								{
									"eventType": "comment",
									"text": "[b]Set variable:[/b]\n[b]VARIABLE|VALUE[/b], where the value must be either 0 or 1."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-output",
											"objectClass": "Flow",
											"sid": 260525887454532,
											"parameters": {
												"output-index-or-name": "\"set\""
											}
										}
									],
									"actions": [
										{
											"id": "set-key",
											"objectClass": "DictBools",
											"sid": 959469694874876,
											"parameters": {
												"key": "tokenat(Flow.OutputValue(\"set\"), 0, \"|\")",
												"value": "tokenat(Flow.OutputValue(\"set\"), 1, \"|\")"
											}
										}
									],
									"sid": 592358377202717
								},
								{
									"eventType": "comment",
									"text": "[b]Actors:[/b]"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 194559242859902,
											"parameters": {
												"name": "\"actorID\"",
												"start-index": "0",
												"end-index": "2"
											}
										},
										{
											"id": "pick-by-evaluate",
											"objectClass": "System",
											"sid": 173824655288211,
											"parameters": {
												"object": "Actor",
												"expression": "Actor.actorID = loopindex(\"actorID\")"
											}
										}
									],
									"actions": [],
									"sid": 493938793943344,
									"children": [
										{
											"eventType": "variable",
											"name": "side",
											"type": "string",
											"initialValue": "",
											"comment": "Side to enter/exit.",
											"isStatic": false,
											"isConstant": false,
											"sid": 292169416205508
										},
										{
											"eventType": "comment",
											"text": "[b]Enter animations:[/b]\n[b]FROM|TO[/b], where:\n[b]FROM:[/b] left, right or center;\n[b]TO:[/b] leftmost, left, center, right, rightmost"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "has-output",
													"objectClass": "Flow",
													"sid": 676146591263973,
													"parameters": {
														"output-index-or-name": "\"actor\" & loopindex(\"actorID\") & \"_enter\""
													}
												},
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 272281602628481,
													"parameters": {
														"object": "CharPosRef",
														"expression": "CharPosRef.name = tokenat(Flow.OutputValue(\"actor\" & loopindex(\"actorID\") & \"_enter\"), 1, \"|\")"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 739997695540389,
													"parameters": {
														"variable": "side",
														"value": "tokenat(Flow.OutputValue(\"actor\" & loopindex(\"actorID\") & \"_enter\"), 0, \"|\")"
													}
												},
												{
													"id": "set-position",
													"objectClass": "Actor",
													"sid": 459570019639362,
													"parameters": {
														"x": "side = \"left\" ? -Self.Width : (side = \"right\" ? LayoutWidth + Self.Width : CharPosRef.X)",
														"y": "side = \"center\" ? LayoutHeight + 128 : CharPosRef.Y"
													}
												},
												{
													"id": "tween-two-properties",
													"objectClass": "Actor",
													"sid": 320556722495641,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"MoveActor\"",
														"property": "position",
														"end-x": "CharPosRef.X",
														"end-y": "CharPosRef.Y",
														"time": "0.5",
														"ease": "easeoutback",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 938668667231912,
											"children": [
												{
													"eventType": "comment",
													"text": "Set mirrored state."
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 640075009973035,
															"parameters": {
																"value": "side = \"left\""
															}
														}
													],
													"actions": [
														{
															"id": "set-mirrored",
															"objectClass": "Actor",
															"sid": 740649062401076,
															"parameters": {
																"state": "mirrored"
															}
														}
													],
													"sid": 703798282157262
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 957637021683020,
															"parameters": {
																"value": "side = \"right\""
															}
														}
													],
													"actions": [
														{
															"id": "set-mirrored",
															"objectClass": "Actor",
															"sid": 349234666907430,
															"parameters": {
																"state": "not-mirrored"
															}
														}
													],
													"sid": 867421566908594
												}
											]
										},
										{
											"eventType": "comment",
											"text": "[b]Actor animation:[/b]\nSee Actor object animation names."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "has-output",
													"objectClass": "Flow",
													"sid": 412565553757697,
													"parameters": {
														"output-index-or-name": "\"actor\" & loopindex(\"actorID\") & \"_anim\""
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Play bounce tween if the animation has changed."
												},
												{
													"id": "tween-two-properties",
													"objectClass": "Actor",
													"sid": 104648090555885,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"ActorBounce\"",
														"property": "scale",
														"end-x": "1 + (0.1 * (Flow.OutputValue(\"actor\" & loopindex(\"actorID\") & \"_anim\") <> Self.AnimationName))",
														"end-y": "1 + (0.1 * (Flow.OutputValue(\"actor\" & loopindex(\"actorID\") & \"_anim\") <> Self.AnimationName))",
														"time": "0.1",
														"ease": "easeinoutsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "yes",
														"repeat-count": "1"
													}
												},
												{
													"type": "comment",
													"text": "Set animation."
												},
												{
													"id": "set-animation",
													"objectClass": "Actor",
													"sid": 109046972609064,
													"parameters": {
														"animation": "Flow.OutputValue(\"actor\" & loopindex(\"actorID\") & \"_anim\")",
														"from": "beginning"
													}
												}
											],
											"sid": 127293709128206
										},
										{
											"eventType": "comment",
											"text": "[b]Exit animations:[/b]\n[b]left:[/b] exit to the left of the screen;\n[b]right:[/b] exit to the right of the screen;\n[b]center:[/b] exit to the center of the screen;\n[b]instant:[/b] instantly exit the screen."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "has-output",
													"objectClass": "Flow",
													"sid": 388342120821183,
													"parameters": {
														"output-index-or-name": "\"actor\" & loopindex(\"actorID\") & \"_exit\""
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 886892613621847,
													"parameters": {
														"variable": "side",
														"value": "Flow.OutputValue(\"actor\" & loopindex(\"actorID\") & \"_exit\")"
													}
												},
												{
													"id": "tween-two-properties",
													"objectClass": "Actor",
													"sid": 511721103231696,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"MoveActor\"",
														"property": "position",
														"end-x": "side = \"left\" ? -Self.ImageWidth : (side = \"right\" ? LayoutWidth + Self.ImageWidth : Self.X)",
														"end-y": "(side = \"center\" | side = \"instant\") ? LayoutHeight + Self.Height : Self.Y",
														"time": "side = \"instant\" ? 0.01 : 0.5",
														"ease": "easeinsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 483330758030821,
											"children": [
												{
													"eventType": "comment",
													"text": "Set mirrored state."
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 348506003969268,
															"parameters": {
																"value": "side = \"left\""
															}
														}
													],
													"actions": [
														{
															"id": "set-mirrored",
															"objectClass": "Actor",
															"sid": 207677524337904,
															"parameters": {
																"state": "not-mirrored"
															}
														}
													],
													"sid": 523727810991085
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 405043015185942,
															"parameters": {
																"value": "side = \"right\""
															}
														}
													],
													"actions": [
														{
															"id": "set-mirrored",
															"objectClass": "Actor",
															"sid": 556477392717780,
															"parameters": {
																"state": "mirrored"
															}
														}
													],
													"sid": 688413476974953
												}
											]
										},
										{
											"eventType": "comment",
											"text": "[b]Move animations:[/b]\n[b]leftmost:[/b] move actor to the leftmost spot;\n[b]left:[/b] move actor to the left spot;\n[b]center:[/b] move actor to the center spot;\n[b]right:[/b] move actor to the right spot;\n[b]rightmost:[/b] move actor to the rightmost spot;\n[b]instant:[/b] move actor to the center instantly;"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "has-output",
													"objectClass": "Flow",
													"sid": 612848193120645,
													"parameters": {
														"output-index-or-name": "\"actor\" & loopindex(\"actorID\") & \"_move\""
													}
												},
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 558366054521180,
													"parameters": {
														"object": "CharPosRef",
														"expression": "CharPosRef.name = Flow.OutputValue(\"actor\" & loopindex(\"actorID\") & \"_move\")"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 145220274423155,
													"parameters": {
														"variable": "side",
														"value": "Flow.OutputValue(\"actor\" & loopindex(\"actorID\") & \"_move\")"
													}
												},
												{
													"id": "tween-two-properties",
													"objectClass": "Actor",
													"sid": 431476920055731,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"MoveActor\"",
														"property": "position",
														"end-x": "CharPosRef.X",
														"end-y": "CharPosRef.Y",
														"time": "side = \"instant\" ? 0 : 0.25",
														"ease": "easeoutback",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 483802433917314,
											"children": [
												{
													"eventType": "comment",
													"text": "Set mirrored state."
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 854165346597667,
															"parameters": {
																"value": "side = \"left\" | side = \"leftmost\""
															}
														}
													],
													"actions": [
														{
															"id": "set-mirrored",
															"objectClass": "Actor",
															"sid": 956040260824234,
															"parameters": {
																"state": "mirrored"
															}
														}
													],
													"sid": 650674437473944
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 603021564588190,
															"parameters": {
																"value": "side = \"right\" | side = \"rightmost\""
															}
														}
													],
													"actions": [
														{
															"id": "set-mirrored",
															"objectClass": "Actor",
															"sid": 287685809598528,
															"parameters": {
																"state": "not-mirrored"
															}
														}
													],
													"sid": 353358755122419
												}
											]
										}
									]
								}
							]
						}
					]
				}
			],
			"sid": 199939666402763
		}
	],
	"sid": 281549888341493
}