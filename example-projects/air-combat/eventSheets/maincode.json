{
	"name": "MainCode",
	"events": [
		{
			"eventType": "comment",
			"text": "Made by Viridino Studios (@ViridinoStudios)\n\nMateus Ferreira - Programmer\nTwitter: @BonzerKitten\nE-mail: ferreiramoreiramateus@gmail.com\n\nWesley Andrade - Artist\nTwitter: @andrart7\nE-mail: wesleymatos1989@gmail.com\n\nMade with the support of patrons on https://www.patreon.com/viridinostudios"
		},
		{
			"eventType": "comment",
			"text": "Whether or not the player is pressing the left button."
		},
		{
			"eventType": "variable",
			"name": "InputLeft",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 389879163124767
		},
		{
			"eventType": "comment",
			"text": "Whether or not the player is pressing the right button."
		},
		{
			"eventType": "variable",
			"name": "InputRight",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 727174945444421
		},
		{
			"eventType": "comment",
			"text": "Whether or not the player is pressing the up button."
		},
		{
			"eventType": "variable",
			"name": "InputUp",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 683217221606568
		},
		{
			"eventType": "comment",
			"text": "Whether or not the player is pressing the down button."
		},
		{
			"eventType": "variable",
			"name": "InputDown",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 890650127534644
		},
		{
			"eventType": "comment",
			"text": "The horizontal direction the player is pointing towards."
		},
		{
			"eventType": "variable",
			"name": "HorizontalAxis",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 759922741960203
		},
		{
			"eventType": "comment",
			"text": "The vertical direction the player is pointing towards."
		},
		{
			"eventType": "variable",
			"name": "VerticalAxis",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 394283656533245
		},
		{
			"eventType": "comment",
			"text": "The angle both horizontal and vertical axis are pointing towards."
		},
		{
			"eventType": "variable",
			"name": "AxisAngle",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 450896667405630
		},
		{
			"eventType": "comment",
			"text": "How fast the jet accelerates to its maximum speed."
		},
		{
			"eventType": "variable",
			"name": "ACCELERATION",
			"type": "number",
			"initialValue": "1024",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 360871957101075
		},
		{
			"eventType": "comment",
			"text": "How fast the jet turns in degrees."
		},
		{
			"eventType": "variable",
			"name": "ROTATIONSPEED",
			"type": "number",
			"initialValue": "7.5",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 198835629169246
		},
		{
			"eventType": "comment",
			"text": "How fast the jet can move in pixels."
		},
		{
			"eventType": "variable",
			"name": "MAXSPEED",
			"type": "number",
			"initialValue": "512",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 182818037532999
		},
		{
			"eventType": "comment",
			"text": "How fast the jet is affects by gravity while having the engines off."
		},
		{
			"eventType": "variable",
			"name": "FALLSPEED",
			"type": "number",
			"initialValue": "128",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 749929415206186
		},
		{
			"eventType": "comment",
			"text": "\n\n//////////////// CONTROLS ////////////////\n\n"
		},
		{
			"eventType": "comment",
			"text": "Reset all input variables back to zero."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 315398272112247
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 715320599329862,
					"parameters": {
						"variable": "InputLeft",
						"value": "0"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 697354673359395,
					"parameters": {
						"variable": "InputRight",
						"value": "0"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 513372838683390,
					"parameters": {
						"variable": "InputUp",
						"value": "0"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 814253304200576,
					"parameters": {
						"variable": "InputDown",
						"value": "0"
					}
				}
			],
			"sid": 198471192959377
		},
		{
			"eventType": "comment",
			"text": "Toggle the left variable on based on the player input."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 315529886869036,
					"parameters": {
						"key": 37
					}
				},
				{
					"id": "is-button-down",
					"objectClass": "Gamepad",
					"sid": 754749880230251,
					"parameters": {
						"gamepad": "0",
						"button": "d-pad-left"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 983332060093507,
					"parameters": {
						"variable": "InputLeft",
						"value": "1"
					}
				}
			],
			"sid": 481092875411192,
			"isOrBlock": true
		},
		{
			"eventType": "comment",
			"text": "Toggle the right variable on based on the player input."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 491137851832494,
					"parameters": {
						"key": 39
					}
				},
				{
					"id": "is-button-down",
					"objectClass": "Gamepad",
					"sid": 955977727147272,
					"parameters": {
						"gamepad": "0",
						"button": "d-pad-right"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 897505113330898,
					"parameters": {
						"variable": "InputRight",
						"value": "1"
					}
				}
			],
			"sid": 966771051460969,
			"isOrBlock": true
		},
		{
			"eventType": "comment",
			"text": "Toggle the up variable on based on the player input."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 139995304985164,
					"parameters": {
						"key": 38
					}
				},
				{
					"id": "is-button-down",
					"objectClass": "Gamepad",
					"sid": 196007721449789,
					"parameters": {
						"gamepad": "0",
						"button": "d-pad-up"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 246727933260541,
					"parameters": {
						"variable": "InputUp",
						"value": "1"
					}
				}
			],
			"sid": 216848364684394,
			"isOrBlock": true
		},
		{
			"eventType": "comment",
			"text": "Toggle the down variable on based on the player input."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 379097801513972,
					"parameters": {
						"key": 40
					}
				},
				{
					"id": "is-button-down",
					"objectClass": "Gamepad",
					"sid": 610613537408657,
					"parameters": {
						"gamepad": "0",
						"button": "d-pad-down"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 725106235421008,
					"parameters": {
						"variable": "InputDown",
						"value": "1"
					}
				}
			],
			"sid": 673996827898830,
			"isOrBlock": true
		},
		{
			"eventType": "comment",
			"text": "Calculate the horizontal and vertical axis based on the player input variables."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 108545737995014
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 207494088728268,
					"parameters": {
						"variable": "HorizontalAxis",
						"value": "InputRight - InputLeft"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 165827463741637,
					"parameters": {
						"variable": "VerticalAxis",
						"value": "InputDown - InputUp"
					}
				},
				{
					"type": "comment",
					"text": "Also calculate the axis angle, which is the result of both horizontal and vertical axis."
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 459876266145368,
					"parameters": {
						"variable": "AxisAngle",
						"value": "(angle(0, 0, HorizontalAxis, VerticalAxis) + 360) % 360"
					}
				}
			],
			"sid": 657324905880348
		},
		{
			"eventType": "comment",
			"text": "If any of the horizontal or vertical axis are not equal to zero, rotate the jet towards on the axis angle."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "evaluate-expression",
					"objectClass": "System",
					"sid": 662114998792982,
					"parameters": {
						"value": "HorizontalAxis <> 0 | VerticalAxis <> 0"
					}
				}
			],
			"actions": [
				{
					"id": "rotate-toward-angle",
					"objectClass": "JetCollision",
					"sid": 888329885320469,
					"parameters": {
						"degrees": "ROTATIONSPEED * 60 * dt",
						"angle": "AxisAngle"
					}
				}
			],
			"sid": 140356121239163
		},
		{
			"eventType": "comment",
			"text": "If the accelerate button is being pressed, accelerate the jet forward."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 241428006782281,
					"parameters": {
						"key": 90
					}
				},
				{
					"id": "is-button-down",
					"objectClass": "Gamepad",
					"sid": 610250658349943,
					"parameters": {
						"gamepad": "0",
						"button": "button-a"
					}
				}
			],
			"actions": [
				{
					"id": "accelerate-toward-angle",
					"objectClass": "JetCollision",
					"sid": 953700295890069,
					"behaviorType": "Custom",
					"parameters": {
						"acceleration": "ACCELERATION",
						"angle": "Self.Angle"
					}
				},
				{
					"type": "comment",
					"text": "Also turn on all the jet engine components, like the fire, particles and burst."
				},
				{
					"id": "set-animation",
					"objectClass": "JetEngine",
					"sid": 490131250338599,
					"parameters": {
						"animation": "\"EngineOn\"",
						"from": "beginning"
					}
				},
				{
					"id": "set-rate",
					"objectClass": "JetParticles",
					"sid": 531702195104006,
					"parameters": {
						"rate": "64"
					}
				}
			],
			"sid": 443089430573900,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 646324605629090
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "JetCollision",
							"sid": 340143068302112,
							"parameters": {
								"object": "JetBurst",
								"layer": "\"World\"",
								"image-point": "\"Engine\"",
								"create-hierarchy": false
							}
						}
					],
					"sid": 476371227213070
				}
			],
			"isOrBlock": true
		},
		{
			"eventType": "comment",
			"text": "However, if the accelerate button isn't being pressed, apply the effect of gravity on the jet, by moving it downwards."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "else",
					"objectClass": "System",
					"sid": 605989371956595
				},
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 934852997441875,
					"parameters": {
						"key": 90
					},
					"isInverted": true
				},
				{
					"id": "is-button-down",
					"objectClass": "Gamepad",
					"sid": 539929726913035,
					"parameters": {
						"gamepad": "0",
						"button": "button-a"
					},
					"isInverted": true
				}
			],
			"actions": [
				{
					"id": "accelerate-toward-angle",
					"objectClass": "JetCollision",
					"sid": 464438529628941,
					"behaviorType": "Custom",
					"parameters": {
						"acceleration": "FALLSPEED",
						"angle": "90"
					}
				},
				{
					"type": "comment",
					"text": "Also turn off all the jet engine components, like the fire and particles."
				},
				{
					"id": "set-animation",
					"objectClass": "JetEngine",
					"sid": 654544535187377,
					"parameters": {
						"animation": "\"EngineOff\"",
						"from": "beginning"
					}
				},
				{
					"id": "set-rate",
					"objectClass": "JetParticles",
					"sid": 149674411986260,
					"parameters": {
						"rate": "0"
					}
				}
			],
			"sid": 755915058140598
		},
		{
			"eventType": "comment",
			"text": "Once the jet burst animation is over, destroy it, so it doesn't accumulate over time, creating a memory overload."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-animation-finished",
					"objectClass": "JetBurst",
					"sid": 923582639726246,
					"parameters": {
						"animation": "\"Default\""
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "JetBurst",
					"sid": 467730390066239
				}
			],
			"sid": 804854579489556
		},
		{
			"eventType": "comment",
			"text": "While the jet engine is on, leave a trail of white clones behind the jet."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 905883391691319,
					"parameters": {
						"interval-seconds": "0.05"
					}
				},
				{
					"id": "is-animation-playing",
					"objectClass": "JetEngine",
					"sid": 379743078184490,
					"parameters": {
						"animation": "\"EngineOn\""
					}
				}
			],
			"actions": [
				{
					"id": "spawn-another-object",
					"objectClass": "JetAnimations",
					"sid": 901397493030013,
					"parameters": {
						"object": "JetTrail",
						"layer": "\"World\"",
						"image-point": "0",
						"create-hierarchy": false
					}
				},
				{
					"id": "set-animation",
					"objectClass": "JetTrail",
					"sid": 823720077657335,
					"parameters": {
						"animation": "JetAnimations.AnimationName",
						"from": "beginning"
					}
				},
				{
					"id": "move-to-bottom",
					"objectClass": "JetTrail",
					"sid": 754088570581704
				}
			],
			"sid": 835045366719358
		},
		{
			"eventType": "comment",
			"text": "\n\n//////////////// CONSTANT ////////////////\n\n"
		},
		{
			"eventType": "comment",
			"text": "The current layout scale."
		},
		{
			"eventType": "variable",
			"name": "CameraScale",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 249073476729898
		},
		{
			"eventType": "comment",
			"text": "Constantly update multiple parts of the game with a single \"Every tick\" event."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 275426495466410
				}
			],
			"actions": [
				{
					"type": "comment",
					"text": "Update the jet animation to match its angle of motion, while also clamping its speed, so it doesn't surpass the max value."
				},
				{
					"id": "set-animation",
					"objectClass": "JetAnimations",
					"sid": 181756205224946,
					"parameters": {
						"animation": "str(((round(JetCollision.Angle/ 22.5) * 22.5) + 360) % 360)",
						"from": "beginning"
					}
				},
				{
					"id": "set-speed",
					"objectClass": "JetCollision",
					"sid": 252603603264285,
					"behaviorType": "Custom",
					"parameters": {
						"which": "overall",
						"speed": "clamp(Self.Custom.Speed, 0, MAXSPEED)"
					}
				},
				{
					"type": "comment",
					"text": "Calculate and update the world scale, so the camera is closer to the jet while it's moving slow and further while it's moving fast."
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 122702229623266,
					"parameters": {
						"variable": "CameraScale",
						"value": "JetCollision.Custom.Speed / MAXSPEED"
					}
				},
				{
					"id": "set-layer-scale",
					"objectClass": "System",
					"sid": 630461385813200,
					"parameters": {
						"layer": "\"World\"",
						"scale": "lerp(LayerScale(\"World\"), 1 - CameraScale / 2, 0.025 * 60 * dt)"
					}
				},
				{
					"type": "comment",
					"text": "Offset the texture of multiple object, creating the feeling of motion."
				},
				{
					"id": "set-image-offset-y",
					"objectClass": "FrontierLimits",
					"sid": 484947744755555,
					"parameters": {
						"offset-y": "Self.ImageOffsetY + 4 * 60 * dt"
					}
				},
				{
					"id": "set-image-offset-x",
					"objectClass": "Compass",
					"sid": 573813180305661,
					"parameters": {
						"offset-x": "JetCollision.X / 16"
					}
				},
				{
					"id": "set-image-offset-x",
					"objectClass": "CloudsTexture",
					"sid": 759365268612770,
					"parameters": {
						"offset-x": "Self.ImageOffsetX - 0.25 * 60 * dt"
					}
				}
			],
			"sid": 636824671727612
		},
		{
			"eventType": "comment",
			"text": "\n\n//////////////// MISSILE ////////////////\n\n"
		},
		{
			"eventType": "comment",
			"text": "Release a barrage of missiles in front of the jet."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 167707460557590,
					"parameters": {
						"key": 88
					}
				},
				{
					"id": "is-button-down",
					"objectClass": "Gamepad",
					"sid": 481099296772832,
					"parameters": {
						"gamepad": "0",
						"button": "button-b"
					}
				}
			],
			"actions": [],
			"sid": 554019343547828,
			"children": [
				{
					"eventType": "comment",
					"text": "However, only if the jet has enough ammo and the gun isn't on cooldown."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 117724635847060,
							"parameters": {
								"first-value": "Ammo",
								"comparison": 4,
								"second-value": "0"
							}
						},
						{
							"id": "is-timer-running",
							"objectClass": "JetCollision",
							"sid": 388707182967547,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"GunCooldown\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Spawn a missile with a slightly randomized angle of motion."
						},
						{
							"id": "spawn-another-object",
							"objectClass": "JetCollision",
							"sid": 863326422001893,
							"parameters": {
								"object": "Missile",
								"layer": "\"World\"",
								"image-point": "\"Missile\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-angle",
							"objectClass": "Missile",
							"sid": 158976703646506,
							"parameters": {
								"angle": "Self.Angle + random(-5, 5)"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "Missile",
							"sid": 900144459766113,
							"behaviorType": "Bullet",
							"parameters": {
								"speed": "JetCollision.Custom.Speed"
							}
						},
						{
							"type": "comment",
							"text": "Create and attach some missile particles to the missile."
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 165267619497034,
							"parameters": {
								"object-to-create": "MissileParticles",
								"layer": "\"World\"",
								"x": "Missile.ImagePointX(\"Engine\")",
								"y": "Missile.ImagePointY(\"Engine\")",
								"create-hierarchy": false
							}
						},
						{
							"id": "add-child",
							"objectClass": "Missile",
							"sid": 336881308744193,
							"parameters": {
								"child": "MissileParticles",
								"transform-x": true,
								"transform-y": true,
								"transform-w": false,
								"transform-h": false,
								"transform-a": false,
								"transform-z-elevation": false,
								"destroy-with-parent": true
							}
						},
						{
							"type": "comment",
							"text": "Create and attach a missile lock the missile."
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 588616372837485,
							"parameters": {
								"object-to-create": "MissileLock",
								"layer": "\"World\"",
								"x": "Missile.X",
								"y": "Missile.Y",
								"create-hierarchy": false
							}
						},
						{
							"id": "add-child",
							"objectClass": "Missile",
							"sid": 584328493652794,
							"parameters": {
								"child": "MissileLock",
								"transform-x": true,
								"transform-y": true,
								"transform-w": false,
								"transform-h": false,
								"transform-a": false,
								"transform-z-elevation": false,
								"destroy-with-parent": true
							}
						},
						{
							"type": "comment",
							"text": "Create and attach an invisible (zero opacity) target lock to the missile."
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 932639190448312,
							"parameters": {
								"object-to-create": "TargetLock",
								"layer": "\"World\"",
								"x": "Missile.X",
								"y": "Missile.Y",
								"create-hierarchy": false
							}
						},
						{
							"id": "add-child",
							"objectClass": "Missile",
							"sid": 173046503119176,
							"parameters": {
								"child": "TargetLock",
								"transform-x": false,
								"transform-y": false,
								"transform-w": false,
								"transform-h": false,
								"transform-a": false,
								"transform-z-elevation": false,
								"destroy-with-parent": true
							}
						},
						{
							"id": "set-opacity",
							"objectClass": "TargetLock",
							"sid": 756470730729218,
							"parameters": {
								"opacity": "0"
							}
						},
						{
							"type": "comment",
							"text": "Reduce the jet ammo count by one."
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 862118959243857,
							"parameters": {
								"variable": "Ammo",
								"value": "Ammo - 1"
							}
						},
						{
							"type": "comment",
							"text": "Update the game HUD to match the new ammo count."
						},
						{
							"callFunction": "UpdateHUD",
							"sid": 623439927754881
						},
						{
							"type": "comment",
							"text": "Stop the previous cooldowns and start new ones."
						},
						{
							"id": "start-timer",
							"objectClass": "JetCollision",
							"sid": 587151416917334,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "0.1",
								"type": "once",
								"tag": "\"GunCooldown\""
							}
						},
						{
							"id": "stop-timer",
							"objectClass": "JetCollision",
							"sid": 490472465024778,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"ReloadCooldown\""
							}
						},
						{
							"id": "stop-timer",
							"objectClass": "JetCollision",
							"sid": 678708328135132,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Reload\""
							}
						},
						{
							"id": "start-timer",
							"objectClass": "JetCollision",
							"sid": 412393604578941,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "1",
								"type": "once",
								"tag": "\"ReloadCooldown\""
							}
						},
						{
							"type": "comment",
							"text": "Display a quick muzzle flash in front of the jet."
						},
						{
							"id": "spawn-another-object",
							"objectClass": "JetCollision",
							"sid": 981925925206923,
							"parameters": {
								"object": "MuzzleFlash",
								"layer": "\"World\"",
								"image-point": "\"Missile\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "add-child",
							"objectClass": "JetCollision",
							"sid": 878520959351666,
							"parameters": {
								"child": "MuzzleFlash",
								"transform-x": true,
								"transform-y": true,
								"transform-w": false,
								"transform-h": false,
								"transform-a": false,
								"transform-z-elevation": false,
								"destroy-with-parent": false
							}
						},
						{
							"id": "set-angle",
							"objectClass": "MuzzleFlash",
							"sid": 826323197234281,
							"parameters": {
								"angle": "random(0, 360)"
							}
						},
						{
							"id": "set-size",
							"objectClass": "MuzzleFlash",
							"sid": 776987421888430,
							"parameters": {
								"width": "128",
								"height": "128"
							}
						},
						{
							"type": "comment",
							"text": "Move the water to the top of the layer, so it always have visual priority."
						},
						{
							"id": "move-to-top",
							"objectClass": "Water",
							"sid": 122539301088532
						}
					],
					"sid": 777924543063659
				}
			],
			"isOrBlock": true
		},
		{
			"eventType": "comment",
			"text": "Once the reload cooldown is over, start a much shorter regular timer that will actually reload the jet ammo."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "JetCollision",
					"sid": 262384685079994,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"ReloadCooldown\""
					}
				}
			],
			"actions": [
				{
					"id": "start-timer",
					"objectClass": "JetCollision",
					"sid": 481141752163051,
					"behaviorType": "Timer",
					"parameters": {
						"duration": "0.25",
						"type": "regular",
						"tag": "\"Reload\""
					}
				}
			],
			"sid": 663018743879896
		},
		{
			"eventType": "comment",
			"text": "Once the reload timer is over, reload the jet ammo until it's full."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "JetCollision",
					"sid": 432302603899476,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"Reload\""
					}
				}
			],
			"actions": [],
			"sid": 419490076543469,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 966600211844718,
							"parameters": {
								"first-value": "Ammo",
								"comparison": 2,
								"second-value": "12"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 740259358867941,
							"parameters": {
								"variable": "Ammo",
								"value": "Ammo + 1"
							}
						},
						{
							"type": "comment",
							"text": "Also update the game HUD to match the new ammo count."
						},
						{
							"callFunction": "UpdateHUD",
							"sid": 200420765220075
						}
					],
					"sid": 523401408118460
				},
				{
					"eventType": "comment",
					"text": "Once the jet ammo is full, stop the reload timer."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 354839563949069
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 444540360316322,
							"parameters": {
								"first-value": "Ammo",
								"comparison": 0,
								"second-value": "12"
							}
						}
					],
					"actions": [
						{
							"id": "stop-timer",
							"objectClass": "JetCollision",
							"sid": 837292458010094,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Reload\""
							}
						}
					],
					"sid": 964482142909336
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Constantly loop through every missile and rotate them towards the closes hostile VTOL if there's any."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "for-each",
					"objectClass": "System",
					"sid": 471408394609442,
					"parameters": {
						"object": "Missile"
					}
				},
				{
					"id": "compare-two-values",
					"objectClass": "System",
					"sid": 462892043105836,
					"parameters": {
						"first-value": "HostileVTOL.Count",
						"comparison": 5,
						"second-value": "1"
					}
				}
			],
			"actions": [],
			"sid": 635157971553375,
			"children": [
				{
					"eventType": "comment",
					"text": "If the missile has line of sight to a hostile VTOL, increase its target lock opacity."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "has-los-to-object",
							"objectClass": "Missile",
							"sid": 209278535014044,
							"behaviorType": "LineOfSight",
							"parameters": {
								"object": "HostileVTOL",
								"image-point": "0"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Missile",
							"sid": 319398873020148,
							"parameters": {
								"child": "TargetLock",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "set-opacity",
							"objectClass": "TargetLock",
							"sid": 608917492174114,
							"parameters": {
								"opacity": "clamp(Self.Opacity + 10 * 60 * dt, 0, 100)"
							}
						}
					],
					"sid": 519800563434600,
					"children": [
						{
							"eventType": "comment",
							"text": "Also move its target lock on top of the hostile VTOL."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-nearestfurthest",
									"objectClass": "HostileVTOL",
									"sid": 585262550270381,
									"parameters": {
										"which": "nearest",
										"x": "Missile.X",
										"y": "Missile.Y"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "TargetLock",
									"sid": 198488416439853,
									"parameters": {
										"x": "HostileVTOL.X",
										"y": "HostileVTOL.Y"
									}
								},
								{
									"id": "rotate-toward-position",
									"objectClass": "Missile",
									"sid": 885014884421809,
									"parameters": {
										"degrees": "2.5 * 60 * dt",
										"x": "HostileVTOL.X",
										"y": "HostileVTOL.Y"
									}
								}
							],
							"sid": 366958490908220
						}
					]
				},
				{
					"eventType": "comment",
					"text": "However, if the missile doesn't has line of sight to a hostile VTOL, decrease its target lock opacity."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 503636527038347
						},
						{
							"id": "has-los-to-object",
							"objectClass": "Missile",
							"sid": 668659963272519,
							"behaviorType": "LineOfSight",
							"parameters": {
								"object": "HostileVTOL",
								"image-point": "0"
							},
							"isInverted": true
						},
						{
							"id": "pick-children",
							"objectClass": "Missile",
							"sid": 687233516227317,
							"parameters": {
								"child": "TargetLock",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "set-opacity",
							"objectClass": "TargetLock",
							"sid": 540512014098298,
							"parameters": {
								"opacity": "clamp(Self.Opacity - 10 * 60 * dt, 0, 100)"
							}
						}
					],
					"sid": 191052673788279
				}
			]
		},
		{
			"eventType": "comment",
			"text": "If a missile collides with a hostile VTOL, destroy both of them."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "Missile",
					"sid": 338279076136795,
					"parameters": {
						"object": "HostileVTOL"
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "HostileVTOL",
					"sid": 374649347934005
				},
				{
					"callFunction": "DestroyMissile",
					"sid": 962687310532876,
					"parameters": [
						"Missile.UID"
					]
				}
			],
			"sid": 900900669903883,
			"children": [
				{
					"eventType": "comment",
					"text": "How large and tall each fire ball will be."
				},
				{
					"eventType": "variable",
					"name": "RandomSize",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 402963811457899
				},
				{
					"eventType": "comment",
					"text": "Spawn a sequence of 12 slightly randomized fireball around the hostile VTOL."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "repeat",
							"objectClass": "System",
							"sid": 730013517701398,
							"parameters": {
								"count": "12"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 593785564826178,
							"parameters": {
								"variable": "RandomSize",
								"value": "random(16, 48)"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 919915268973184,
							"parameters": {
								"object-to-create": "FireBall",
								"layer": "\"World\"",
								"x": "HostileVTOL.X + random(-32, 32)",
								"y": "HostileVTOL.Y + random(-32, 32)",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-size",
							"objectClass": "FireBall",
							"sid": 219939781382588,
							"parameters": {
								"width": "RandomSize",
								"height": "RandomSize"
							}
						},
						{
							"id": "set-angle",
							"objectClass": "FireBall",
							"sid": 383520424033301,
							"parameters": {
								"angle": "random(0, 360)"
							}
						},
						{
							"id": "set-animation-speed",
							"objectClass": "FireBall",
							"sid": 247275233057304,
							"parameters": {
								"speed": "random(20, 30)"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "FireBall",
							"sid": 770203195788205,
							"behaviorType": "Rotate",
							"parameters": {
								"speed": "Self.Rotate.Speed * choose(-1, 1)"
							}
						},
						{
							"type": "comment",
							"text": "Move the water to the top of the layer, so it always have visual priority."
						},
						{
							"id": "move-to-top",
							"objectClass": "Water",
							"sid": 734742249546086
						}
					],
					"sid": 406586504852756
				},
				{
					"eventType": "comment",
					"text": "Spawn a sequence of 6 slightly randomized explosion guides on top of the hostile VTOL."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "repeat",
							"objectClass": "System",
							"sid": 313429284520326,
							"parameters": {
								"count": "6"
							}
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 535432855514047,
							"parameters": {
								"object-to-create": "ExplosionGuide",
								"layer": "\"World\"",
								"x": "HostileVTOL.X",
								"y": "HostileVTOL.Y",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-angle-of-motion",
							"objectClass": "ExplosionGuide",
							"sid": 388695191260856,
							"behaviorType": "Bullet",
							"parameters": {
								"angle": "Missile.Angle + random(-90, 90)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "ExplosionGuide",
							"sid": 358648266848442,
							"parameters": {
								"instance-variable": "SizeMultiplier",
								"value": "random(0.5, 1)"
							}
						}
					],
					"sid": 946929261788851
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 875976348733592,
					"parameters": {
						"interval-seconds": "0.05"
					}
				}
			],
			"actions": [],
			"sid": 633755012271511,
			"children": [
				{
					"eventType": "comment",
					"text": "How large and tall each fire ball will be."
				},
				{
					"eventType": "variable",
					"name": "RandomSize",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 104346908734469
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 993765185515080,
							"parameters": {
								"object": "ExplosionGuide"
							}
						}
					],
					"actions": [],
					"sid": 321597620392803,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ExplosionGuide",
									"sid": 315054585415017,
									"parameters": {
										"instance-variable": "SizeMultiplier",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 415377041925382,
									"parameters": {
										"object-to-create": "FireBall",
										"layer": "\"World\"",
										"x": "ExplosionGuide.X",
										"y": "ExplosionGuide.Y",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 968969348914143,
									"parameters": {
										"variable": "RandomSize",
										"value": "random(16, 48)"
									}
								},
								{
									"id": "set-size",
									"objectClass": "FireBall",
									"sid": 123343621384607,
									"parameters": {
										"width": "RandomSize * ExplosionGuide.SizeMultiplier",
										"height": "RandomSize * ExplosionGuide.SizeMultiplier"
									}
								},
								{
									"id": "set-angle",
									"objectClass": "FireBall",
									"sid": 728895561841543,
									"parameters": {
										"angle": "random(0, 360)"
									}
								},
								{
									"id": "set-animation-speed",
									"objectClass": "FireBall",
									"sid": 976155313224774,
									"parameters": {
										"speed": "random(20, 30)"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "FireBall",
									"sid": 359756834159452,
									"behaviorType": "Rotate",
									"parameters": {
										"speed": "Self.Rotate.Speed * choose(-1, 1)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ExplosionGuide",
									"sid": 404962655701686,
									"parameters": {
										"instance-variable": "SizeMultiplier",
										"value": "clamp(Self.SizeMultiplier - 0.05, 0, Infinity)"
									}
								},
								{
									"type": "comment",
									"text": "Move the water to the top of the layer, so it always have visual priority."
								},
								{
									"id": "move-to-top",
									"objectClass": "Water",
									"sid": 995165538438168
								}
							],
							"sid": 542255666535340
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Once the firel ball animation is over, destroy it, so it doesn't accumulate over time, creating a memory overload."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-animation-finished",
					"objectClass": "FireBall",
					"sid": 117750438590357,
					"parameters": {
						"animation": "\"Default\""
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "FireBall",
					"sid": 161449246661538
				}
			],
			"sid": 331160524851569
		},
		{
			"eventType": "comment",
			"text": "If a missile leaves the combat zone, destroy it."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "evaluate-expression",
					"objectClass": "System",
					"sid": 684763389261280,
					"parameters": {
						"value": "Missile.X < 0 - 16 | Missile.X > LayoutWidth + 16 | Missile.Y < 0 - 16 | Missile.Y > LayoutHeight + 16"
					}
				}
			],
			"actions": [
				{
					"callFunction": "DestroyMissile",
					"sid": 442747460863310,
					"parameters": [
						"Missile.UID"
					]
				}
			],
			"sid": 483419269643128
		},
		{
			"eventType": "comment",
			"text": "Destroy a specific based on its UID."
		},
		{
			"functionName": "DestroyMissile",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "MissileUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 496144219417533
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Missile",
					"sid": 555511597894419,
					"parameters": {
						"unique-id": "MissileUID"
					}
				}
			],
			"actions": [],
			"sid": 415979657079612,
			"children": [
				{
					"eventType": "comment",
					"text": "First reduce the rate of the missile particles, then start a self destruction timer and then release it from the missile, so the smoke particles have enough time to dissipate in the air instead of being instantly destroyed."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-children",
							"objectClass": "Missile",
							"sid": 677108510160941,
							"parameters": {
								"child": "MissileParticles",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "set-rate",
							"objectClass": "MissileParticles",
							"sid": 569742151737059,
							"parameters": {
								"rate": "0"
							}
						},
						{
							"id": "tween-value",
							"objectClass": "MissileParticles",
							"sid": 851669355770872,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"SelfDestroy\"",
								"start-value": "0",
								"end-value": "1",
								"time": "2",
								"ease": "default",
								"destroy-on-complete": "yes",
								"loop": "no",
								"ping-pong": "no"
							}
						},
						{
							"id": "remove-child",
							"objectClass": "Missile",
							"sid": 352979312220835,
							"parameters": {
								"child": "MissileParticles"
							}
						}
					],
					"sid": 925076544418979
				},
				{
					"eventType": "comment",
					"text": "At last, destroy the missile itself."
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Missile",
							"sid": 482768798990398
						}
					],
					"sid": 714845194172402
				}
			]
		},
		{
			"eventType": "comment",
			"text": "\n\n//////////////// HOSTILE ////////////////\n\n"
		},
		{
			"eventType": "comment",
			"text": "Spawn a new hostile VTOL every second."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 962207638213094,
					"parameters": {
						"interval-seconds": "1"
					}
				}
			],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 818220211291976,
					"parameters": {
						"object-to-create": "HostileVTOL",
						"layer": "\"World\"",
						"x": "-HostileVTOL.Width / 2",
						"y": "random(272, 1904)",
						"create-hierarchy": false
					}
				},
				{
					"id": "set-angle",
					"objectClass": "HostileVTOL",
					"sid": 368852923367697,
					"parameters": {
						"angle": "10"
					}
				},
				{
					"type": "comment",
					"text": "Also spawn a hostile icon, so it can be seen from the jet radar."
				},
				{
					"id": "spawn-another-object",
					"objectClass": "HostileVTOL",
					"sid": 449805744038867,
					"parameters": {
						"object": "HostileIcon",
						"layer": "\"HUD\"",
						"image-point": "0",
						"create-hierarchy": false
					}
				},
				{
					"id": "set-angle",
					"objectClass": "HostileIcon",
					"sid": 203391095177031,
					"parameters": {
						"angle": "0"
					}
				},
				{
					"id": "set-opacity",
					"objectClass": "HostileIcon",
					"sid": 819464585568120,
					"parameters": {
						"opacity": "0"
					}
				},
				{
					"id": "add-child",
					"objectClass": "HostileVTOL",
					"sid": 446838778804736,
					"parameters": {
						"child": "HostileIcon",
						"transform-x": false,
						"transform-y": false,
						"transform-w": false,
						"transform-h": false,
						"transform-a": false,
						"transform-z-elevation": false,
						"destroy-with-parent": true
					}
				}
			],
			"sid": 827534717497667
		},
		{
			"eventType": "comment",
			"text": "The angle between the jet and the hostile VTOL."
		},
		{
			"eventType": "variable",
			"name": "HostileAngle",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 924464419893679
		},
		{
			"eventType": "comment",
			"text": "Constantly loop through each hostile VTOL and update their icon position."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "for-each",
					"objectClass": "System",
					"sid": 893766422069508,
					"parameters": {
						"object": "HostileVTOL"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 198124265654572,
					"parameters": {
						"variable": "HostileAngle",
						"value": "angle(JetCollision.X, JetCollision.Y, HostileVTOL.X, HostileVTOL.Y)"
					}
				}
			],
			"sid": 439672052028504,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-children",
							"objectClass": "HostileVTOL",
							"sid": 445344406137256,
							"parameters": {
								"child": "HostileIcon",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "HostileIcon",
							"sid": 178943106682767,
							"parameters": {
								"x": "clamp(OriginalViewportWidth / 2 + cos(HostileAngle) * 80, 0 + 16, 640 - 16)",
								"y": "clamp(OriginalViewportHeight / 2 + sin(HostileAngle) * 80, 0 + 16, 360 - 16)"
							}
						}
					],
					"sid": 633118200756947,
					"children": [
						{
							"eventType": "comment",
							"text": "If the hostile VTOL is on-screen, reduce its icon visibility."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-on-screen",
									"objectClass": "HostileVTOL",
									"sid": 260070753775675
								}
							],
							"actions": [
								{
									"id": "set-opacity",
									"objectClass": "HostileIcon",
									"sid": 431211824117036,
									"parameters": {
										"opacity": "clamp(Self.Opacity - 5 * 60 * dt, 0, 100)"
									}
								}
							],
							"sid": 565478290669860
						},
						{
							"eventType": "comment",
							"text": "However, if the hostile VTOL isn't on-screen, increase its icon visibility."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 610281406141806
								},
								{
									"id": "is-on-screen",
									"objectClass": "HostileVTOL",
									"sid": 749119841880648,
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-opacity",
									"objectClass": "HostileIcon",
									"sid": 893102540229084,
									"parameters": {
										"opacity": "clamp(Self.Opacity + 5 * 60 * dt, 0, 100)"
									}
								}
							],
							"sid": 485846245764946
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "If a hostile VTOL crosses the frontier limits, restart the game."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "evaluate-expression",
					"objectClass": "System",
					"sid": 412338061782506,
					"parameters": {
						"value": "HostileVTOL.X > FrontierLimits.BBoxRight + 64"
					}
				}
			],
			"actions": [
				{
					"callFunction": "GameOver",
					"sid": 302694537951417
				}
			],
			"sid": 795910240412076
		},
		{
			"eventType": "comment",
			"text": "\n\n//////////////// HUD ////////////////\n\n"
		},
		{
			"eventType": "comment",
			"text": "How many missiles the jet has stored."
		},
		{
			"eventType": "variable",
			"name": "Ammo",
			"type": "number",
			"initialValue": "12",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 294822850468524
		},
		{
			"eventType": "comment",
			"text": "Setup the HUD by making an initial update."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 735070342274897
				}
			],
			"actions": [
				{
					"callFunction": "UpdateHUD",
					"sid": 539524695914375
				},
				{
					"type": "comment",
					"text": "Wait 10 seconds before removing the tutorial from the HUD."
				},
				{
					"id": "wait",
					"objectClass": "System",
					"sid": 499313750182773,
					"parameters": {
						"seconds": "10"
					}
				},
				{
					"id": "tween-one-property",
					"objectClass": "Tutorial",
					"sid": 619815052618885,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"SelfDestroy\"",
						"property": "offsetX",
						"end-value": "Self.X - 224",
						"time": "1",
						"ease": "easeinsine",
						"destroy-on-complete": "yes",
						"loop": "no",
						"ping-pong": "no"
					}
				}
			],
			"sid": 151618528835089
		},
		{
			"eventType": "comment",
			"text": "Update the amount of ammo visible in the HUD."
		},
		{
			"functionName": "UpdateHUD",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-opacity",
					"objectClass": "Ammo",
					"sid": 899083221493242,
					"parameters": {
						"opacity": "5"
					}
				}
			],
			"sid": 317769297067463,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 138321742240774,
							"parameters": {
								"object": "Ammo"
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 902443817489824,
							"parameters": {
								"first-value": "Ammo.AmmoIndex",
								"comparison": 3,
								"second-value": "Ammo"
							}
						}
					],
					"actions": [
						{
							"id": "set-opacity",
							"objectClass": "Ammo",
							"sid": 349550945987156,
							"parameters": {
								"opacity": "25"
							}
						}
					],
					"sid": 638766610462577
				}
			]
		},
		{
			"eventType": "comment",
			"text": "\n\n//////////////// WATER ////////////////\n\n"
		},
		{
			"eventType": "comment",
			"text": "If the jet is close enough to the water surface, start to spawn slightly randomized waves to simulate the strong wing effect."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 462492901133370,
					"parameters": {
						"interval-seconds": "0.05"
					}
				},
				{
					"id": "evaluate-expression",
					"objectClass": "System",
					"sid": 551298970732290,
					"parameters": {
						"value": "JetAnimations.Y >= Water.BBoxTop - 128 & JetAnimations.Y <= Water.BBoxTop + 128"
					}
				},
				{
					"id": "is-animation-playing",
					"objectClass": "JetEngine",
					"sid": 410911022513070,
					"parameters": {
						"animation": "\"EngineOn\""
					}
				}
			],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 509409472703038,
					"parameters": {
						"object-to-create": "Wave",
						"layer": "\"World\"",
						"x": "JetCollision.X + random(-8, 8)",
						"y": "Water.BBoxTop",
						"create-hierarchy": false
					}
				},
				{
					"id": "set-size",
					"objectClass": "Wave",
					"sid": 569332951879662,
					"parameters": {
						"width": "Self.ImageWidth * 0.5",
						"height": "Self.ImageHeight * 0"
					}
				},
				{
					"id": "set-animation-frame",
					"objectClass": "Wave",
					"sid": 348379517695644,
					"parameters": {
						"frame-number": "choose(0, 1, 2, 3)"
					}
				},
				{
					"id": "tween-two-properties",
					"objectClass": "Wave",
					"sid": 764037998934198,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"Up\"",
						"property": "size",
						"end-x": "Self.ImageWidth * 1",
						"end-y": "Self.ImageHeight * 1",
						"time": "random(0.1, 0.2)",
						"ease": "easeoutsine",
						"destroy-on-complete": "no",
						"loop": "no",
						"ping-pong": "no"
					}
				}
			],
			"sid": 960896892430408
		},
		{
			"eventType": "comment",
			"text": "Once a wave reaches its peak high, reduce it until it's gone."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tweens-finished",
					"objectClass": "Wave",
					"sid": 896213663343176,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"Up\""
					}
				}
			],
			"actions": [
				{
					"id": "tween-two-properties",
					"objectClass": "Wave",
					"sid": 717071561325021,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"Down\"",
						"property": "size",
						"end-x": "Self.ImageWidth * 1",
						"end-y": "Self.ImageHeight * 0",
						"time": "random(0.45, 0.65)",
						"ease": "easeinsine",
						"destroy-on-complete": "yes",
						"loop": "no",
						"ping-pong": "no"
					}
				}
			],
			"sid": 142530441320442
		},
		{
			"eventType": "comment",
			"text": "\n\n//////////////// COMBAT ZONE ////////////////\n\n"
		},
		{
			"eventType": "comment",
			"text": "How long the jet can stay outside the combat zone before losing the fight."
		},
		{
			"eventType": "variable",
			"name": "MAXTIMEOUTOFCOMBAT",
			"type": "number",
			"initialValue": "5",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 700229459507353
		},
		{
			"eventType": "comment",
			"text": "How long the jet has been outside the combat zone."
		},
		{
			"eventType": "variable",
			"name": "TimeOutOfCombat",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 284659305948647
		},
		{
			"eventType": "comment",
			"text": "How strong is the BW effect."
		},
		{
			"eventType": "variable",
			"name": "BWEffect",
			"type": "number",
			"initialValue": "100",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 143869603891807
		},
		{
			"eventType": "comment",
			"text": "If the jet is out of the combat zone, increase its timer until it reaches its limit."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "evaluate-expression",
					"objectClass": "System",
					"sid": 682479553849504,
					"parameters": {
						"value": "JetCollision.X < 0 - 64 | JetCollision.X > LayoutWidth + 64 | JetCollision.Y < 0 - 64 | JetCollision.Y > LayoutHeight + 64"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 979588768008729,
					"parameters": {
						"variable": "TimeOutOfCombat",
						"value": "TimeOutOfCombat + 1 * dt"
					}
				},
				{
					"type": "comment",
					"text": "Also increase the strength of the BW effect."
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 756875727105029,
					"parameters": {
						"variable": "BWEffect",
						"value": "clamp(BWEffect - 2 * 60 * dt, 0, 100)"
					}
				},
				{
					"id": "set-layer-effect-parameter",
					"objectClass": "System",
					"sid": 332763023465239,
					"parameters": {
						"layer": "\"World\"",
						"effect": "\"AdjustHSL\"",
						"parameter-index": "1",
						"value": "BWEffect"
					}
				}
			],
			"sid": 165482073229249,
			"children": [
				{
					"eventType": "comment",
					"text": "If the timer reaches its limit, restart the game."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 421934983302619,
							"parameters": {
								"first-value": "TimeOutOfCombat",
								"comparison": 4,
								"second-value": "MAXTIMEOUTOFCOMBAT"
							}
						}
					],
					"actions": [
						{
							"callFunction": "GameOver",
							"sid": 727781685975626
						}
					],
					"sid": 297704742408248
				}
			]
		},
		{
			"eventType": "comment",
			"text": "However, if the jet is inside the combat zone, decrease its timer until it reaches zero."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "else",
					"objectClass": "System",
					"sid": 188695267152780
				},
				{
					"id": "evaluate-expression",
					"objectClass": "System",
					"sid": 692874542616788,
					"parameters": {
						"value": "JetCollision.X < 0 - 64 | JetCollision.X > LayoutWidth + 64 | JetCollision.Y < 0 - 64 | JetCollision.Y > LayoutHeight + 64"
					},
					"isInverted": true
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 544495625922923,
					"parameters": {
						"variable": "TimeOutOfCombat",
						"value": "0"
					}
				},
				{
					"type": "comment",
					"text": "Also decrease the strength of the BW effect."
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 637072304281018,
					"parameters": {
						"variable": "BWEffect",
						"value": "clamp(BWEffect + 2 * 60 * dt, 0, 100)"
					}
				},
				{
					"id": "set-layer-effect-parameter",
					"objectClass": "System",
					"sid": 461996822992283,
					"parameters": {
						"layer": "\"World\"",
						"effect": "\"AdjustHSL\"",
						"parameter-index": "1",
						"value": "BWEffect"
					}
				}
			],
			"sid": 311151052473885
		},
		{
			"eventType": "comment",
			"text": "\n\n//////////////// GAME OVER ////////////////\n\n"
		},
		{
			"eventType": "comment",
			"text": "Reset all global variables back to their default values and restart the game."
		},
		{
			"functionName": "GameOver",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "reset-global-variables",
					"objectClass": "System",
					"sid": 235044455997374
				},
				{
					"id": "restart-layout",
					"objectClass": "System",
					"sid": 383148605948308
				}
			],
			"sid": 556197907316159
		}
	],
	"sid": 234217801082952
}