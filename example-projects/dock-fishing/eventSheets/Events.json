{
	"name": "Events",
	"events": [
		{
			"eventType": "comment",
			"text": "Made by Viridino Studios (@ViridinoStudios)\n\nMateus Ferreira Moreira - Programmer\nX: @BonzerKitten\nE-mail: ferreiramoreiramateus@gmail.com\n\nFelipe Vaiano Calderan - Programmer\nX: @fvcalderan\nE-mail: fvcalderan@gmail.com\n\nWesley Andrade - Artist\nX: @andrart7\nE-mail: wesleymatos1989@gmail.com\n\nHelp us make new examples by supporting our work on https://www.patreon.com/viridinostudios"
		},
		{
			"eventType": "comment",
			"text": "Settings."
		},
		{
			"eventType": "comment",
			"text": "Rod."
		},
		{
			"eventType": "variable",
			"name": "ROD_MIN_LENGTH",
			"type": "number",
			"initialValue": "2",
			"comment": "Minimum width/length for the rod",
			"isStatic": false,
			"isConstant": true,
			"sid": 482659604249442
		},
		{
			"eventType": "variable",
			"name": "ROD_MAX_LENGTH",
			"type": "number",
			"initialValue": "64",
			"comment": "Maximum width/length for the rod",
			"isStatic": false,
			"isConstant": true,
			"sid": 488941536822635
		},
		{
			"eventType": "variable",
			"name": "ROD_SPEED",
			"type": "number",
			"initialValue": "32",
			"comment": "Speed to increase/decrease rod's length",
			"isStatic": false,
			"isConstant": true,
			"sid": 139016250277246
		},
		{
			"eventType": "comment",
			"text": "Line."
		},
		{
			"eventType": "variable",
			"name": "LINE_MAX_ANGLE",
			"type": "number",
			"initialValue": "45",
			"comment": "Maximum desired angle magnitude for the line",
			"isStatic": false,
			"isConstant": true,
			"sid": 396517456364176
		},
		{
			"eventType": "variable",
			"name": "LINE_ANGLE_INCREASE_SPEED",
			"type": "number",
			"initialValue": "120",
			"comment": "Speed to increase line's desired angle",
			"isStatic": false,
			"isConstant": true,
			"sid": 546142356693461
		},
		{
			"eventType": "variable",
			"name": "LINE_ANGLE_DECREASE_SPEED",
			"type": "number",
			"initialValue": "100",
			"comment": "Speed to decrease line's desired angle",
			"isStatic": false,
			"isConstant": true,
			"sid": 841101026951328
		},
		{
			"eventType": "variable",
			"name": "LINE_ROTATE_SPEED",
			"type": "number",
			"initialValue": "40",
			"comment": "Speed to rotate the line",
			"isStatic": false,
			"isConstant": true,
			"sid": 707208628470892
		},
		{
			"eventType": "variable",
			"name": "LINE_MIN_LENGTH",
			"type": "number",
			"initialValue": "24",
			"comment": "Minimum height/length for the line",
			"isStatic": false,
			"isConstant": true,
			"sid": 940645459970834
		},
		{
			"eventType": "variable",
			"name": "LINE_MAX_LENGTH",
			"type": "number",
			"initialValue": "128",
			"comment": "Maximum height/length for the line",
			"isStatic": false,
			"isConstant": true,
			"sid": 603826780189540
		},
		{
			"eventType": "variable",
			"name": "LINE_LENGTH_INCREASE_SPEED",
			"type": "number",
			"initialValue": "50",
			"comment": "Speed to increase line's speed",
			"isStatic": false,
			"isConstant": true,
			"sid": 913169510585761
		},
		{
			"eventType": "variable",
			"name": "LINE_LENGTH_DECREASE_SPEED",
			"type": "number",
			"initialValue": "40",
			"comment": "Speed to decrease line's speed",
			"isStatic": false,
			"isConstant": true,
			"sid": 652519734202591
		},
		{
			"eventType": "comment",
			"text": "Fish."
		},
		{
			"eventType": "variable",
			"name": "FISH_MIN_SPAWN_TIME",
			"type": "number",
			"initialValue": "0.5",
			"comment": "Minimum spawn time of a new fish",
			"isStatic": false,
			"isConstant": true,
			"sid": 200289641656652
		},
		{
			"eventType": "variable",
			"name": "FISH_MAX_SPAWN_TIME_INCREMENT",
			"type": "number",
			"initialValue": "2",
			"comment": "Maximum increment on the minimum time to spawn a new fish",
			"isStatic": false,
			"isConstant": true,
			"sid": 725717777849428
		},
		{
			"eventType": "variable",
			"name": "FISH_MAX_SIN_MAGNITUDE",
			"type": "number",
			"initialValue": "16",
			"comment": "Maximum magnitude for fish sine behavior",
			"isStatic": false,
			"isConstant": true,
			"sid": 225083635174131
		},
		{
			"eventType": "variable",
			"name": "FISH_MIN_SIN_PERIOD",
			"type": "number",
			"initialValue": "2",
			"comment": "Minimum period for fish sine behavior",
			"isStatic": false,
			"isConstant": true,
			"sid": 630815999105404
		},
		{
			"eventType": "variable",
			"name": "FISH_MAX_SIN_PERIOD_INCREMENT",
			"type": "number",
			"initialValue": "3",
			"comment": "Maximum increment on the minimum period for fish sine behavior",
			"isStatic": false,
			"isConstant": true,
			"sid": 645617350855963
		},
		{
			"eventType": "variable",
			"name": "FISH_MAX_SIN_CYCLE_POSITION",
			"type": "number",
			"initialValue": "2",
			"comment": "Maximum cycle position for fish sine behavior",
			"isStatic": false,
			"isConstant": true,
			"sid": 545118211831183
		},
		{
			"eventType": "variable",
			"name": "FISH_MAX_Y_MOVEMENT_DEVIATION",
			"type": "number",
			"initialValue": "64",
			"comment": "Maximum deviation in the Y axis when fish moves",
			"isStatic": false,
			"isConstant": true,
			"sid": 482145541627576
		},
		{
			"eventType": "variable",
			"name": "FISH_DESTROY_ANIM_TIME",
			"type": "number",
			"initialValue": "0.25",
			"comment": "Time for completion of fish destroy animations",
			"isStatic": false,
			"isConstant": true,
			"sid": 116245478324646
		},
		{
			"eventType": "comment",
			"text": "Shark."
		},
		{
			"eventType": "variable",
			"name": "SHARK_TRAVEL_TIME",
			"type": "number",
			"initialValue": "5",
			"comment": "Time taken for the shark to cross the screen",
			"isStatic": false,
			"isConstant": true,
			"sid": 418372041969720
		},
		{
			"eventType": "variable",
			"name": "SHARK_BITE_TIME",
			"type": "number",
			"initialValue": "1",
			"comment": "For how long the shark keeps its mouth closed",
			"isStatic": false,
			"isConstant": true,
			"sid": 527977635266927
		},
		{
			"eventType": "comment",
			"text": "Win condition."
		},
		{
			"eventType": "variable",
			"name": "MAX_SCORE",
			"type": "number",
			"initialValue": "25",
			"comment": "Points necessary to win the game",
			"isStatic": false,
			"isConstant": true,
			"sid": 229890171762735
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Setup",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Controls start disabled, since the player needs to press [SPACE] to hide the tutorial text. Game Over controls also start disabled."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 383627397375836
						}
					],
					"actions": [
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 395472594056582,
							"parameters": {
								"group-name": "\"Controls\"",
								"state": "deactivated"
							}
						},
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 108626166749349,
							"parameters": {
								"group-name": "\"Game Over\"",
								"state": "deactivated"
							}
						}
					],
					"sid": 282116805433203
				}
			],
			"sid": 410265795763643
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Tutorial",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "When [SPACE] is pressed, disable the tutorial and start the game."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 913626169820521,
							"parameters": {
								"key": 32
							}
						},
						{
							"id": "pick-random-instance",
							"objectClass": "System",
							"sid": 308422818775567,
							"parameters": {
								"object": "SharkWaypointRight"
							}
						}
					],
					"actions": [
						{
							"id": "tween-one-property",
							"objectClass": "TextTutorial",
							"sid": 163174664842457,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"TutorialFadeOut\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "0.5",
								"ease": "easeinoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "Fader",
							"sid": 236890027943679,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FaderFadeOut\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "0.5",
								"ease": "easeinoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "start-timer",
							"objectClass": "GameTimer",
							"sid": 892176537988776,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "1.0",
								"type": "once",
								"tag": "\"SpawnFish\""
							}
						},
						{
							"id": "tween-two-properties",
							"objectClass": "Shark",
							"sid": 779656846824014,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"SharkPosRight\"",
								"property": "position",
								"end-x": "SharkWaypointRight.X",
								"end-y": "SharkWaypointRight.Y",
								"time": "5",
								"ease": "easeinoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 429668833421391,
							"parameters": {
								"group-name": "\"Controls\"",
								"state": "activated"
							}
						},
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 182379605745570,
							"parameters": {
								"group-name": "\"Tutorial\"",
								"state": "deactivated"
							}
						}
					],
					"sid": 452987192566794
				}
			],
			"sid": 142679733142978
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Controls",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Decrease the length of the rod."
				},
				{
					"functionName": "decreaseRod",
					"functionDescription": "Decrease the length of the rod.",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "player",
							"type": "number",
							"initialValue": "1",
							"comment": "Player executing the action",
							"sid": 695755324562855
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "compare-width",
							"objectClass": "Rod",
							"sid": 798182183464665,
							"parameters": {
								"comparison": 4,
								"width": "ROD_MIN_LENGTH"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Change length of the rod."
						},
						{
							"id": "set-width",
							"objectClass": "Rod",
							"sid": 678152191586280,
							"parameters": {
								"width": "Self.Width - ROD_SPEED * dt"
							}
						},
						{
							"type": "comment",
							"text": "Player is performing an action, therefore is not idling."
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Player",
							"sid": 688571789341560,
							"parameters": {
								"instance-variable": "idling",
								"value": "false"
							}
						}
					],
					"sid": 912259073510722,
					"children": [
						{
							"eventType": "comment",
							"text": "Apply movement to the line. Movement direction changes depending on the player."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 250231471654826,
									"parameters": {
										"value": "player = 1"
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "Line",
									"sid": 497276590450659,
									"parameters": {
										"x": "Rod.X + Rod.Width - 2"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Line",
									"sid": 746647479336263,
									"parameters": {
										"instance-variable": "goToAngle",
										"value": "max(-LINE_MAX_ANGLE, Self.goToAngle - LINE_ANGLE_INCREASE_SPEED * dt)"
									}
								}
							],
							"sid": 922711586885343
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 112903893466769
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "Line",
									"sid": 418939241875972,
									"parameters": {
										"x": "Rod.X - Rod.Width"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Line",
									"sid": 286677717398229,
									"parameters": {
										"instance-variable": "goToAngle",
										"value": "min(LINE_MAX_ANGLE, Self.goToAngle + LINE_ANGLE_INCREASE_SPEED * dt)"
									}
								}
							],
							"sid": 483728646517857
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Increase the legth of the rod."
				},
				{
					"functionName": "increaseRod",
					"functionDescription": "Increase the legth of the rod.",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "player",
							"type": "number",
							"initialValue": "1",
							"comment": "Player executing the action",
							"sid": 685053860940474
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "compare-width",
							"objectClass": "Rod",
							"sid": 362963663891800,
							"parameters": {
								"comparison": 2,
								"width": "ROD_MAX_LENGTH"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Change length of the rod."
						},
						{
							"id": "set-width",
							"objectClass": "Rod",
							"sid": 971265312371109,
							"parameters": {
								"width": "Self.Width + ROD_SPEED * dt"
							}
						},
						{
							"type": "comment",
							"text": "Player is performing an action, therefore is not idling."
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Player",
							"sid": 379720314753702,
							"parameters": {
								"instance-variable": "idling",
								"value": "false"
							}
						}
					],
					"sid": 540245319824086,
					"children": [
						{
							"eventType": "comment",
							"text": "Apply movement to the line. Movement direction changes depending on the player."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 377376385308576,
									"parameters": {
										"value": "player = 1"
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "Line",
									"sid": 851740723209956,
									"parameters": {
										"x": "Rod.X + Rod.Width - 2"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Line",
									"sid": 339901583251233,
									"parameters": {
										"instance-variable": "goToAngle",
										"value": "min(LINE_MAX_ANGLE, Self.goToAngle + LINE_ANGLE_INCREASE_SPEED * dt)"
									}
								}
							],
							"sid": 692234664329453
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 398764521502352
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "Line",
									"sid": 861922488701009,
									"parameters": {
										"x": "Rod.X - Rod.Width"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Line",
									"sid": 636446311051041,
									"parameters": {
										"instance-variable": "goToAngle",
										"value": "max(-LINE_MAX_ANGLE, Self.goToAngle - LINE_ANGLE_INCREASE_SPEED * dt)"
									}
								}
							],
							"sid": 667042944926180
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Increase the length of the line."
				},
				{
					"functionName": "increaseLine",
					"functionDescription": "Increase the length of the line.",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "compare-height",
							"objectClass": "Line",
							"sid": 812388622645953,
							"parameters": {
								"comparison": 2,
								"height": "LINE_MAX_LENGTH"
							}
						}
					],
					"actions": [
						{
							"id": "set-height",
							"objectClass": "Line",
							"sid": 334323785249440,
							"parameters": {
								"height": "Self.Height + LINE_LENGTH_INCREASE_SPEED * dt"
							}
						},
						{
							"type": "comment",
							"text": "Player is performing an action, therefore is not idling."
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Player",
							"sid": 160814581250008,
							"parameters": {
								"instance-variable": "idling",
								"value": "false"
							}
						}
					],
					"sid": 875910264288828
				},
				{
					"eventType": "comment",
					"text": "Decrease the length of the line."
				},
				{
					"functionName": "decreaseLine",
					"functionDescription": "Decrease the length of the line.",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "compare-height",
							"objectClass": "Line",
							"sid": 754709783821841,
							"parameters": {
								"comparison": 4,
								"height": "LINE_MIN_LENGTH"
							}
						}
					],
					"actions": [
						{
							"id": "set-height",
							"objectClass": "Line",
							"sid": 172919587299845,
							"parameters": {
								"height": "Self.Height - LINE_LENGTH_INCREASE_SPEED * dt"
							}
						},
						{
							"type": "comment",
							"text": "Player is performing an action, therefore is not idling."
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Player",
							"sid": 100012357051497,
							"parameters": {
								"instance-variable": "idling",
								"value": "false"
							}
						}
					],
					"sid": 693150218065240
				},
				{
					"eventType": "comment",
					"text": "Make line progressively move to desired/relaxed position and update bait position accordingly."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 824796476303851
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 366029484032132,
							"parameters": {
								"object": "Line"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Line",
							"sid": 251734128951827,
							"parameters": {
								"child": "Bait",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "rotate-toward-angle",
							"objectClass": "Line",
							"sid": 634958886451788,
							"parameters": {
								"degrees": "LINE_ROTATE_SPEED * dt",
								"angle": "Self.goToAngle"
							}
						},
						{
							"id": "set-position",
							"objectClass": "Bait",
							"sid": 695128584350845,
							"parameters": {
								"x": "Line.X  - Line.Height * sin(Line.Angle) + 1",
								"y": "Line.Y + Line.Height * cos(Line.Angle)"
							}
						}
					],
					"sid": 861994080641526,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-between-angles",
									"objectClass": "Line",
									"sid": 589737788757432,
									"parameters": {
										"first-angle": "0",
										"second-angle": "45"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Line",
									"sid": 621316294668557,
									"parameters": {
										"instance-variable": "goToAngle",
										"value": "max(0, Self.goToAngle - LINE_ANGLE_DECREASE_SPEED * dt)"
									}
								}
							],
							"sid": 589484223232068
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 479103726766696
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Line",
									"sid": 943167729749665,
									"parameters": {
										"instance-variable": "goToAngle",
										"value": "min(0, Self.goToAngle + LINE_ANGLE_DECREASE_SPEED * dt)"
									}
								}
							],
							"sid": 421397968823656
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Assume the player is idling."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 762904110608406
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Player",
							"sid": 748548644257181,
							"parameters": {
								"instance-variable": "idling",
								"value": "true"
							}
						}
					],
					"sid": 874977348045035
				},
				{
					"eventType": "comment",
					"text": "Player 1 controls."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 228773827389801,
							"parameters": {
								"object": "Player",
								"expression": "Player.playerID = 1"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Player",
							"sid": 412488528833889,
							"parameters": {
								"child": "Rod",
								"which": "own"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Player",
							"sid": 735675410881577,
							"parameters": {
								"child": "Line",
								"which": "own"
							}
						}
					],
					"actions": [],
					"sid": 362759602758322,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 359391335124630,
									"parameters": {
										"key": 65
									}
								}
							],
							"actions": [
								{
									"callFunction": "decreaseRod",
									"sid": 797440863731249,
									"parameters": [
										"1"
									]
								}
							],
							"sid": 501189689531204
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 280087133590445,
									"parameters": {
										"key": 68
									}
								}
							],
							"actions": [
								{
									"callFunction": "increaseRod",
									"sid": 773542612509624,
									"parameters": [
										"1"
									]
								}
							],
							"sid": 830338664554931
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 764185425727675,
									"parameters": {
										"key": 87
									}
								}
							],
							"actions": [
								{
									"callFunction": "decreaseLine",
									"sid": 786436132446822
								}
							],
							"sid": 784140738527234
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 614415467190295,
									"parameters": {
										"key": 83
									}
								}
							],
							"actions": [
								{
									"callFunction": "increaseLine",
									"sid": 439309377728409
								}
							],
							"sid": 989119163878457
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Player 2 controls."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 250120371196749,
							"parameters": {
								"object": "Player",
								"expression": "Player.playerID = 2"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Player",
							"sid": 880148174663853,
							"parameters": {
								"child": "Rod",
								"which": "own"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Player",
							"sid": 619118288121821,
							"parameters": {
								"child": "Line",
								"which": "own"
							}
						}
					],
					"actions": [],
					"sid": 737934775938075,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 674395273106875,
									"parameters": {
										"key": 37
									}
								}
							],
							"actions": [
								{
									"callFunction": "increaseRod",
									"sid": 949066087606935,
									"parameters": [
										"2"
									]
								}
							],
							"sid": 522873454282687
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 738827135532793,
									"parameters": {
										"key": 39
									}
								}
							],
							"actions": [
								{
									"callFunction": "decreaseRod",
									"sid": 368229083114119,
									"parameters": [
										"2"
									]
								}
							],
							"sid": 328513871024681
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 407797575565021,
									"parameters": {
										"key": 38
									}
								}
							],
							"actions": [
								{
									"callFunction": "decreaseLine",
									"sid": 373103264148085
								}
							],
							"sid": 790911921287120
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 740829841378870,
									"parameters": {
										"key": 40
									}
								}
							],
							"actions": [
								{
									"callFunction": "increaseLine",
									"sid": 696125978779855
								}
							],
							"sid": 666423895470029
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Change player animation based on whether an action is being performed or not."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 999666671525219,
							"parameters": {
								"object": "Player"
							}
						}
					],
					"actions": [],
					"sid": 925662319636501,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Player",
									"sid": 172161156723500,
									"parameters": {
										"instance-variable": "idling"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 981620026436964,
									"parameters": {
										"animation": "Player.playerID & \"_Idle\"",
										"from": "beginning"
									}
								}
							],
							"sid": 735993508409403
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 380788944409223
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 407225330468577,
									"parameters": {
										"animation": "Player.playerID & \"_Rod\"",
										"from": "current-frame"
									}
								}
							],
							"sid": 956557049806236
						}
					]
				}
			],
			"sid": 617105329973364
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Fish",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "fishSpawnerIID",
					"type": "number",
					"initialValue": "0",
					"comment": "IID for the fish spawner to use",
					"isStatic": false,
					"isConstant": false,
					"sid": 557796003657869
				},
				{
					"eventType": "comment",
					"text": "When GameTimer \"SpawnFish\" timer is triggerede, spawn a new fish and set its properties."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "GameTimer",
							"sid": 805031568479310,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"SpawnFish\""
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Fish spawns at 1 of the 6 available spawners. The variable below gets a random spawner IID."
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 322494023829438,
							"parameters": {
								"variable": "fishSpawnerIID",
								"value": "choose(0, 1, 2, 3, 4, 5)"
							}
						},
						{
							"type": "comment",
							"text": "Reset fish spawn timer."
						},
						{
							"id": "start-timer",
							"objectClass": "GameTimer",
							"sid": 591849469269234,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "random(FISH_MAX_SPAWN_TIME_INCREMENT) + FISH_MIN_SPAWN_TIME",
								"type": "once",
								"tag": "\"SpawnFish\""
							}
						}
					],
					"sid": 947956073949707,
					"children": [
						{
							"eventType": "comment",
							"text": "Pick the spawner corresponding to the value of fishSpawnerIID variable and create a fish at its location."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-evaluate",
									"objectClass": "System",
									"sid": 555320543791413,
									"parameters": {
										"object": "FishSpawner",
										"expression": "FishSpawner.IID = fishSpawnerIID"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Create the fish."
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 441898947804705,
									"parameters": {
										"object-to-create": "Fish",
										"layer": "\"Game\"",
										"x": "FishSpawner.X",
										"y": "FishSpawner.Y",
										"create-hierarchy": true,
										"template-name": "\"\""
									}
								},
								{
									"type": "comment",
									"text": "Choose one of 3 random fish types."
								},
								{
									"id": "set-animation",
									"objectClass": "Fish",
									"sid": 447626232102031,
									"parameters": {
										"animation": "\"Fish_\" & int(random(3))",
										"from": "beginning"
									}
								},
								{
									"type": "comment",
									"text": "Set fish sine properties."
								},
								{
									"id": "set-magnitude",
									"objectClass": "Fish",
									"sid": 120275988229243,
									"behaviorType": "Sine",
									"parameters": {
										"magnitude": "FISH_MAX_SIN_MAGNITUDE"
									}
								},
								{
									"id": "set-period",
									"objectClass": "Fish",
									"sid": 110405811290408,
									"behaviorType": "Sine",
									"parameters": {
										"period": "random(FISH_MAX_SIN_PERIOD_INCREMENT) + FISH_MIN_SIN_PERIOD"
									}
								},
								{
									"id": "set-cycle-position",
									"objectClass": "Fish",
									"sid": 873574774234099,
									"behaviorType": "Sine",
									"parameters": {
										"cycle-position": "random(FISH_MAX_SIN_CYCLE_POSITION)"
									}
								},
								{
									"type": "comment",
									"text": "Move fish to the bottom of the layer."
								},
								{
									"id": "move-to-bottom",
									"objectClass": "Fish",
									"sid": 815891915074280
								},
								{
									"type": "comment",
									"text": "Move background to the bottom of the layer."
								},
								{
									"id": "move-to-bottom",
									"objectClass": "Background",
									"sid": 123483030362389
								}
							],
							"sid": 424452053612855,
							"children": [
								{
									"eventType": "comment",
									"text": "If the spawner is mirrored, fish should spawn mirrored and go to the left."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "FishSpawner",
											"sid": 599145626142170,
											"parameters": {
												"instance-variable": "mirrored"
											}
										}
									],
									"actions": [
										{
											"id": "set-width",
											"objectClass": "Fish",
											"sid": 750803528983887,
											"parameters": {
												"width": "-Self.ImageWidth"
											}
										},
										{
											"id": "move-to-position",
											"objectClass": "Fish",
											"sid": 377947284338371,
											"behaviorType": "MoveTo",
											"parameters": {
												"x": "-LayoutWidth * 2",
												"y": "Self.Y + random(FISH_MAX_Y_MOVEMENT_DEVIATION) - FISH_MAX_Y_MOVEMENT_DEVIATION/2",
												"mode": "direct"
											}
										}
									],
									"sid": 249515747545393
								},
								{
									"eventType": "comment",
									"text": "Otherwise, fish spawns normally and go to the right."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 803844030885518
										}
									],
									"actions": [
										{
											"id": "move-to-position",
											"objectClass": "Fish",
											"sid": 676486190801983,
											"behaviorType": "MoveTo",
											"parameters": {
												"x": "LayoutWidth * 2",
												"y": "Self.Y + random(FISH_MAX_Y_MOVEMENT_DEVIATION) - FISH_MAX_Y_MOVEMENT_DEVIATION/2",
												"mode": "direct"
											}
										}
									],
									"sid": 793351403052152
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "When a fish touches a free bait, it gets attached to it."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Fish",
							"sid": 748620826365637,
							"parameters": {
								"object": "Bait"
							}
						},
						{
							"id": "compare-child-count",
							"objectClass": "Bait",
							"sid": 193000941181247,
							"parameters": {
								"which": "own",
								"comparison": 0,
								"count": "0"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Fish",
							"sid": 318892762702626,
							"parameters": {
								"child": "MovementBubbles",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Make fish a child of the bait object."
						},
						{
							"id": "add-child",
							"objectClass": "Bait",
							"sid": 296448709691287,
							"parameters": {
								"child": "Fish",
								"transform-x": true,
								"transform-y": true,
								"transform-w": false,
								"transform-h": false,
								"transform-a": false,
								"transform-o": false,
								"transform-z-elevation": false,
								"transform-visibility": false,
								"destroy-with-parent": false
							}
						},
						{
							"type": "comment",
							"text": "Disable fish movement."
						},
						{
							"id": "set-enabled",
							"objectClass": "Fish",
							"sid": 953465919560594,
							"behaviorType": "MoveTo",
							"parameters": {
								"enabled": false
							}
						},
						{
							"id": "set-active",
							"objectClass": "Fish",
							"sid": 278854333089034,
							"behaviorType": "Sine",
							"parameters": {
								"state": "inactive"
							}
						},
						{
							"type": "comment",
							"text": "Snap fish position to the bait."
						},
						{
							"id": "set-mirrored",
							"objectClass": "Fish",
							"sid": 569615480775103,
							"parameters": {
								"state": "not-mirrored"
							}
						},
						{
							"id": "set-position",
							"objectClass": "Fish",
							"sid": 375162237106473,
							"parameters": {
								"x": "Bait.ImagePointX(\"BaitPoint\")",
								"y": "Bait.ImagePointY(\"BaitPoint\") + 8"
							}
						},
						{
							"id": "set-angle",
							"objectClass": "Fish",
							"sid": 360376006323375,
							"parameters": {
								"angle": "-90"
							}
						},
						{
							"type": "comment",
							"text": "Destroy movement bubbles."
						},
						{
							"id": "destroy",
							"objectClass": "MovementBubbles",
							"sid": 835382782420982
						}
					],
					"sid": 460853255995784
				},
				{
					"eventType": "comment",
					"text": "Fish gets destroyed when the player pulls it to the surface. This earns the player who captured the fish a point."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-y",
							"objectClass": "Fish",
							"sid": 165082653019042,
							"parameters": {
								"comparison": 2,
								"y-co-ordinate": "76"
							}
						},
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 115414780099784,
							"parameters": {
								"value": "Fish.Angle = 270"
							}
						},
						{
							"id": "has-parent",
							"objectClass": "Fish",
							"sid": 717181425542742
						},
						{
							"id": "pick-parent",
							"objectClass": "Fish",
							"sid": 853462463919833,
							"parameters": {
								"parent": "Bait",
								"which": "own"
							}
						},
						{
							"id": "pick-parent",
							"objectClass": "Bait",
							"sid": 257774414907948,
							"parameters": {
								"parent": "Line",
								"which": "own"
							}
						},
						{
							"id": "pick-parent",
							"objectClass": "Line",
							"sid": 328045633272496,
							"parameters": {
								"parent": "Player",
								"which": "own"
							}
						},
						{
							"id": "is-playing",
							"objectClass": "Fish",
							"sid": 699995118203036,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FishOpacity\""
							},
							"isInverted": true
						},
						{
							"id": "is-playing",
							"objectClass": "Fish",
							"sid": 606406778166275,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FishSize\""
							},
							"isInverted": true
						},
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 503766491474758,
							"parameters": {
								"object": "TextScore",
								"expression": "TextScore.playerID = Bait.playerID"
							}
						},
						{
							"id": "is-group-active",
							"objectClass": "System",
							"sid": 113630855236110,
							"parameters": {
								"group-name": "\"Game Over\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Destroy fish with a fade animation."
						},
						{
							"id": "tween-one-property",
							"objectClass": "Fish",
							"sid": 730523596377012,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FishOpacity\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "FISH_DESTROY_ANIM_TIME",
								"ease": "easeinoutsine",
								"destroy-on-complete": "yes",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "add-to-instvar",
							"objectClass": "Player",
							"sid": 854110079637947,
							"parameters": {
								"instance-variable": "playerScore",
								"value": "int(right(Fish.AnimationName, 1)) + 1"
							}
						},
						{
							"id": "set-text",
							"objectClass": "TextScore",
							"sid": 408449250138420,
							"parameters": {
								"text": "zeropad(Player.playerScore, 2)"
							}
						}
					],
					"sid": 350822045748094,
					"children": [
						{
							"eventType": "comment",
							"text": "Player has won the match."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 191548452798259,
									"parameters": {
										"instance-variable": "playerScore",
										"comparison": 5,
										"value": "MAX_SCORE"
									}
								},
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 252166480992716
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Show game over text and fader."
								},
								{
									"id": "set-text",
									"objectClass": "TextGameOver",
									"sid": 583795015281894,
									"parameters": {
										"text": "replace(Self.Text, \"X\", str(Player.playerID))"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "Fader",
									"sid": 786513677307518,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"FaderFadeIn\"",
										"property": "offsetOpacity",
										"end-value": "90",
										"time": "0.5",
										"ease": "easeinoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "TextGameOver",
									"sid": 874380002477129,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"TextGameOverFadeIn\"",
										"property": "offsetOpacity",
										"end-value": "100",
										"time": "0.5",
										"ease": "easeinoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"type": "comment",
									"text": "Deactivate game controls and activate Game Over controls."
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 302511794184728,
									"parameters": {
										"group-name": "\"Controls\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 862815360150928,
									"parameters": {
										"group-name": "\"Game Over\"",
										"state": "activated"
									}
								},
								{
									"type": "comment",
									"text": "Stop all entities."
								},
								{
									"id": "stop-all-timers",
									"objectClass": "GameTimer",
									"sid": 659643693234117,
									"behaviorType": "Timer"
								},
								{
									"id": "stop-all-tweens",
									"objectClass": "Shark",
									"sid": 307489442990461,
									"behaviorType": "Tween"
								}
							],
							"sid": 649201468940428,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 893537017871495,
											"parameters": {
												"object": "Fish"
											}
										}
									],
									"actions": [
										{
											"id": "stop",
											"objectClass": "Fish",
											"sid": 998359991370584,
											"behaviorType": "MoveTo"
										},
										{
											"id": "stop-all-tweens",
											"objectClass": "Fish",
											"sid": 365946832859688,
											"behaviorType": "Tween"
										}
									],
									"sid": 554600335122837
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Fish dies when too far from view."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-x",
							"objectClass": "Fish",
							"sid": 810113200443612,
							"parameters": {
								"comparison": 4,
								"x-co-ordinate": "LayoutWidth + 64"
							}
						},
						{
							"id": "compare-x",
							"objectClass": "Fish",
							"sid": 418488185408621,
							"parameters": {
								"comparison": 2,
								"x-co-ordinate": "-64"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Fish",
							"sid": 914663719787024
						}
					],
					"sid": 100169802569066,
					"isOrBlock": true
				}
			],
			"sid": 675138971482028
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Shark",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "When shark finishes moving left, it starts moving right."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "Shark",
							"sid": 638756579711591,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"SharkPosLeft\""
							}
						},
						{
							"id": "pick-random-instance",
							"objectClass": "System",
							"sid": 757253964983695,
							"parameters": {
								"object": "SharkWaypointRight"
							}
						}
					],
					"actions": [
						{
							"id": "tween-two-properties",
							"objectClass": "Shark",
							"sid": 750942869164986,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"SharkPosRight\"",
								"property": "position",
								"end-x": "SharkWaypointRight.X",
								"end-y": "SharkWaypointRight.Y",
								"time": "SHARK_TRAVEL_TIME",
								"ease": "easeinoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "set-width",
							"objectClass": "Shark",
							"sid": 958381994494179,
							"parameters": {
								"width": "Self.ImageWidth"
							}
						}
					],
					"sid": 627971663145963
				},
				{
					"eventType": "comment",
					"text": "When shark finishes moving right, it starts moving left."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "Shark",
							"sid": 579849311149226,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"SharkPosRight\""
							}
						},
						{
							"id": "pick-random-instance",
							"objectClass": "System",
							"sid": 122574565138503,
							"parameters": {
								"object": "SharkWaypointLeft"
							}
						}
					],
					"actions": [
						{
							"id": "tween-two-properties",
							"objectClass": "Shark",
							"sid": 813347875633009,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"SharkPosLeft\"",
								"property": "position",
								"end-x": "SharkWaypointLeft.X",
								"end-y": "SharkWaypointLeft.Y",
								"time": "SHARK_TRAVEL_TIME",
								"ease": "easeinoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "set-width",
							"objectClass": "Shark",
							"sid": 959433612896920,
							"parameters": {
								"width": "-Self.ImageWidth"
							}
						}
					],
					"sid": 603694217387220
				},
				{
					"eventType": "comment",
					"text": "Shark eats fish on collision."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Shark",
							"sid": 802224170779538,
							"parameters": {
								"object": "Fish"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "Shark",
							"sid": 275817846545171,
							"parameters": {
								"animation": "\"Swim\""
							}
						},
						{
							"id": "is-playing",
							"objectClass": "Fish",
							"sid": 307954506605159,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FishOpacity\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Change shark animation."
						},
						{
							"id": "set-animation",
							"objectClass": "Shark",
							"sid": 286079858128132,
							"parameters": {
								"animation": "\"Bite\"",
								"from": "beginning"
							}
						},
						{
							"type": "comment",
							"text": "Destroy fish with a simple shrink animation."
						},
						{
							"id": "tween-two-properties",
							"objectClass": "Fish",
							"sid": 160113270636580,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FishSize\"",
								"property": "size",
								"end-x": "0",
								"end-y": "0",
								"time": "FISH_DESTROY_ANIM_TIME",
								"ease": "easeinoutsine",
								"destroy-on-complete": "yes",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"type": "comment",
							"text": "Wait a little before the shark can eat another fish."
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 549874682557806,
							"parameters": {
								"seconds": "SHARK_BITE_TIME"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "Shark",
							"sid": 895897937869246,
							"parameters": {
								"animation": "\"Swim\"",
								"from": "beginning"
							}
						}
					],
					"sid": 985189288962393
				}
			],
			"sid": 338418222333046
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Game Over",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "When the game is over and the player presses [SPACE], restart the game."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 249690481364039,
							"parameters": {
								"key": 32
							}
						}
					],
					"actions": [
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 924316260479840
						}
					],
					"sid": 900457148201571
				}
			],
			"sid": 607945145709266
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Clouds",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Move clouds slowly."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 688362372620425
						}
					],
					"actions": [
						{
							"id": "set-image-offset-x",
							"objectClass": "Clouds",
							"sid": 305862734721824,
							"parameters": {
								"offset-x": "Self.ImageOffsetX + 1 * dt"
							}
						}
					],
					"sid": 224740293997056
				}
			],
			"sid": 341334874479690
		}
	],
	"sid": 141965343005767
}