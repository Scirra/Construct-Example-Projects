{
	"name": "Code",
	"events": [
		{
			"eventType": "comment",
			"text": "Made by Viridino Studios (@ViridinoStudios)\n\nMateus Ferreira Moreira - Programmer\nX: @BonzerKitten\nE-mail: ferreiramoreiramateus@gmail.com\n\nFelipe Vaiano Calderan - Programmer\nX: @fvcalderan\nE-mail: fvcalderan@gmail.com\n\nWesley Andrade - Artist\nX: @andrart7\nE-mail: wesleymatos1989@gmail.com\n\nHelp us make new examples by supporting our work on https://www.patreon.com/viridinostudios"
		},
		{
			"eventType": "comment",
			"text": "The number of rows and columns in the playable grid."
		},
		{
			"eventType": "variable",
			"name": "COLUMNS",
			"type": "number",
			"initialValue": "5",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 750229871749944
		},
		{
			"eventType": "variable",
			"name": "ROWS",
			"type": "number",
			"initialValue": "7",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 832807857250630
		},
		{
			"eventType": "comment",
			"text": "How big each block is."
		},
		{
			"eventType": "variable",
			"name": "SPRITESIZE",
			"type": "number",
			"initialValue": "96",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 393861646626925
		},
		{
			"eventType": "comment",
			"text": "The RGB color of each corner."
		},
		{
			"eventType": "variable",
			"name": "TOPLEFTCOLOR",
			"type": "string",
			"initialValue": "208|232|32",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 763998379719538
		},
		{
			"eventType": "variable",
			"name": "TOPRIGHTCOLOR",
			"type": "string",
			"initialValue": "70|204|255",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 878526298403791
		},
		{
			"eventType": "variable",
			"name": "BOTTOMLEFTCOLOR",
			"type": "string",
			"initialValue": "255|55|123",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 722033423246142
		},
		{
			"eventType": "variable",
			"name": "BOTTOMRIGHTCOLOR",
			"type": "string",
			"initialValue": "43|43|175",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 475643407385226
		},
		{
			"eventType": "comment",
			"text": "Setup the game by playing a fade out animation and creating the blocks on the grid."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 950256861324369
				}
			],
			"actions": [
				{
					"id": "tween-one-property",
					"objectClass": "Fade",
					"sid": 531365887967230,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"FadeOut\"",
						"property": "offsetOpacity",
						"end-value": "0",
						"time": "0.5",
						"ease": "noease",
						"destroy-on-complete": "no",
						"loop": "no",
						"ping-pong": "no",
						"repeat-count": "1"
					}
				}
			],
			"sid": 537418941112218,
			"children": [
				{
					"eventType": "comment",
					"text": "How far each loop has gone from 0 to 1."
				},
				{
					"eventType": "variable",
					"name": "XProgress",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 984803122757681
				},
				{
					"eventType": "variable",
					"name": "YProgress",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 656922275465821
				},
				{
					"eventType": "comment",
					"text": "The amount of red present in the block."
				},
				{
					"eventType": "variable",
					"name": "RedTop",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 579942424597926
				},
				{
					"eventType": "variable",
					"name": "RedBottom",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 497881065750132
				},
				{
					"eventType": "variable",
					"name": "RedFinal",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 181972132719571
				},
				{
					"eventType": "comment",
					"text": "The amount of green present in the block."
				},
				{
					"eventType": "variable",
					"name": "GreenTop",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 309439844279974
				},
				{
					"eventType": "variable",
					"name": "GreenBottom",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 936251548876866
				},
				{
					"eventType": "variable",
					"name": "GreenFinal",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 259970222506757
				},
				{
					"eventType": "comment",
					"text": "The amount of blue present in the block."
				},
				{
					"eventType": "variable",
					"name": "BlueTop",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 126157181314012
				},
				{
					"eventType": "variable",
					"name": "BlueBottom",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 972411432067774
				},
				{
					"eventType": "variable",
					"name": "BlueFinal",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 951624130202344
				},
				{
					"eventType": "comment",
					"text": "The loop index of both loops combined into a single value."
				},
				{
					"eventType": "variable",
					"name": "GeneralLoopindex",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 411065862608755
				},
				{
					"eventType": "comment",
					"text": "Resize the array, so it can accommodate the information of every block in the level, except for the corner ones."
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-size",
							"objectClass": "Array",
							"sid": 666961614306248,
							"parameters": {
								"width": "COLUMNS * ROWS - 4",
								"height": "3",
								"depth": "1"
							}
						}
					],
					"sid": 466910835857285
				},
				{
					"eventType": "comment",
					"text": "Execute a horizontal and a vertical loop to create every block in the level."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 882910927379842,
							"parameters": {
								"name": "\"y\"",
								"start-index": "0",
								"end-index": "ROWS - 1"
							}
						}
					],
					"actions": [],
					"sid": 629898285252777,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 372907238297136,
									"parameters": {
										"name": "\"x\"",
										"start-index": "0",
										"end-index": "COLUMNS - 1"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Create a block and adjust its size."
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 106207527178456,
									"parameters": {
										"object-to-create": "Block",
										"layer": "0",
										"x": "LayoutWidth / 2 - SPRITESIZE * COLUMNS / 2 + SPRITESIZE / 2 + SPRITESIZE * loopindex(\"x\")",
										"y": "LayoutHeight / 2 - SPRITESIZE * ROWS / 2 + SPRITESIZE / 2 + SPRITESIZE * loopindex(\"y\")",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-size",
									"objectClass": "Block",
									"sid": 926215803163148,
									"parameters": {
										"width": "SPRITESIZE - 4",
										"height": "SPRITESIZE - 4"
									}
								},
								{
									"type": "comment",
									"text": "Update the X and Y progress variables based on the current loop index."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 120809192185525,
									"parameters": {
										"variable": "XProgress",
										"value": "unlerp(0, COLUMNS - 1, loopindex(\"x\"))"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 189607214956190,
									"parameters": {
										"variable": "YProgress",
										"value": "unlerp(0, ROWS - 1, loopindex(\"y\"))"
									}
								},
								{
									"type": "comment",
									"text": "Mix the amount of red present in the top and bottom blocks of the current column in order to find the red tone for the recently created block."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 634213993642396,
									"parameters": {
										"variable": "RedTop",
										"value": "lerp(float(tokenat(TOPLEFTCOLOR, 0, \"|\")), float(tokenat(TOPRIGHTCOLOR, 0, \"|\")), XProgress)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 719489822774718,
									"parameters": {
										"variable": "RedBottom",
										"value": "lerp(float(tokenat(BOTTOMLEFTCOLOR, 0, \"|\")), float(tokenat(BOTTOMRIGHTCOLOR, 0, \"|\")), XProgress)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 472780950601432,
									"parameters": {
										"variable": "RedFinal",
										"value": "lerp(RedTop, RedBottom, YProgress)"
									}
								},
								{
									"type": "comment",
									"text": "Mix the amount of green present in the top and bottom blocks of the current column in order to find the green tone for the recently created block."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 455462772532523,
									"parameters": {
										"variable": "GreenTop",
										"value": "lerp(float(tokenat(TOPLEFTCOLOR, 1, \"|\")), float(tokenat(TOPRIGHTCOLOR, 1, \"|\")), XProgress)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 585358643975783,
									"parameters": {
										"variable": "GreenBottom",
										"value": "lerp(float(tokenat(BOTTOMLEFTCOLOR, 1, \"|\")), float(tokenat(BOTTOMRIGHTCOLOR, 1, \"|\")), XProgress)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 130673099147638,
									"parameters": {
										"variable": "GreenFinal",
										"value": "lerp(GreenTop, GreenBottom, YProgress)"
									}
								},
								{
									"type": "comment",
									"text": "Mix the amount of blue present in the top and bottom blocks of the current column in order to find the blue tone for the recently created block."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 599049619178172,
									"parameters": {
										"variable": "BlueTop",
										"value": "lerp(float(tokenat(TOPLEFTCOLOR, 2, \"|\")), float(tokenat(TOPRIGHTCOLOR, 2, \"|\")), XProgress)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 599079862833811,
									"parameters": {
										"variable": "BlueBottom",
										"value": "lerp(float(tokenat(BOTTOMLEFTCOLOR, 2, \"|\")), float(tokenat(BOTTOMRIGHTCOLOR, 2, \"|\")), XProgress)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 976589054429951,
									"parameters": {
										"variable": "BlueFinal",
										"value": "lerp(BlueTop, BlueBottom, YProgress)"
									}
								},
								{
									"type": "comment",
									"text": "Apply the RGB color to the block."
								},
								{
									"id": "set-default-color",
									"objectClass": "Block",
									"sid": 886341274929295,
									"parameters": {
										"color": "rgbEx255(RedFinal, GreenFinal, BlueFinal)"
									}
								},
								{
									"type": "comment",
									"text": "Create a holder below the block, so it can be identified later."
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 350964685322042,
									"parameters": {
										"object-to-create": "Holder",
										"layer": "0",
										"x": "Block.X",
										"y": "Block.Y",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-size",
									"objectClass": "Holder",
									"sid": 787150360131517,
									"parameters": {
										"width": "Block.Width",
										"height": "Block.Height"
									}
								},
								{
									"id": "move-to-object",
									"objectClass": "Holder",
									"sid": 804342322560718,
									"parameters": {
										"where": "in-front",
										"object": "Background"
									}
								},
								{
									"type": "comment",
									"text": "Store the block UID into the holder."
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Block",
									"sid": 972298189834939,
									"parameters": {
										"instance-variable": "CorrectHolderUID",
										"value": "Holder.UID"
									}
								}
							],
							"sid": 522420042416303,
							"children": [
								{
									"eventType": "comment",
									"text": "If the block is a corner, mark it as static, so the player can't move it."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 220334042880285,
											"parameters": {
												"value": "XProgress = 0 & YProgress = 0"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 777895704272983,
											"parameters": {
												"value": "XProgress = 1 & YProgress = 0"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 777909003637005,
											"parameters": {
												"value": "XProgress = 0 & YProgress = 1"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 323589604931820,
											"parameters": {
												"value": "XProgress = 1 & YProgress = 1"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Block",
											"sid": 950066345269338,
											"parameters": {
												"instance-variable": "Static",
												"value": "true"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "Block",
											"sid": 179715915388861,
											"parameters": {
												"animation": "\"Static\"",
												"from": "beginning"
											}
										},
										{
											"type": "comment",
											"text": "Since this block wont move, make sure it's already in the correct position."
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Block",
											"sid": 544668923905823,
											"parameters": {
												"instance-variable": "CurrentHolderUID",
												"value": "Self.CorrectHolderUID"
											}
										}
									],
									"sid": 707136286745609,
									"isOrBlock": true
								},
								{
									"eventType": "comment",
									"text": "However, if the block isn't a corner, store its information in the array."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 423343175878773
										}
									],
									"actions": [
										{
											"id": "set-at-xy",
											"objectClass": "Array",
											"sid": 388679284776084,
											"parameters": {
												"x": "GeneralLoopindex",
												"y": "0",
												"value": "Block.UID"
											}
										},
										{
											"id": "set-at-xy",
											"objectClass": "Array",
											"sid": 636347375049117,
											"parameters": {
												"x": "GeneralLoopindex",
												"y": "1",
												"value": "Block.X"
											}
										},
										{
											"id": "set-at-xy",
											"objectClass": "Array",
											"sid": 131655719335589,
											"parameters": {
												"x": "GeneralLoopindex",
												"y": "2",
												"value": "Block.Y"
											}
										},
										{
											"type": "comment",
											"text": "Also, increase the general loopindex."
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 600392890552075,
											"parameters": {
												"variable": "GeneralLoopindex",
												"value": "GeneralLoopindex + 1"
											}
										}
									],
									"sid": 923909005107854
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Create a permutation table to shuffle the blocks and wait 1.5 before starting the game."
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "createPermutationTable",
							"objectClass": "AdvancedRandom",
							"sid": 365878210876995,
							"parameters": {
								"length": "Array.Width",
								"offset": "0"
							}
						},
						{
							"id": "start-timer",
							"objectClass": "GameManager",
							"sid": 159603585166935,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "1.5",
								"type": "once",
								"tag": "\"Start\""
							}
						}
					],
					"sid": 410985805151942
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Once the start timer is done, create a glow effect and shuffle all the blocks in the level."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "GameManager",
					"sid": 910938832105161,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"Start\""
					}
				}
			],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 663119744002277,
					"parameters": {
						"object-to-create": "Glow",
						"layer": "\"Palette\"",
						"x": "LayoutWidth / 2",
						"y": "LayoutHeight / 2",
						"create-hierarchy": false,
						"template-name": "\"\""
					}
				},
				{
					"id": "set-size",
					"objectClass": "Glow",
					"sid": 338996644802484,
					"parameters": {
						"width": "SPRITESIZE * 2",
						"height": "SPRITESIZE * 2"
					}
				},
				{
					"id": "tween-two-properties",
					"objectClass": "Glow",
					"sid": 841665141633918,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"Expand\"",
						"property": "size",
						"end-x": "(max(COLUMNS, ROWS) + 2) * SPRITESIZE",
						"end-y": "(max(COLUMNS, ROWS) + 2) * SPRITESIZE",
						"time": "0.75",
						"ease": "easeoutsine",
						"destroy-on-complete": "no",
						"loop": "no",
						"ping-pong": "no",
						"repeat-count": "1"
					}
				},
				{
					"id": "tween-one-property",
					"objectClass": "Glow",
					"sid": 404112879962343,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"FadeOut\"",
						"property": "offsetOpacity",
						"end-value": "0",
						"time": "0.75",
						"ease": "noease",
						"destroy-on-complete": "yes",
						"loop": "no",
						"ping-pong": "no",
						"repeat-count": "1"
					}
				}
			],
			"sid": 763059572147895,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "repeat",
							"objectClass": "System",
							"sid": 936810185116601,
							"parameters": {
								"count": "Array.Width"
							}
						}
					],
					"actions": [],
					"sid": 313389760181946,
					"children": [
						{
							"eventType": "comment",
							"text": "The block color before it turns white."
						},
						{
							"eventType": "variable",
							"name": "ColorBuffer",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 315261536490577
						},
						{
							"eventType": "comment",
							"text": "Pick a block and move it to a different position."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 632777923342496,
									"parameters": {
										"object": "Block",
										"expression": "Block.UID",
										"comparison": 0,
										"value": "Array.At(loopindex, 0)"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "Block",
									"sid": 193896912367498,
									"parameters": {
										"x": "Array.At(AdvancedRandom.Permutation(loopindex), 1)",
										"y": "Array.At(AdvancedRandom.Permutation(loopindex), 2)"
									}
								},
								{
									"type": "comment",
									"text": "Store the block color and change it to white."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 182040297359835,
									"parameters": {
										"variable": "ColorBuffer",
										"value": "Block.ColorValue"
									}
								},
								{
									"id": "set-default-color",
									"objectClass": "Block",
									"sid": 579092691478451,
									"parameters": {
										"color": "rgbEx255(234, 232, 209)"
									}
								},
								{
									"type": "comment",
									"text": "Slowly make the block restore its original color."
								},
								{
									"id": "tween-one-property",
									"objectClass": "Block",
									"sid": 446588186094599,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"Fade\"",
										"property": "offsetColor",
										"end-value": "ColorBuffer",
										"time": "random(0.25, 1)",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 947320895265163,
							"children": [
								{
									"eventType": "comment",
									"text": "Store the UID of the nearest holder into the block."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Block",
											"sid": 620722368567874,
											"parameters": {
												"object": "Holder"
											}
										}
									],
									"actions": [],
									"sid": 900313131819182,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-nearestfurthest",
													"objectClass": "Holder",
													"sid": 115727105565315,
													"parameters": {
														"which": "nearest",
														"x": "Block.X",
														"y": "Block.Y"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "Block",
													"sid": 325580881930751,
													"parameters": {
														"instance-variable": "CurrentHolderUID",
														"value": "Holder.UID"
													}
												}
											],
											"sid": 859281519709098
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Enable the player input."
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "SetPlayerInputEnabled",
							"sid": 221770713764644,
							"parameters": [
								true
							]
						}
					],
					"sid": 229209231317968
				}
			]
		},
		{
			"eventType": "comment",
			"text": "If the player grabs a block, move it to the top of the layer."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-drag-start",
					"objectClass": "Block",
					"sid": 172537460458182,
					"behaviorType": "DragDrop"
				}
			],
			"actions": [
				{
					"id": "move-to-top",
					"objectClass": "Block",
					"sid": 227679475610036
				}
			],
			"sid": 597600321648473
		},
		{
			"eventType": "comment",
			"text": "Once the block is dropped, snap it to the correct position."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-drop",
					"objectClass": "Block",
					"sid": 397670100739851,
					"behaviorType": "DragDrop"
				}
			],
			"actions": [],
			"sid": 230219793868946,
			"children": [
				{
					"eventType": "comment",
					"text": "The UID of the dragged block."
				},
				{
					"eventType": "variable",
					"name": "DraggedBlockUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 513179124732841
				},
				{
					"eventType": "comment",
					"text": "The holder UID of the dragged block."
				},
				{
					"eventType": "variable",
					"name": "DraggedBlockHolderUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 546323213189503
				},
				{
					"eventType": "comment",
					"text": "The UID of the target holder."
				},
				{
					"eventType": "variable",
					"name": "OverlappedHolderUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 359327460175127
				},
				{
					"eventType": "comment",
					"text": "Whether or not the block should swap places."
				},
				{
					"eventType": "variable",
					"name": "SwapBlocks",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 826937844196709
				},
				{
					"eventType": "comment",
					"text": "If the block is overlapping a holder, try to swap places."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Block",
							"sid": 685575688749526,
							"parameters": {
								"object": "Holder"
							}
						}
					],
					"actions": [],
					"sid": 817044584843214,
					"children": [
						{
							"eventType": "comment",
							"text": "Pick the nearest holder."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-nearestfurthest",
									"objectClass": "Holder",
									"sid": 778276599750730,
									"parameters": {
										"which": "nearest",
										"x": "Block.X",
										"y": "Block.Y"
									}
								}
							],
							"actions": [],
							"sid": 138192303639486,
							"children": [
								{
									"eventType": "comment",
									"text": "Whether or not the overlapped block is static."
								},
								{
									"eventType": "variable",
									"name": "OverlappedBlockIsStatic",
									"type": "boolean",
									"initialValue": "false",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 805642843790857
								},
								{
									"eventType": "comment",
									"text": "Pick the overlapped block and check if it's static."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 627806273264822,
											"parameters": {
												"object": "Block"
											}
										}
									],
									"actions": [],
									"sid": 167162431326017,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 749678216986732,
													"parameters": {
														"object": "Block",
														"expression": "Block.CurrentHolderUID",
														"comparison": 0,
														"value": "Holder.UID"
													}
												}
											],
											"actions": [],
											"sid": 900744886950795,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 962978227797321,
															"parameters": {
																"value": "Block.Static = 1"
															}
														}
													],
													"actions": [
														{
															"id": "set-boolean-eventvar",
															"objectClass": "System",
															"sid": 801378684421532,
															"parameters": {
																"variable": "OverlappedBlockIsStatic",
																"value": "true"
															}
														}
													],
													"sid": 995678373144162
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 870570395017608
														},
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 534563843510297,
															"parameters": {
																"value": "Block.Static = 0"
															}
														}
													],
													"actions": [
														{
															"id": "set-boolean-eventvar",
															"objectClass": "System",
															"sid": 949300318538876,
															"parameters": {
																"variable": "OverlappedBlockIsStatic",
																"value": "false"
															}
														}
													],
													"sid": 234289486075522
												}
											]
										}
									]
								},
								{
									"eventType": "comment",
									"text": "If the overlapped block is static, prevent it from swapping places."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 866380901854226,
											"parameters": {
												"value": "OverlappedBlockIsStatic = 1"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 408793578376231,
											"parameters": {
												"variable": "SwapBlocks",
												"value": "false"
											}
										}
									],
									"sid": 301063220444446
								},
								{
									"eventType": "comment",
									"text": "However, if the overlapped block isn't static, allow it to swap places."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 593274620348994
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 943649126832918,
											"parameters": {
												"value": "OverlappedBlockIsStatic = 0"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 955438355565080,
											"parameters": {
												"variable": "SwapBlocks",
												"value": "true"
											}
										},
										{
											"type": "comment",
											"text": "Store the information of the dragged block and its holder in a few buffer variables."
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 650218879052465,
											"parameters": {
												"variable": "DraggedBlockUID",
												"value": "Block.UID"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 337959735602691,
											"parameters": {
												"variable": "DraggedBlockHolderUID",
												"value": "Block.CurrentHolderUID"
											}
										}
									],
									"sid": 638961870419252,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-nearestfurthest",
													"objectClass": "Holder",
													"sid": 437649272777150,
													"parameters": {
														"which": "nearest",
														"x": "Block.X",
														"y": "Block.Y"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 581480334765618,
													"parameters": {
														"variable": "OverlappedHolderUID",
														"value": "Holder.UID"
													}
												}
											],
											"sid": 813489542044845
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "However, if the block isn't overlapping a holder, prevent it from swapping places."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 281484146291395
						},
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Block",
							"sid": 630358050099333,
							"parameters": {
								"object": "Holder"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 449182411421083,
							"parameters": {
								"variable": "SwapBlocks",
								"value": "false"
							}
						}
					],
					"sid": 201219685262693
				},
				{
					"eventType": "comment",
					"text": "If swap blocks is enabled, swap the position and information of both blocks."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 978984212573824,
							"parameters": {
								"value": "SwapBlocks = 1"
							}
						}
					],
					"actions": [],
					"sid": 473927971982256,
					"children": [
						{
							"eventType": "comment",
							"text": "Pick the overlapped block and move it to the position of the dragged block."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 853084596417860,
									"parameters": {
										"object": "Block"
									}
								}
							],
							"actions": [],
							"sid": 766916050915986,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 450960863048329,
											"parameters": {
												"object": "Block",
												"expression": "Block.CurrentHolderUID",
												"comparison": 0,
												"value": "OverlappedHolderUID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Block",
											"sid": 684235191799833,
											"parameters": {
												"instance-variable": "CurrentHolderUID",
												"value": "DraggedBlockHolderUID"
											}
										}
									],
									"sid": 940870642582471,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "Holder",
													"sid": 515946286341720,
													"parameters": {
														"unique-id": "Block.CurrentHolderUID"
													}
												}
											],
											"actions": [
												{
													"id": "set-position",
													"objectClass": "Block",
													"sid": 533131897539553,
													"parameters": {
														"x": "Holder.X",
														"y": "Holder.Y"
													}
												}
											],
											"sid": 269452369689079
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Move the dragged block to the position of the overlapped block."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Block",
									"sid": 723618168782069,
									"parameters": {
										"instance-variable": "CurrentHolderUID",
										"value": "OverlappedHolderUID"
									}
								}
							],
							"sid": 516441201533026,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "Holder",
											"sid": 443331705989702,
											"parameters": {
												"unique-id": "Block.CurrentHolderUID"
											}
										}
									],
									"actions": [
										{
											"id": "set-position",
											"objectClass": "Block",
											"sid": 611941282552226,
											"parameters": {
												"x": "Holder.X",
												"y": "Holder.Y"
											}
										}
									],
									"sid": 737527623165507
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "However, if swap blocks is disabled, return the dragged block back to its original position."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 921112963845433
						},
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 998825450543602,
							"parameters": {
								"value": "SwapBlocks = 0"
							}
						}
					],
					"actions": [],
					"sid": 345011846026665,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "Holder",
									"sid": 662070935607915,
									"parameters": {
										"unique-id": "Block.CurrentHolderUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "Block",
									"sid": 936804483842403,
									"parameters": {
										"x": "Holder.X",
										"y": "Holder.Y"
									}
								}
							],
							"sid": 281760468469975
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Once all blocks are in place, check if the game is over."
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "CheckIfGameIsOver",
							"sid": 342698752496511
						}
					],
					"sid": 148675321342193
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Enable or disable the player input."
		},
		{
			"functionName": "SetPlayerInputEnabled",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "Enabled",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 501268131244811
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 304047362842040,
			"children": [
				{
					"eventType": "comment",
					"text": "Enable the player input, allowing it to interact with the game."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 170225695959316,
							"parameters": {
								"value": "Enabled = 1"
							}
						}
					],
					"actions": [],
					"sid": 129031374441374,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 222782697939485,
									"parameters": {
										"object": "Block"
									}
								}
							],
							"actions": [],
							"sid": 533631770713353,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 132720320140122,
											"parameters": {
												"value": "Block.Static = 1"
											}
										}
									],
									"actions": [
										{
											"id": "set-enabled",
											"objectClass": "Block",
											"sid": 103955512269711,
											"behaviorType": "DragDrop",
											"parameters": {
												"state": "disabled"
											}
										}
									],
									"sid": 351798857757652
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 701115065781639
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 450978543967372,
											"parameters": {
												"value": "Block.Static = 0"
											}
										}
									],
									"actions": [
										{
											"id": "set-enabled",
											"objectClass": "Block",
											"sid": 657106828995200,
											"behaviorType": "DragDrop",
											"parameters": {
												"state": "enabled"
											}
										}
									],
									"sid": 281838248685107
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Disable the player input, preventing it from interacting with the game."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 201575096435110
						},
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 636399658427969,
							"parameters": {
								"value": "Enabled = 0"
							}
						}
					],
					"actions": [],
					"sid": 879515582258482,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 713903871121085,
									"parameters": {
										"object": "Block"
									}
								}
							],
							"actions": [
								{
									"id": "set-enabled",
									"objectClass": "Block",
									"sid": 609528222723850,
									"behaviorType": "DragDrop",
									"parameters": {
										"state": "disabled"
									}
								}
							],
							"sid": 819877544193281
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Update the current holder UID of each block in the level."
		},
		{
			"functionName": "UpdateBlocksHolders",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 495629786963054,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 668070552272230,
							"parameters": {
								"object": "Block"
							}
						}
					],
					"actions": [],
					"sid": 458432921799253,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Block",
									"sid": 401474094313490,
									"parameters": {
										"object": "Holder"
									}
								}
							],
							"actions": [],
							"sid": 316512083653663,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-nearestfurthest",
											"objectClass": "Holder",
											"sid": 409928037145331,
											"parameters": {
												"which": "nearest",
												"x": "Block.X",
												"y": "Block.Y"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Block",
											"sid": 392582006018276,
											"parameters": {
												"instance-variable": "CurrentHolderUID",
												"value": "Holder.UID"
											}
										}
									],
									"sid": 142031501721992
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Check if all the blocks are in the correct position, resulting in a game over screen."
		},
		{
			"functionName": "CheckIfGameIsOver",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 989675965311508,
			"children": [
				{
					"eventType": "comment",
					"text": "Count how many blocks are in the wrong position by comparing their current and correct holder UIDs."
				},
				{
					"eventType": "variable",
					"name": "Errors",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 358562381684502
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 509593142144417,
							"parameters": {
								"object": "Block"
							}
						}
					],
					"actions": [],
					"sid": 170903731732245,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 152785091898250,
									"parameters": {
										"value": "Block.CurrentHolderUID <> Block.CorrectHolderUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 338395861364724,
									"parameters": {
										"variable": "Errors",
										"value": "Errors + 1"
									}
								}
							],
							"sid": 432202675367735
						}
					]
				},
				{
					"eventType": "comment",
					"text": "If there are no errors, display a congratulatory message and restart the game a few seconds later."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 920035026736875,
							"parameters": {
								"value": "Errors = 0"
							}
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "Congratulations",
							"sid": 137179752667100,
							"parameters": {
								"text": "\"You're awesome!\"",
								"duration": "0.5"
							}
						},
						{
							"type": "comment",
							"text": ""
						},
						{
							"callFunction": "SetPlayerInputEnabled",
							"sid": 308936223207812,
							"parameters": [
								false
							]
						},
						{
							"type": "comment",
							"text": ""
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 337888913939914,
							"parameters": {
								"seconds": "2.5"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 627822423991829
						},
						{
							"id": "tween-one-property",
							"objectClass": "Fade",
							"sid": 233818676484192,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FadeIn\"",
								"property": "offsetOpacity",
								"end-value": "100",
								"time": "0.5",
								"ease": "noease",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 665849626785608
						},
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 525040005937305
						}
					],
					"sid": 368052917883323
				}
			]
		}
	],
	"sid": 183050718694692
}