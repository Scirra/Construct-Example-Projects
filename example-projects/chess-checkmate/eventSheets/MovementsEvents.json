{
	"name": "MovementsEvents",
	"events": [
		{
			"eventType": "group",
			"disabled": false,
			"title": "Piece Attacks",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Check if a square is being attacked by the White Pawn."
				},
				{
					"functionName": "isSquareAttackedByWhitePawn",
					"functionDescription": "Check if a square is being attacked by the White Pawn",
					"functionCategory": "",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "x",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 730151179844565
						},
						{
							"name": "y",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 685327777997907
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 692752753457357,
					"children": [
						{
							"eventType": "variable",
							"name": "attackedByPawn",
							"type": "boolean",
							"initialValue": "false",
							"comment": "Stores if the square is being attacked by the Pawn",
							"isStatic": false,
							"isConstant": false,
							"sid": 693353280578686
						},
						{
							"eventType": "comment",
							"text": "There is no White Pawn on the board, therefore no square can be attacked by it."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "WhitePiece",
									"sid": 921547119206413,
									"parameters": {
										"animation": "\"WhitePawn\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 627699134473006,
									"parameters": {
										"variable": "attackedByPawn",
										"value": "false"
									}
								}
							],
							"sid": 901210489780142
						},
						{
							"eventType": "comment",
							"text": "Squares on the top diagonals of the white pawn are attacked."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 455187055246807
								}
							],
							"actions": [],
							"sid": 729325233417385,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 634343945834804,
											"parameters": {
												"value": "(x = WhitePiece.posX - 1) & (y = WhitePiece.posY - 1)"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 766896427901051,
											"parameters": {
												"value": "(x = WhitePiece.posX + 1) & (y = WhitePiece.posY - 1)"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 655526216175738,
											"parameters": {
												"variable": "attackedByPawn",
												"value": "true"
											}
										}
									],
									"sid": 128302302274091,
									"isOrBlock": true
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Return correct value."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 652708613854579,
									"parameters": {
										"variable": "attackedByPawn"
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 525282008552693,
									"parameters": {
										"value": "1"
									}
								}
							],
							"sid": 536226860080343
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 835868639820400
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 878290644196150,
									"parameters": {
										"value": "0"
									}
								}
							],
							"sid": 782791138833709
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Check if a square is being attacked by the White Rook."
				},
				{
					"functionName": "isSquareAttackedByWhiteRook",
					"functionDescription": "Check if a square is being attacked by the White Rook",
					"functionCategory": "",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "x",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 933449346670222
						},
						{
							"name": "y",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 971754797940587
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "squaresAttackedByWhiteRook",
							"sid": 565801946158908,
							"parameters": [
								true
							]
						}
					],
					"sid": 261865556434357,
					"children": [
						{
							"eventType": "variable",
							"name": "attackedByRook",
							"type": "boolean",
							"initialValue": "false",
							"comment": "Stores if the square is being attacked by the Rook",
							"isStatic": false,
							"isConstant": false,
							"sid": 980985167706581
						},
						{
							"eventType": "comment",
							"text": "There is no White Rook on the board, therefore no square can be attacked by it."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "WhitePiece",
									"sid": 747525995013924,
									"parameters": {
										"animation": "\"WhiteRook\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 167632254690524,
									"parameters": {
										"variable": "attackedByRook",
										"value": "false"
									}
								}
							],
							"sid": 365702560776622
						},
						{
							"eventType": "comment",
							"text": "Squares to where the Rook can move are attacked."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 508477895718203
								}
							],
							"actions": [],
							"sid": 648177789069699,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each-element",
											"objectClass": "ArrAttackPos",
											"sid": 910000616399154,
											"parameters": {
												"axes": "x"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 340591957379350,
											"parameters": {
												"value": "(str(x) = tokenat(ArrAttackPos.CurValue, 0, \"|\")) & (str(y) = tokenat(ArrAttackPos.CurValue, 1, \"|\"))"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 429578459766368,
											"parameters": {
												"variable": "attackedByRook",
												"value": "true"
											}
										}
									],
									"sid": 854654382355091
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Return correct value."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 578145837564426,
									"parameters": {
										"variable": "attackedByRook"
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 409397634982550,
									"parameters": {
										"value": "1"
									}
								}
							],
							"sid": 122678528093694
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 290289447074897
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 629348696588071,
									"parameters": {
										"value": "0"
									}
								}
							],
							"sid": 858405526479311
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Check if a square is being attacked by the White Queen."
				},
				{
					"functionName": "isSquareAttackedByWhiteQueen",
					"functionDescription": "Check if a square is being attacked by the White Queen",
					"functionCategory": "",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "x",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 238131692977204
						},
						{
							"name": "y",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 977802182755952
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "squaresAttackedByWhiteQueen",
							"sid": 326215210340033,
							"parameters": [
								true
							]
						}
					],
					"sid": 529937355679067,
					"children": [
						{
							"eventType": "variable",
							"name": "attackedByQueen",
							"type": "boolean",
							"initialValue": "false",
							"comment": "Stores if the square is being attacked by the Queen",
							"isStatic": false,
							"isConstant": false,
							"sid": 711199670876132
						},
						{
							"eventType": "comment",
							"text": "There is no White Queen on the board, therefore no square can be attacked by it."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "WhitePiece",
									"sid": 242397377991098,
									"parameters": {
										"animation": "\"WhiteQueen\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 229247956141259,
									"parameters": {
										"variable": "attackedByQueen",
										"value": "false"
									}
								}
							],
							"sid": 789791954537706
						},
						{
							"eventType": "comment",
							"text": "Squares to where the Queen  can move are attacked."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 582902536496306
								}
							],
							"actions": [],
							"sid": 766587222853813,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each-element",
											"objectClass": "ArrAttackPos",
											"sid": 275770877979063,
											"parameters": {
												"axes": "x"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 993238482735356,
											"parameters": {
												"value": "(str(x) = tokenat(ArrAttackPos.CurValue, 0, \"|\")) & (str(y) = tokenat(ArrAttackPos.CurValue, 1, \"|\"))"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 367357797591983,
											"parameters": {
												"variable": "attackedByQueen",
												"value": "true"
											}
										}
									],
									"sid": 337921635424571
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Return correct value."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 510805990943975,
									"parameters": {
										"variable": "attackedByQueen"
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 395406808585266,
									"parameters": {
										"value": "1"
									}
								}
							],
							"sid": 292270908302629
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 231236157907883
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 791862502703902,
									"parameters": {
										"value": "0"
									}
								}
							],
							"sid": 685405568428351
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Get squares attacked by White Rook."
				},
				{
					"functionName": "squaresAttackedByWhiteRook",
					"functionDescription": "Get squares attacked by White Rook",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "attack",
							"type": "boolean",
							"initialValue": "false",
							"comment": "Run function in check attack squares mode",
							"sid": 887147140395065
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-size",
							"objectClass": "ArrAttackPos",
							"sid": 345164655516098,
							"parameters": {
								"width": "0",
								"height": "1",
								"depth": "1"
							}
						}
					],
					"sid": 703462741152994,
					"children": [
						{
							"eventType": "variable",
							"name": "currOffset",
							"type": "number",
							"initialValue": "1",
							"comment": "Current offset from starting position",
							"isStatic": false,
							"isConstant": false,
							"sid": 545836101380109
						},
						{
							"eventType": "comment",
							"text": "Check squares to the right."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 829919777887145
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 676763207644112,
									"parameters": {
										"value": "Pieces.posX + currOffset <= 7"
									}
								}
							],
							"actions": [],
							"sid": 938163035837031,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 649790492130302,
											"parameters": {
												"variable": "attack"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 927994513483440,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 887628866468960,
													"parameters": {
														"value": "Functions.checkIfSquareContainsPiece(Pieces.posX + currOffset, Pieces.posY)"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "ArrAvailablePos",
													"sid": 252202962381246,
													"parameters": {
														"where": "back",
														"value": "Pieces.posX + currOffset & \"|\" & Pieces.posY",
														"axis": "x"
													}
												}
											],
											"sid": 759644427692603
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 724249283264004
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 352999621027202
												}
											],
											"sid": 859067230552369
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 690745916682382
										}
									],
									"actions": [
										{
											"id": "push",
											"objectClass": "ArrAttackPos",
											"sid": 668156728070816,
											"parameters": {
												"where": "back",
												"value": "Pieces.posX + currOffset & \"|\" & Pieces.posY",
												"axis": "x"
											}
										}
									],
									"sid": 120800747529973
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 870349477512497,
											"parameters": {
												"variable": "currOffset",
												"value": "1"
											}
										}
									],
									"sid": 852964806675017
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Reset current offset."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 950620094428517,
									"parameters": {
										"variable": "currOffset",
										"value": "1"
									}
								}
							],
							"sid": 634144974709838
						},
						{
							"eventType": "comment",
							"text": "Check squares to the left."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 350362530045623
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 393009726608100,
									"parameters": {
										"value": "Pieces.posX - currOffset >= 0"
									}
								}
							],
							"actions": [],
							"sid": 295947759105618,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 394155150075335,
											"parameters": {
												"variable": "attack"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 199289184141156,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 225257667019095,
													"parameters": {
														"value": "Functions.checkIfSquareContainsPiece(Pieces.posX - currOffset, Pieces.posY)"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "ArrAvailablePos",
													"sid": 507671708206669,
													"parameters": {
														"where": "back",
														"value": "Pieces.posX - currOffset & \"|\" & Pieces.posY",
														"axis": "x"
													}
												}
											],
											"sid": 461052264580622
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 358930274105378
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 839678372430186
												}
											],
											"sid": 497790156406697
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 126859929294946
										}
									],
									"actions": [
										{
											"id": "push",
											"objectClass": "ArrAttackPos",
											"sid": 527533314424066,
											"parameters": {
												"where": "back",
												"value": "Pieces.posX - currOffset & \"|\" & Pieces.posY",
												"axis": "x"
											}
										}
									],
									"sid": 851456502081260
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 486986364538084,
											"parameters": {
												"variable": "currOffset",
												"value": "1"
											}
										}
									],
									"sid": 435103253502797
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Reset current offset."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 158755173480837,
									"parameters": {
										"variable": "currOffset",
										"value": "1"
									}
								}
							],
							"sid": 208250001851855
						},
						{
							"eventType": "comment",
							"text": "Check squares to the top."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 259675622423185
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 511190393555174,
									"parameters": {
										"value": "Pieces.posY - currOffset >= 0"
									}
								}
							],
							"actions": [],
							"sid": 244284098542761,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 311820392333597,
											"parameters": {
												"variable": "attack"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 994170610762825,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 627139634951541,
													"parameters": {
														"value": "Functions.checkIfSquareContainsPiece(Pieces.posX, Pieces.posY - currOffset)"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "ArrAvailablePos",
													"sid": 959106631544146,
													"parameters": {
														"where": "back",
														"value": "Pieces.posX & \"|\" & Pieces.posY - currOffset",
														"axis": "x"
													}
												}
											],
											"sid": 537620017573631
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 836350170539547
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 160946828778269
												}
											],
											"sid": 468351420198032
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 348039698749547
										}
									],
									"actions": [
										{
											"id": "push",
											"objectClass": "ArrAttackPos",
											"sid": 480133990296835,
											"parameters": {
												"where": "back",
												"value": "Pieces.posX & \"|\" & Pieces.posY - currOffset",
												"axis": "x"
											}
										}
									],
									"sid": 272300166039136
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 508102327753387,
											"parameters": {
												"variable": "currOffset",
												"value": "1"
											}
										}
									],
									"sid": 271405404465679
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Reset current offset."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 751166195202649,
									"parameters": {
										"variable": "currOffset",
										"value": "1"
									}
								}
							],
							"sid": 661200694164540
						},
						{
							"eventType": "comment",
							"text": "Check squares to the bottom."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 964261240616516
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 306498340545448,
									"parameters": {
										"value": "Pieces.posY + currOffset <= 7"
									}
								}
							],
							"actions": [],
							"sid": 394325603161022,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 721476168535257,
											"parameters": {
												"variable": "attack"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 723164785363892,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 863309613331309,
													"parameters": {
														"value": "Functions.checkIfSquareContainsPiece(Pieces.posX, Pieces.posY + currOffset)"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "ArrAvailablePos",
													"sid": 554451864791958,
													"parameters": {
														"where": "back",
														"value": "Pieces.posX & \"|\" & Pieces.posY + currOffset",
														"axis": "x"
													}
												}
											],
											"sid": 543828667380921
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 964236040474442
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 651974801094995
												}
											],
											"sid": 672911293312594
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 251626869694956
										}
									],
									"actions": [
										{
											"id": "push",
											"objectClass": "ArrAttackPos",
											"sid": 527603916406609,
											"parameters": {
												"where": "back",
												"value": "Pieces.posX & \"|\" & Pieces.posY + currOffset",
												"axis": "x"
											}
										}
									],
									"sid": 562271202921970
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 218758943952746,
											"parameters": {
												"variable": "currOffset",
												"value": "1"
											}
										}
									],
									"sid": 103907181100061
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Get squares attacked by White Queen."
				},
				{
					"functionName": "squaresAttackedByWhiteQueen",
					"functionDescription": "Get squares attacked by White Queen",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "attack",
							"type": "boolean",
							"initialValue": "false",
							"comment": "Run function in check attack squares mode",
							"sid": 385097885060349
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-size",
							"objectClass": "ArrAttackPos",
							"sid": 632467051960863,
							"parameters": {
								"width": "0",
								"height": "1",
								"depth": "1"
							}
						}
					],
					"sid": 649164990641263,
					"children": [
						{
							"eventType": "variable",
							"name": "currOffset",
							"type": "number",
							"initialValue": "1",
							"comment": "Current offset from starting position",
							"isStatic": false,
							"isConstant": false,
							"sid": 162869462081921
						},
						{
							"eventType": "comment",
							"text": "Check squares to the right."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 172625617560851
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 455227049376683,
									"parameters": {
										"value": "Pieces.posX + currOffset <= 7"
									}
								}
							],
							"actions": [],
							"sid": 225127196403393,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 735217380668561,
											"parameters": {
												"variable": "attack"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 471481378015191,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 585819728484834,
													"parameters": {
														"value": "Functions.checkIfSquareContainsPiece(Pieces.posX + currOffset, Pieces.posY)"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "ArrAvailablePos",
													"sid": 405112058851042,
													"parameters": {
														"where": "back",
														"value": "Pieces.posX + currOffset & \"|\" & Pieces.posY",
														"axis": "x"
													}
												}
											],
											"sid": 672454123493342
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 934599776927006
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 460340142845868
												}
											],
											"sid": 286925556900983
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 734208632679182
										}
									],
									"actions": [
										{
											"id": "push",
											"objectClass": "ArrAttackPos",
											"sid": 907155042790138,
											"parameters": {
												"where": "back",
												"value": "Pieces.posX + currOffset & \"|\" & Pieces.posY",
												"axis": "x"
											}
										}
									],
									"sid": 103629395803446
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 633207827503116,
											"parameters": {
												"variable": "currOffset",
												"value": "1"
											}
										}
									],
									"sid": 101580926636268
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Reset current offset."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 791971994740271,
									"parameters": {
										"variable": "currOffset",
										"value": "1"
									}
								}
							],
							"sid": 158686601594601
						},
						{
							"eventType": "comment",
							"text": "Check squares to the left."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 397759723690408
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 542927167986890,
									"parameters": {
										"value": "Pieces.posX - currOffset >= 0"
									}
								}
							],
							"actions": [],
							"sid": 741557077521017,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 993651786462846,
											"parameters": {
												"variable": "attack"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 605388266389426,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 181569824619764,
													"parameters": {
														"value": "Functions.checkIfSquareContainsPiece(Pieces.posX - currOffset, Pieces.posY)"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "ArrAvailablePos",
													"sid": 708465170608996,
													"parameters": {
														"where": "back",
														"value": "Pieces.posX - currOffset & \"|\" & Pieces.posY",
														"axis": "x"
													}
												}
											],
											"sid": 724992908438149
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 447215836613399
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 759573648901799
												}
											],
											"sid": 215650275026140
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 474106433781538
										}
									],
									"actions": [
										{
											"id": "push",
											"objectClass": "ArrAttackPos",
											"sid": 255548169514332,
											"parameters": {
												"where": "back",
												"value": "Pieces.posX - currOffset & \"|\" & Pieces.posY",
												"axis": "x"
											}
										}
									],
									"sid": 445314064032929
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 319376644307816,
											"parameters": {
												"variable": "currOffset",
												"value": "1"
											}
										}
									],
									"sid": 968004056457148
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Reset current offset."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 599873950008026,
									"parameters": {
										"variable": "currOffset",
										"value": "1"
									}
								}
							],
							"sid": 530495832046706
						},
						{
							"eventType": "comment",
							"text": "Check squares to the top."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 225025494116171
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 115586914113694,
									"parameters": {
										"value": "Pieces.posY - currOffset >= 0"
									}
								}
							],
							"actions": [],
							"sid": 334326901792829,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 985455885814911,
											"parameters": {
												"variable": "attack"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 149212901018553,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 233193116432180,
													"parameters": {
														"value": "Functions.checkIfSquareContainsPiece(Pieces.posX, Pieces.posY - currOffset)"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "ArrAvailablePos",
													"sid": 905086129449494,
													"parameters": {
														"where": "back",
														"value": "Pieces.posX & \"|\" & Pieces.posY - currOffset",
														"axis": "x"
													}
												}
											],
											"sid": 565801473732184
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 461646257414809
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 389838289369073
												}
											],
											"sid": 177447292363503
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 272074988824954
										}
									],
									"actions": [
										{
											"id": "push",
											"objectClass": "ArrAttackPos",
											"sid": 977219268003464,
											"parameters": {
												"where": "back",
												"value": "Pieces.posX & \"|\" & Pieces.posY - currOffset",
												"axis": "x"
											}
										}
									],
									"sid": 783483589666265
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 503864414376018,
											"parameters": {
												"variable": "currOffset",
												"value": "1"
											}
										}
									],
									"sid": 147325173733307
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Reset current offset."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 443887855041989,
									"parameters": {
										"variable": "currOffset",
										"value": "1"
									}
								}
							],
							"sid": 655441695196918
						},
						{
							"eventType": "comment",
							"text": "Check squares to the bottom."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 945990075605256
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 357096149060093,
									"parameters": {
										"value": "Pieces.posY + currOffset <= 7"
									}
								}
							],
							"actions": [],
							"sid": 656912752902816,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 493467914014896,
											"parameters": {
												"variable": "attack"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 303694646520965,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 152816488456371,
													"parameters": {
														"value": "Functions.checkIfSquareContainsPiece(Pieces.posX, Pieces.posY + currOffset)"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "ArrAvailablePos",
													"sid": 693276563855918,
													"parameters": {
														"where": "back",
														"value": "Pieces.posX & \"|\" & Pieces.posY + currOffset",
														"axis": "x"
													}
												}
											],
											"sid": 388794964561895
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 715425415734875
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 649119246281076
												}
											],
											"sid": 344416855801657
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 235770494379997
										}
									],
									"actions": [
										{
											"id": "push",
											"objectClass": "ArrAttackPos",
											"sid": 120189295800949,
											"parameters": {
												"where": "back",
												"value": "Pieces.posX & \"|\" & Pieces.posY + currOffset",
												"axis": "x"
											}
										}
									],
									"sid": 495838730262945
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 572199719978922,
											"parameters": {
												"variable": "currOffset",
												"value": "1"
											}
										}
									],
									"sid": 703070352353020
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Reset current offset."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 329998540058475,
									"parameters": {
										"variable": "currOffset",
										"value": "1"
									}
								}
							],
							"sid": 844769373841496
						},
						{
							"eventType": "comment",
							"text": "Check squares on the top-left diagonal."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 517441441735441
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 252240754349806,
									"parameters": {
										"value": "Pieces.posX - currOffset >= 0"
									}
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 247424091491586,
									"parameters": {
										"value": "Pieces.posY - currOffset >= 0"
									}
								}
							],
							"actions": [],
							"sid": 296396002654264,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 741836777027012,
											"parameters": {
												"variable": "attack"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 922380029162744,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 166495391937514,
													"parameters": {
														"value": "Functions.checkIfSquareContainsPiece(Pieces.posX - currOffset, Pieces.posY - currOffset)"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "ArrAvailablePos",
													"sid": 344508600671592,
													"parameters": {
														"where": "back",
														"value": "Pieces.posX - currOffset & \"|\" & Pieces.posY - currOffset",
														"axis": "x"
													}
												}
											],
											"sid": 306584116311790
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 784323806531358
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 362772838520711
												}
											],
											"sid": 774365682568262
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 612002454485551
										}
									],
									"actions": [
										{
											"id": "push",
											"objectClass": "ArrAttackPos",
											"sid": 468148924245467,
											"parameters": {
												"where": "back",
												"value": "Pieces.posX - currOffset & \"|\" & Pieces.posY - currOffset",
												"axis": "x"
											}
										}
									],
									"sid": 716885717582865
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 697027178485777,
											"parameters": {
												"variable": "currOffset",
												"value": "1"
											}
										}
									],
									"sid": 912581559818624
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Reset current offset."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 550766520672013,
									"parameters": {
										"variable": "currOffset",
										"value": "1"
									}
								}
							],
							"sid": 583369829761208
						},
						{
							"eventType": "comment",
							"text": "Check squares on the top-right diagonal."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 515603045963141
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 395344174969085,
									"parameters": {
										"value": "Pieces.posX + currOffset <= 7"
									}
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 432783752868288,
									"parameters": {
										"value": "Pieces.posY - currOffset >= 0"
									}
								}
							],
							"actions": [],
							"sid": 123554102392982,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 554213275204563,
											"parameters": {
												"variable": "attack"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 951073907866896,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 949033015241241,
													"parameters": {
														"value": "Functions.checkIfSquareContainsPiece(Pieces.posX + currOffset, Pieces.posY - currOffset)"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "ArrAvailablePos",
													"sid": 640089204315351,
													"parameters": {
														"where": "back",
														"value": "Pieces.posX + currOffset & \"|\" & Pieces.posY - currOffset",
														"axis": "x"
													}
												}
											],
											"sid": 156579106663503
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 297579316697421
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 337497674410254
												}
											],
											"sid": 389151257834997
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 107221104594247
										}
									],
									"actions": [
										{
											"id": "push",
											"objectClass": "ArrAttackPos",
											"sid": 362985002178605,
											"parameters": {
												"where": "back",
												"value": "Pieces.posX + currOffset & \"|\" & Pieces.posY - currOffset",
												"axis": "x"
											}
										}
									],
									"sid": 842763625885346
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 396665373464882,
											"parameters": {
												"variable": "currOffset",
												"value": "1"
											}
										}
									],
									"sid": 177767169785151
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Reset current offset."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 622323077991668,
									"parameters": {
										"variable": "currOffset",
										"value": "1"
									}
								}
							],
							"sid": 897650120329315
						},
						{
							"eventType": "comment",
							"text": "Check squares on the bottom-left diagonal."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 252108649129514
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 361309317816184,
									"parameters": {
										"value": "Pieces.posX - currOffset >= 0"
									}
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 739810909365596,
									"parameters": {
										"value": "Pieces.posY + currOffset <= 7"
									}
								}
							],
							"actions": [],
							"sid": 320540270822564,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 696320961944803,
											"parameters": {
												"variable": "attack"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 430504482183729,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 214377994109662,
													"parameters": {
														"value": "Functions.checkIfSquareContainsPiece(Pieces.posX - currOffset, Pieces.posY + currOffset)"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "ArrAvailablePos",
													"sid": 459965127193661,
													"parameters": {
														"where": "back",
														"value": "Pieces.posX - currOffset & \"|\" & Pieces.posY + currOffset",
														"axis": "x"
													}
												}
											],
											"sid": 542774285782847
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 197747049252697
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 224428217210573
												}
											],
											"sid": 288442681381758
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 628480359553647
										}
									],
									"actions": [
										{
											"id": "push",
											"objectClass": "ArrAttackPos",
											"sid": 714068086923619,
											"parameters": {
												"where": "back",
												"value": "Pieces.posX - currOffset & \"|\" & Pieces.posY + currOffset",
												"axis": "x"
											}
										}
									],
									"sid": 202081335906857
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 304516182131918,
											"parameters": {
												"variable": "currOffset",
												"value": "1"
											}
										}
									],
									"sid": 395817157655495
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Reset current offset."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 379574223923925,
									"parameters": {
										"variable": "currOffset",
										"value": "1"
									}
								}
							],
							"sid": 544743768826056
						},
						{
							"eventType": "comment",
							"text": "Check squares on the bottom-right diagonal."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 422839746903401
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 350698539940004,
									"parameters": {
										"value": "Pieces.posX + currOffset <= 7"
									}
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 609704077246044,
									"parameters": {
										"value": "Pieces.posY + currOffset <= 7"
									}
								}
							],
							"actions": [],
							"sid": 324775397919663,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 345821493554944,
											"parameters": {
												"variable": "attack"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 414373915917018,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 647371810194583,
													"parameters": {
														"value": "Functions.checkIfSquareContainsPiece(Pieces.posX + currOffset, Pieces.posY + currOffset)"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "ArrAvailablePos",
													"sid": 802280837044229,
													"parameters": {
														"where": "back",
														"value": "Pieces.posX + currOffset & \"|\" & Pieces.posY + currOffset",
														"axis": "x"
													}
												}
											],
											"sid": 709432294640891
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 474695857734399
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 215427925404056
												}
											],
											"sid": 340782124866059
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 612167477067451
										}
									],
									"actions": [
										{
											"id": "push",
											"objectClass": "ArrAttackPos",
											"sid": 911462555153993,
											"parameters": {
												"where": "back",
												"value": "Pieces.posX + currOffset & \"|\" & Pieces.posY + currOffset",
												"axis": "x"
											}
										}
									],
									"sid": 611717446107091
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 276657248064227,
											"parameters": {
												"variable": "currOffset",
												"value": "1"
											}
										}
									],
									"sid": 761668372521993
								}
							]
						}
					]
				}
			],
			"sid": 332947822741421
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Piece Movements",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "getAvailablePositions",
					"functionDescription": "Get all available positions that a piece can move to",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-size",
							"objectClass": "ArrAvailablePos",
							"sid": 513150598062823,
							"parameters": {
								"width": "0",
								"height": "1",
								"depth": "1"
							}
						}
					],
					"sid": 915750555668181,
					"children": [
						{
							"eventType": "group",
							"disabled": false,
							"title": "White Rook Movement",
							"description": "A Rook here can move to any square on its horizontal or vertical axes, except those intercepted by another piece.",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Pieces",
											"sid": 435545746949595,
											"parameters": {
												"animation": "\"WhiteRook\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "squaresAttackedByWhiteRook",
											"sid": 299893627683021,
											"parameters": [
												false
											]
										}
									],
									"sid": 901782596965136
								}
							],
							"sid": 132855459073032
						},
						{
							"eventType": "group",
							"disabled": false,
							"title": "White Queen Movement",
							"description": "The Queen can move in 8 directions, as long as the square it wants to go is not intercepted by another piece.",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Pieces",
											"sid": 889571088937179,
											"parameters": {
												"animation": "\"WhiteQueen\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "squaresAttackedByWhiteQueen",
											"sid": 946942452040934,
											"parameters": [
												false
											]
										}
									],
									"sid": 956123677536255
								}
							],
							"sid": 539718327206310
						},
						{
							"eventType": "group",
							"disabled": false,
							"title": "White Pawn Movement",
							"description": "In this particular end game scenario, the pawn can only move forward, except if there is King in front of it.",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Pieces",
											"sid": 495494504279405,
											"parameters": {
												"animation": "\"WhitePawn\""
											}
										}
									],
									"actions": [],
									"sid": 167232360679225,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 646169996915689,
													"parameters": {
														"value": "Functions.checkIfSquareContainsPiece(Pieces.posX, Pieces.posY - 1)"
													},
													"isInverted": true
												},
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 269313648326278,
													"parameters": {
														"value": "Pieces.posY - 1 >= 0"
													}
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "ArrAvailablePos",
													"sid": 751194980655839,
													"parameters": {
														"where": "back",
														"value": "Pieces.posX & \"|\" & Pieces.posY - 1",
														"axis": "x"
													}
												}
											],
											"sid": 165125972704244
										}
									]
								}
							],
							"sid": 352844381708180
						},
						{
							"eventType": "group",
							"disabled": false,
							"title": "White/Black King Movement",
							"description": "An available square for the king follows 4 rules:\n- Is inside the board\n- Is not adjacent to the other King\n- Is not being attack\n- Does not contain a piece of the same color",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Pieces",
											"sid": 820892101690114,
											"parameters": {
												"animation": "\"WhiteKing\""
											}
										},
										{
											"id": "is-animation-playing",
											"objectClass": "Pieces",
											"sid": 690192845426385,
											"parameters": {
												"animation": "\"BlackKing\""
											}
										}
									],
									"actions": [],
									"sid": 416204985451091,
									"children": [
										{
											"eventType": "comment",
											"text": "King can move a single square on any direction."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 452656846880694,
													"parameters": {
														"name": "\"i\"",
														"start-index": "-1",
														"end-index": "1"
													}
												}
											],
											"actions": [],
											"sid": 120758199924679,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for",
															"objectClass": "System",
															"sid": 748170487969629,
															"parameters": {
																"name": "\"j\"",
																"start-index": "-1",
																"end-index": "1"
															}
														},
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 800887452732195,
															"parameters": {
																"value": "loopindex(\"i\") <> 0 | loopindex(\"j\") <> 0"
															}
														}
													],
													"actions": [],
													"sid": 944188035600775,
													"children": [
														{
															"eventType": "variable",
															"name": "tempPosX",
															"type": "number",
															"initialValue": "0",
															"comment": "Potential available X position",
															"isStatic": false,
															"isConstant": false,
															"sid": 977872719017620
														},
														{
															"eventType": "variable",
															"name": "tempPosY",
															"type": "number",
															"initialValue": "0",
															"comment": "Potential available Y position",
															"isStatic": false,
															"isConstant": false,
															"sid": 458144421607660
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 135584023475365,
																	"parameters": {
																		"variable": "tempPosX",
																		"value": "Pieces.posX + loopindex(\"i\")"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 760807776255506,
																	"parameters": {
																		"variable": "tempPosY",
																		"value": "Pieces.posY + loopindex(\"j\")"
																	}
																}
															],
															"sid": 591851167918783
														},
														{
															"eventType": "comment",
															"text": "Check if square is inside the board and doesn't contain a piece."
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "evaluate-expression",
																	"objectClass": "System",
																	"sid": 835549472712224,
																	"parameters": {
																		"value": "(tempPosX >= 0) & (tempPosX  <= 7) & (tempPosY >= 0) & (tempPosY  <= 7)"
																	}
																}
															],
															"actions": [],
															"sid": 248967111534663,
															"children": [
																{
																	"eventType": "comment",
																	"text": "Piece is the White King, therefore the square cannot be adjacent to the Black King, or have another white piece."
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "is-animation-playing",
																			"objectClass": "Pieces",
																			"sid": 259089802144561,
																			"parameters": {
																				"animation": "\"WhiteKing\""
																			}
																		},
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 434753931953466,
																			"parameters": {
																				"value": "distance(tempPosX, tempPosY, BlackKing.posX, BlackKing.posY) > sqrt(2)"
																			}
																		},
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 951204354488356,
																			"parameters": {
																				"value": "Functions.checkIfSquareContainsPiece(tempPosX, tempPosY) = 0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "push",
																			"objectClass": "ArrAvailablePos",
																			"sid": 443541194222610,
																			"parameters": {
																				"where": "back",
																				"value": "tempPosX & \"|\" & tempPosY",
																				"axis": "x"
																			}
																		}
																	],
																	"sid": 362814676019200
																},
																{
																	"eventType": "comment",
																	"text": "Pece is the Black King, therefore the square cannot be adjacent to the White King, or attacked by the other piece."
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 856825855981984
																		},
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 788641720936250,
																			"parameters": {
																				"value": "distance(tempPosX, tempPosY, WhiteKing.posX, WhiteKing.posY) > sqrt(2)"
																			}
																		},
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 832225010082176,
																			"parameters": {
																				"value": "Functions.isSquareAttackedByWhitePawn(tempPosX, tempPosY)"
																			},
																			"isInverted": true
																		},
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 790286001134745,
																			"parameters": {
																				"value": "Functions.isSquareAttackedByWhiteRook(tempPosX, tempPosY)"
																			},
																			"isInverted": true
																		},
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 755841761993767,
																			"parameters": {
																				"value": "Functions.isSquareAttackedByWhiteQueen(tempPosX, tempPosY)"
																			},
																			"isInverted": true
																		}
																	],
																	"actions": [
																		{
																			"id": "push",
																			"objectClass": "ArrAvailablePos",
																			"sid": 783192535399503,
																			"parameters": {
																				"where": "back",
																				"value": "tempPosX & \"|\" & tempPosY",
																				"axis": "x"
																			}
																		}
																	],
																	"sid": 802017628778007
																}
															]
														}
													]
												}
											]
										}
									],
									"isOrBlock": true
								}
							],
							"sid": 501227170243022
						}
					]
				}
			],
			"sid": 426635386535047
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Black King AI Movement",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Make Black King move closer to given X and Y position."
				},
				{
					"functionName": "moveCloserToXY",
					"functionDescription": "Make Black King move closer to given X and Y position",
					"functionCategory": "",
					"functionReturnType": "string",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "x",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 544329987507228
						},
						{
							"name": "y",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 374227766595202
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 144078189828792,
					"children": [
						{
							"eventType": "variable",
							"name": "bestXY",
							"type": "string",
							"initialValue": "",
							"comment": "Best XY Coordinates to go to, so far",
							"isStatic": false,
							"isConstant": false,
							"sid": 960625723419038
						},
						{
							"eventType": "variable",
							"name": "bestDist",
							"type": "number",
							"initialValue": "9999",
							"comment": "Best (smallest) distance to the desired point, so far",
							"isStatic": false,
							"isConstant": false,
							"sid": 930298195469719
						},
						{
							"eventType": "comment",
							"text": "Check which one brings the King closer to the desired XY position."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-element",
									"objectClass": "ArrAvailablePos",
									"sid": 504937963571642,
									"parameters": {
										"axes": "x"
									}
								}
							],
							"actions": [],
							"sid": 173202907684448,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 135954779268662,
											"parameters": {
												"value": "distance(int(tokenat(ArrAvailablePos.CurValue, 0, \"|\")), int(tokenat(ArrAvailablePos.CurValue, 1, \"|\")), x, y) < bestDist"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 842230864950002,
											"parameters": {
												"variable": "bestXY",
												"value": "int(tokenat(ArrAvailablePos.CurValue, 0, \"|\")) & \"|\" & int(tokenat(ArrAvailablePos.CurValue, 1, \"|\"))"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 935554994081752,
											"parameters": {
												"variable": "bestDist",
												"value": "distance(int(tokenat(ArrAvailablePos.CurValue, 0, \"|\")), int(tokenat(ArrAvailablePos.CurValue, 1, \"|\")), x, y)"
											}
										}
									],
									"sid": 881003325683611
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Return the best move."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 451314084469244,
									"parameters": {
										"value": "bestXY"
									}
								}
							],
							"sid": 173864489696571
						}
					]
				}
			],
			"sid": 817674415305691
		}
	],
	"sid": 646205152187050
}