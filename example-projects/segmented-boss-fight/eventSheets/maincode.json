{
	"name": "MainCode",
	"events": [
		{
			"eventType": "comment",
			"text": "Made by Viridino Studios (@ViridinoStudios)\n\nMateus Ferreira - Programmer\nTwitter: @BonzerKitten\nE-mail: ferreiramoreiramateus@gmail.com\n\nWesley Andrade - Artist\nTwitter: @andrart7\nE-mail: wesleymatos1989@gmail.com\n\nMade with the support of patrons on https://www.patreon.com/viridinostudios"
		},
		{
			"eventType": "comment",
			"text": "Project settings."
		},
		{
			"eventType": "comment",
			"text": "How far the player needs to move the analog stick before it starts to be recognized by the game."
		},
		{
			"eventType": "variable",
			"name": "GAMEPADDEADZONE",
			"type": "number",
			"initialValue": "50",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 597494311107614
		},
		{
			"eventType": "comment",
			"text": "The default screen refresh rate for testing."
		},
		{
			"eventType": "variable",
			"name": "TARGETFRAMERATE",
			"type": "number",
			"initialValue": "60",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 762172364557089
		},
		{
			"eventType": "comment",
			"text": "How far or close the camera will be from the player."
		},
		{
			"eventType": "variable",
			"name": "DEFAULTLAYOUTSCALE",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 455783733766901
		},
		{
			"eventType": "comment",
			"text": "Player input references."
		},
		{
			"eventType": "variable",
			"name": "InputLeft",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 978318750935198
		},
		{
			"eventType": "variable",
			"name": "InputRight",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 759928168194647
		},
		{
			"eventType": "variable",
			"name": "InputUp",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 491629948748393
		},
		{
			"eventType": "variable",
			"name": "InputDown",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 988659530652295
		},
		{
			"eventType": "variable",
			"name": "HorizontalAxis",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 704650960119333
		},
		{
			"eventType": "variable",
			"name": "VerticalAxis",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 873836784155865
		},
		{
			"eventType": "variable",
			"name": "AxisAngle",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 486607320101382
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Player",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "PlayerSetup",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Reset global variables to prevent traces from previous sessions."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-start-of-layout",
									"objectClass": "System",
									"sid": 796671218886728
								}
							],
							"actions": [
								{
									"id": "reset-global-variables",
									"objectClass": "System",
									"sid": 927961188957356
								},
								{
									"id": "set-layout-scale",
									"objectClass": "System",
									"sid": 871918819024045,
									"parameters": {
										"scale": "DEFAULTLAYOUTSCALE"
									}
								}
							],
							"sid": 717612525165036
						},
						{
							"eventType": "comment",
							"text": "Setup the player by adding its graphics to the collider as a child."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-created",
									"objectClass": "PlayerGraphics",
									"sid": 594730415360274
								}
							],
							"actions": [
								{
									"id": "set-position-to-another-object",
									"objectClass": "PlayerGraphics",
									"sid": 841884366138315,
									"parameters": {
										"object": "PlayerCollision",
										"image-point-optional": "0"
									}
								},
								{
									"id": "add-child",
									"objectClass": "PlayerCollision",
									"sid": 764565144345918,
									"parameters": {
										"child": "PlayerGraphics",
										"transform-x": true,
										"transform-y": true,
										"transform-w": false,
										"transform-h": false,
										"transform-a": false,
										"transform-z-elevation": false,
										"destroy-with-parent": true
									}
								}
							],
							"sid": 960983322737064
						}
					],
					"sid": 784603836528212
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "PlayerControls",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Receive and store input from the player to be used later in many situations."
						},
						{
							"eventType": "comment",
							"text": "Toggle input left."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 940876619458367,
									"parameters": {
										"key": 37
									}
								},
								{
									"id": "is-button-down",
									"objectClass": "Gamepad",
									"sid": 485439395839532,
									"parameters": {
										"gamepad": "0",
										"button": "d-pad-left"
									}
								},
								{
									"id": "compare-axis",
									"objectClass": "Gamepad",
									"sid": 419270119767849,
									"parameters": {
										"gamepad": "0",
										"axis": "left-analog-x-axis",
										"comparison": 2,
										"value": "-GamepadDeadzone"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 798140548127237,
									"parameters": {
										"variable": "InputLeft",
										"value": "1"
									}
								}
							],
							"sid": 264402595788968,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 857228404289996
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 661153111744936,
									"parameters": {
										"variable": "InputLeft",
										"value": "0"
									}
								}
							],
							"sid": 286939735207559
						},
						{
							"eventType": "comment",
							"text": "Toggle input right."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 419887578263887,
									"parameters": {
										"key": 39
									}
								},
								{
									"id": "is-button-down",
									"objectClass": "Gamepad",
									"sid": 910485628604972,
									"parameters": {
										"gamepad": "0",
										"button": "d-pad-right"
									}
								},
								{
									"id": "compare-axis",
									"objectClass": "Gamepad",
									"sid": 580428591970963,
									"parameters": {
										"gamepad": "0",
										"axis": "left-analog-x-axis",
										"comparison": 4,
										"value": "GamepadDeadzone"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 736893529451941,
									"parameters": {
										"variable": "InputRight",
										"value": "1"
									}
								}
							],
							"sid": 600039708179932,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 517755708762973
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 655417879433674,
									"parameters": {
										"variable": "InputRight",
										"value": "0"
									}
								}
							],
							"sid": 740689455255456
						},
						{
							"eventType": "comment",
							"text": "Toggle input up."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 616884787279611,
									"parameters": {
										"key": 38
									}
								},
								{
									"id": "is-button-down",
									"objectClass": "Gamepad",
									"sid": 618941853617328,
									"parameters": {
										"gamepad": "0",
										"button": "d-pad-up"
									}
								},
								{
									"id": "compare-axis",
									"objectClass": "Gamepad",
									"sid": 931487433016611,
									"parameters": {
										"gamepad": "0",
										"axis": "left-analog-y-axis",
										"comparison": 2,
										"value": "-GamepadDeadzone"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 996680032145102,
									"parameters": {
										"variable": "InputUp",
										"value": "1"
									}
								}
							],
							"sid": 633581533344193,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 353307726704705
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 942415071733078,
									"parameters": {
										"variable": "InputUp",
										"value": "0"
									}
								}
							],
							"sid": 573106451468937
						},
						{
							"eventType": "comment",
							"text": "Toggle input down."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 675557998752242,
									"parameters": {
										"key": 40
									}
								},
								{
									"id": "is-button-down",
									"objectClass": "Gamepad",
									"sid": 681442548497853,
									"parameters": {
										"gamepad": "0",
										"button": "d-pad-down"
									}
								},
								{
									"id": "compare-axis",
									"objectClass": "Gamepad",
									"sid": 640161589873989,
									"parameters": {
										"gamepad": "0",
										"axis": "left-analog-y-axis",
										"comparison": 4,
										"value": "GamepadDeadzone"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 721258906245844,
									"parameters": {
										"variable": "InputDown",
										"value": "1"
									}
								}
							],
							"sid": 508639076125027,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 195726474801099
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 471050106117999,
									"parameters": {
										"variable": "InputDown",
										"value": "0"
									}
								}
							],
							"sid": 373306371993938
						},
						{
							"eventType": "comment",
							"text": "Calculate both axis and looking angle based on the player input."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-tick",
									"objectClass": "System",
									"sid": 653715903966159
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 674592570485943,
									"parameters": {
										"variable": "HorizontalAxis",
										"value": "InputRight - InputLeft"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 170521698251227,
									"parameters": {
										"variable": "VerticalAxis",
										"value": "InputDown - InputUp"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 952715159736944,
									"parameters": {
										"variable": "AxisAngle",
										"value": "round(angle(0, 0, HorizontalAxis, VerticalAxis))"
									}
								}
							],
							"sid": 837605888771891
						},
						{
							"eventType": "comment",
							"text": "Move the player horizontally based on its horizontal axis."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 663923931773018,
									"parameters": {
										"variable": "HorizontalAxis",
										"comparison": 0,
										"value": "-1"
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "PlayerCollision",
									"sid": 320390961629747,
									"behaviorType": "Platform",
									"parameters": {
										"control": "left"
									}
								}
							],
							"sid": 944241251070615
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 448267358412793,
									"parameters": {
										"variable": "HorizontalAxis",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "PlayerCollision",
									"sid": 790575075471283,
									"behaviorType": "Platform",
									"parameters": {
										"control": "right"
									}
								}
							],
							"sid": 495429092397420
						},
						{
							"eventType": "comment",
							"text": "Simulate player jump."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 483631168435843,
									"parameters": {
										"key": 90
									}
								},
								{
									"id": "is-button-down",
									"objectClass": "Gamepad",
									"sid": 892685996869684,
									"parameters": {
										"gamepad": "0",
										"button": "button-a"
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "PlayerCollision",
									"sid": 801526876848270,
									"behaviorType": "Platform",
									"parameters": {
										"control": "jump"
									}
								}
							],
							"sid": 145191292488866,
							"isOrBlock": true
						}
					],
					"sid": 284160857497412
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "PlayerAnimations",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Mirror the player graphics based on its horizontal axis."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 615230223445069,
									"parameters": {
										"variable": "HorizontalAxis",
										"comparison": 1,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-width",
									"objectClass": "PlayerGraphics",
									"sid": 324634339589245,
									"parameters": {
										"width": "Self.ImageWidth * HorizontalAxis"
									}
								}
							],
							"sid": 555875909841248
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "PlayerCollision",
									"sid": 295771162392994,
									"parameters": {
										"instance-variable": "Attack"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "PlayerGraphics",
									"sid": 734222527643210,
									"parameters": {
										"animation": "\"Attack\"",
										"from": "beginning"
									}
								}
							],
							"sid": 943169104071286,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-animation-finished",
											"objectClass": "PlayerGraphics",
											"sid": 573555832181936,
											"parameters": {
												"animation": "\"Attack\""
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "PlayerCollision",
											"sid": 252537817781927,
											"parameters": {
												"instance-variable": "Attack",
												"value": "false"
											}
										}
									],
									"sid": 118106136880867
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Only allow the animations to be updated if the player is not already performing an attack."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "PlayerCollision",
									"sid": 505670510671362,
									"parameters": {
										"instance-variable": "Attack"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 562477394550868,
							"children": [
								{
									"eventType": "comment",
									"text": "Change the animation states depending on what the player is currently doing."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-on-floor",
											"objectClass": "PlayerCollision",
											"sid": 168910546354317,
											"behaviorType": "Platform"
										}
									],
									"actions": [],
									"sid": 589568152848702,
									"children": [
										{
											"eventType": "comment",
											"text": "Walk animation."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-moving",
													"objectClass": "PlayerCollision",
													"sid": 285452562368056,
													"behaviorType": "Platform"
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "PlayerGraphics",
													"sid": 154833731235048,
													"parameters": {
														"animation": "\"Walk\"",
														"from": "beginning"
													}
												}
											],
											"sid": 963904761554145
										},
										{
											"eventType": "comment",
											"text": "Idle animation."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 943527761389937
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "PlayerGraphics",
													"sid": 867865317677852,
													"parameters": {
														"animation": "\"Idle\"",
														"from": "beginning"
													}
												}
											],
											"sid": 918653449225358
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Jump animation."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-jumping",
											"objectClass": "PlayerCollision",
											"sid": 794717238622864,
											"behaviorType": "Platform"
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "PlayerGraphics",
											"sid": 993402117460018,
											"parameters": {
												"animation": "\"Jump\"",
												"from": "beginning"
											}
										}
									],
									"sid": 688975239688967
								},
								{
									"eventType": "comment",
									"text": "Fall animation."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-falling",
											"objectClass": "PlayerCollision",
											"sid": 538676364135950,
											"behaviorType": "Platform"
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "PlayerGraphics",
											"sid": 777924738759666,
											"parameters": {
												"animation": "\"Fall\"",
												"from": "beginning"
											}
										}
									],
									"sid": 858641350032981
								}
							]
						}
					],
					"sid": 921833879566076
				}
			],
			"sid": 438447210557978
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Sword",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Perform a sword slash attack based on the direction the player is currently facing."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 711414680632031,
							"parameters": {
								"key": 88
							}
						},
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 170915429518968,
							"parameters": {
								"gamepad": "0",
								"button": "button-b"
							}
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "PlayerCollision",
							"sid": 589331086895054,
							"parameters": {
								"object": "SwordSlash",
								"layer": "\"World\"",
								"image-point": "\"Sword\"",
								"create-hierarchy": false
							}
						},
						{
							"type": "comment",
							"text": "Positionate the sword slash in front of the player."
						},
						{
							"id": "set-x",
							"objectClass": "SwordSlash",
							"sid": 956502782193166,
							"parameters": {
								"x": "Self.X + sign(PlayerGraphics.Width) * 6"
							}
						},
						{
							"type": "comment",
							"text": "Make the sword slash face the same direction as the player."
						},
						{
							"id": "set-width",
							"objectClass": "SwordSlash",
							"sid": 101879834107058,
							"parameters": {
								"width": "Self.Width * sign(PlayerGraphics.Width)"
							}
						},
						{
							"type": "comment",
							"text": "Attach the sword slash to the player."
						},
						{
							"id": "add-child",
							"objectClass": "PlayerCollision",
							"sid": 352083809997687,
							"parameters": {
								"child": "SwordSlash",
								"transform-x": true,
								"transform-y": true,
								"transform-w": false,
								"transform-h": false,
								"transform-a": false,
								"transform-z-elevation": false,
								"destroy-with-parent": false
							}
						},
						{
							"type": "comment",
							"text": "Toggle the attack bool to match the player's action."
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "PlayerCollision",
							"sid": 378895677234100,
							"parameters": {
								"instance-variable": "Attack",
								"value": "true"
							}
						}
					],
					"sid": 479881922214519,
					"isOrBlock": true
				}
			],
			"sid": 943101734631819
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Camera",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "CAMERASPEED",
					"type": "number",
					"initialValue": "0.1",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 491563133307748
				},
				{
					"eventType": "variable",
					"name": "CAMERAOFFSETX",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": true,
					"sid": 770507095067125
				},
				{
					"eventType": "variable",
					"name": "CAMERAOFFSETY",
					"type": "number",
					"initialValue": "-32",
					"comment": "",
					"isStatic": true,
					"isConstant": true,
					"sid": 238811815189955
				},
				{
					"eventType": "comment",
					"text": "Interpolate the camera position to constantly track the player with smooth movement."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 537929353001116,
							"parameters": {
								"first-value": "PlayerCollision.Count",
								"comparison": 4,
								"second-value": "0"
							}
						}
					],
					"actions": [],
					"sid": 435649057504302,
					"children": [
						{
							"eventType": "comment",
							"text": "If the boss is still alive, the camera will try to positionate itself in the middle point between the player and the boss head."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 979434069524411,
									"parameters": {
										"variable": "BossHeath",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "Camera",
									"sid": 685670827317203,
									"parameters": {
										"x": "lerp(Self.X, ((PlayerCollision.X + CAMERAOFFSETX) + BossHead.X) / 2, CameraSpeed * TARGETFRAMERATE * dt)",
										"y": "lerp(Self.Y, ((PlayerCollision.Y + CAMERAOFFSETY) + BossHead.Y) / 2, CameraSpeed * TARGETFRAMERATE * dt)"
									}
								}
							],
							"sid": 373186076891896
						},
						{
							"eventType": "comment",
							"text": "However, if the boss is already dead, the camera will only follow the player."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 529314370857802
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 399227247339413,
									"parameters": {
										"variable": "BossHeath",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "Camera",
									"sid": 698834292147303,
									"parameters": {
										"x": "lerp(Self.X, PlayerCollision.X + CAMERAOFFSETX, CameraSpeed * TARGETFRAMERATE * dt)",
										"y": "lerp(Self.Y, PlayerCollision.Y + CAMERAOFFSETY, CameraSpeed * TARGETFRAMERATE * dt)"
									}
								}
							],
							"sid": 383991842377267
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Create a screen shake effect to add more intensity to specific actions."
				},
				{
					"functionName": "ShakeScreen",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "Intensity",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 284747500709328
						},
						{
							"name": "Duration",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 869993685765301
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "tween-value",
							"objectClass": "GameManager",
							"sid": 886668294322734,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"ScreenShake\"",
								"start-value": "Intensity",
								"end-value": "0",
								"time": "Duration",
								"ease": "default",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 480374386182628
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing",
							"objectClass": "GameManager",
							"sid": 679875644675674,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"ScreenShake\""
							}
						}
					],
					"actions": [
						{
							"id": "set-layout-scale",
							"objectClass": "System",
							"sid": 970711442095747,
							"parameters": {
								"scale": "DEFAULTLAYOUTSCALE + random(-GameManager.Tween.Value(\"ScreenShake\"), GameManager.Tween.Value(\"ScreenShake\"))"
							}
						}
					],
					"sid": 374062129976910
				}
			],
			"sid": 552517355456284
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "BossAI",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Setup the boss AI by starting an action cooldown on start of layout, so the boss can start to interact with the player as soon as possible."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 521397658317128
						}
					],
					"actions": [
						{
							"id": "start-timer",
							"objectClass": "GameManager",
							"sid": 247066340655022,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "1.0",
								"type": "once",
								"tag": "\"ActionCooldown\""
							}
						}
					],
					"sid": 775303703312526
				},
				{
					"eventType": "comment",
					"text": "Every time an animation is completed, start a new action cooldown. This is important for the player to have room to breath between each attack from the boss."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "GameManager",
							"sid": 382983545743657,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"AnimationDuration\""
							}
						}
					],
					"actions": [
						{
							"id": "start-timer",
							"objectClass": "GameManager",
							"sid": 491370212742683,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "1.0",
								"type": "once",
								"tag": "\"ActionCooldown\""
							}
						}
					],
					"sid": 444621178654436
				},
				{
					"eventType": "comment",
					"text": "When the action cooldown is over, decide what move the boss will perform next based on the player position on the screen."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "GameManager",
							"sid": 385167781675411,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"ActionCooldown\""
							}
						}
					],
					"actions": [],
					"sid": 147463773650660,
					"children": [
						{
							"eventType": "comment",
							"text": "If the player is close to the ground, perform a ground punch."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-between-values",
									"objectClass": "System",
									"sid": 865085342536826,
									"parameters": {
										"value": "PlayerCollision.Y",
										"lower-bound": "256 - 16",
										"upper-bound": "256 + 16"
									}
								}
							],
							"actions": [
								{
									"callFunction": "SetBossAnimation",
									"sid": 797072919638205,
									"parameters": [
										"\"GroundPunch\""
									]
								}
							],
							"sid": 632633889072138
						},
						{
							"eventType": "comment",
							"text": "But if the player is far from the ground, shoot a fire ball."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 898898720602872
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 951925372343183,
									"parameters": {
										"first-value": "PlayerCollision.Y",
										"comparison": 2,
										"second-value": "256 - 16"
									}
								}
							],
							"actions": [
								{
									"callFunction": "SetBossAnimation",
									"sid": 877806853310032,
									"parameters": [
										"\"FireBall\""
									]
								}
							],
							"sid": 828608574503977
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Stop all animations being played by the timeline plugin (boss animations)."
				},
				{
					"functionName": "StopAnimation",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "stop-all-timelines",
							"objectClass": "Timeline",
							"sid": 422928459234094
						},
						{
							"id": "stop-timer",
							"objectClass": "GameManager",
							"sid": 516330139800276,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"AnimationDuration\""
							}
						}
					],
					"sid": 434809970651011
				}
			],
			"sid": 504682143562759
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "BossAnimations",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Stop the current boss animation and change it to another one based on the parsed animation name."
				},
				{
					"functionName": "SetBossAnimation",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "AnimationName",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 459965238352296
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "StopAnimation",
							"sid": 356283737772411
						}
					],
					"sid": 155097895275589,
					"children": [
						{
							"eventType": "comment",
							"text": "Start the ground punch animation."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 562302758015757,
									"parameters": {
										"variable": "AnimationName",
										"comparison": 0,
										"value": "\"GroundPunch\""
									}
								}
							],
							"actions": [
								{
									"id": "play-timeline",
									"objectClass": "Timeline",
									"sid": 487262165739267,
									"parameters": {
										"timeline": "GroundPunch",
										"tags": "AnimationName"
									}
								},
								{
									"type": "comment",
									"text": "Start a timer with same duration of the current timeline animation, this is used to trigger the next animations."
								},
								{
									"id": "start-timer",
									"objectClass": "GameManager",
									"sid": 889189056457242,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "Timeline.TotalTime(AnimationName)",
										"type": "once",
										"tag": "\"AnimationDuration\""
									}
								}
							],
							"sid": 512425916026621
						},
						{
							"eventType": "comment",
							"text": "Start the damage stun animation."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 876417810508282
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 131859520938330,
									"parameters": {
										"variable": "AnimationName",
										"comparison": 0,
										"value": "\"DamageStun\""
									}
								}
							],
							"actions": [
								{
									"id": "play-timeline",
									"objectClass": "Timeline",
									"sid": 389149354920671,
									"parameters": {
										"timeline": "DamageStun",
										"tags": "AnimationName"
									}
								},
								{
									"type": "comment",
									"text": "Start a timer with same duration of the current timeline animation, this is used to trigger the next animations."
								},
								{
									"id": "start-timer",
									"objectClass": "GameManager",
									"sid": 640719529214299,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "Timeline.TotalTime(AnimationName)",
										"type": "once",
										"tag": "\"AnimationDuration\""
									}
								}
							],
							"sid": 827818750954828
						},
						{
							"eventType": "comment",
							"text": "Start the fire ball animation."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 518417332922905
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 295548282629170,
									"parameters": {
										"variable": "AnimationName",
										"comparison": 0,
										"value": "\"FireBall\""
									}
								}
							],
							"actions": [
								{
									"id": "play-timeline",
									"objectClass": "Timeline",
									"sid": 132087079835316,
									"parameters": {
										"timeline": "FireBall",
										"tags": "AnimationName"
									}
								},
								{
									"type": "comment",
									"text": "Start a timer with same duration of the current timeline animation, this is used to trigger the next animations."
								},
								{
									"id": "start-timer",
									"objectClass": "GameManager",
									"sid": 873123607091318,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "Timeline.TotalTime(AnimationName)",
										"type": "once",
										"tag": "\"AnimationDuration\""
									}
								}
							],
							"sid": 995019229044363
						},
						{
							"eventType": "comment",
							"text": "Start the death suffer animation."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 815195814619596
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 853582512317384,
									"parameters": {
										"variable": "AnimationName",
										"comparison": 0,
										"value": "\"DeathSuffer\""
									}
								}
							],
							"actions": [
								{
									"id": "play-timeline",
									"objectClass": "Timeline",
									"sid": 319888612020967,
									"parameters": {
										"timeline": "DeathSuffer",
										"tags": "AnimationName"
									}
								}
							],
							"sid": 419318906895741
						}
					]
				},
				{
					"eventType": "comment",
					"text": "The offset value for the energy beam texture. This is stored in a variable, so the same value can be applied to multiple objects."
				},
				{
					"eventType": "variable",
					"name": "EnergyBeamOffset",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 693486531864519
				},
				{
					"eventType": "comment",
					"text": "Constantly increase the offset value, so the energy beam looks like it's moving."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 162573277078114
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 689221696519462,
							"parameters": {
								"variable": "EnergyBeamOffset",
								"value": "EnergyBeamOffset + 0.5 * 60 * dt"
							}
						}
					],
					"sid": 374698754954821
				},
				{
					"eventType": "comment",
					"text": "Replace the energy beam with a new one in a very small time interval, so it look like it's flashing in a different frame rate."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 581012359314002,
							"parameters": {
								"interval-seconds": "0.1"
							}
						}
					],
					"actions": [],
					"sid": 825798811991212,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 995806521775562,
									"parameters": {
										"name": "\"OffsetMultiplier\"",
										"start-index": "1",
										"end-index": "2"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "BossChest",
									"sid": 657473168080197,
									"parameters": {
										"object": "EnergyBeam",
										"layer": "\"BossBack\"",
										"image-point": "\"EnergyBeam\"",
										"create-hierarchy": false
									}
								},
								{
									"type": "comment",
									"text": "Adjust the energy beam properties, so it connects with the boss front arm."
								},
								{
									"id": "set-angle",
									"objectClass": "EnergyBeam",
									"sid": 896524725438748,
									"parameters": {
										"angle": "angle(Self.X, Self.Y, BossFrontArm.ImagePointX(\"EnergyBeam\"), BossFrontArm.ImagePointY(\"EnergyBeam\"))"
									}
								},
								{
									"id": "set-width",
									"objectClass": "EnergyBeam",
									"sid": 197139101659771,
									"parameters": {
										"width": "distance(Self.X, Self.Y, BossFrontArm.ImagePointX(\"EnergyBeam\"), BossFrontArm.ImagePointY(\"EnergyBeam\"))"
									}
								},
								{
									"id": "set-image-offset-x",
									"objectClass": "EnergyBeam",
									"sid": 472565115127901,
									"parameters": {
										"offset-x": "EnergyBeamOffset * loopindex(\"OffsetMultiplier\")"
									}
								},
								{
									"type": "comment",
									"text": "Start a timer in each energy beam, so they can destroy themselves after some time."
								},
								{
									"id": "start-timer",
									"objectClass": "EnergyBeam",
									"sid": 988115528877028,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.05",
										"type": "once",
										"tag": "\"SelfDestroy\""
									}
								}
							],
							"sid": 289005427795897,
							"children": [
								{
									"eventType": "comment",
									"text": "Change the second energy beam texture, by changing its vertical offset value."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 607008463556630,
											"parameters": {
												"first-value": "loopindex",
												"comparison": 0,
												"second-value": "2"
											}
										}
									],
									"actions": [
										{
											"id": "set-image-offset-y",
											"objectClass": "EnergyBeam",
											"sid": 339251733381121,
											"parameters": {
												"offset-y": "16"
											}
										}
									],
									"sid": 552675635121375
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "EnergyBeam",
							"sid": 224781540489020,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"SelfDestroy\""
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "EnergyBeam",
							"sid": 454129555483131
						}
					],
					"sid": 309379261123107
				},
				{
					"eventType": "comment",
					"text": "Constantly spawn fire particles from the boss's eye, so he looks more intimidating."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 163992209386882,
							"parameters": {
								"interval-seconds": "0.1"
							}
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "BossHead",
							"sid": 176971191714742,
							"parameters": {
								"object": "EyeFire",
								"layer": "\"BossFront\"",
								"image-point": "\"Eye\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-angle",
							"objectClass": "EyeFire",
							"sid": 553655795343118,
							"parameters": {
								"angle": "0"
							}
						},
						{
							"type": "comment",
							"text": "Always move the particles up, just like regular fire."
						},
						{
							"id": "set-angle-of-motion",
							"objectClass": "EyeFire",
							"sid": 373200080042107,
							"behaviorType": "Bullet",
							"parameters": {
								"angle": "270 + random(-10, 10)"
							}
						}
					],
					"sid": 900462814599796
				}
			],
			"sid": 624909831520059
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "BossAttacks",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "If the blink bool is set to true, spawn an eye flash in boss's eye, while also attaching it to its head."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "BossHead",
							"sid": 729891029001487,
							"parameters": {
								"instance-variable": "Blink"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 148758567223139
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "BossHead",
							"sid": 998439093268731,
							"parameters": {
								"object": "EyeFlash",
								"layer": "\"BossFront\"",
								"image-point": "\"Eye\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "add-child",
							"objectClass": "BossHead",
							"sid": 356389765962171,
							"parameters": {
								"child": "EyeFlash",
								"transform-x": true,
								"transform-y": true,
								"transform-w": false,
								"transform-h": false,
								"transform-a": true,
								"transform-z-elevation": false,
								"destroy-with-parent": false
							}
						}
					],
					"sid": 813934339346130
				},
				{
					"eventType": "comment",
					"text": "If the shoot fire ball bool is set to true, spawn a burst of three fire balls from the boss's eye, but point them towards the player position."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "BossHead",
							"sid": 584350175339153,
							"parameters": {
								"instance-variable": "ShootFireBall"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 569815993758777
						}
					],
					"actions": [],
					"sid": 159076756188308,
					"children": [
						{
							"eventType": "comment",
							"text": "Loop goes from -1 to 1, so the fire balls are properly aligned with the player."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 446113190504699,
									"parameters": {
										"name": "\"\"",
										"start-index": "-1",
										"end-index": "1"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "BossHead",
									"sid": 865102132988224,
									"parameters": {
										"object": "FireBall",
										"layer": "\"BossFront\"",
										"image-point": "\"Eye\"",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-angle",
									"objectClass": "FireBall",
									"sid": 236546082264683,
									"parameters": {
										"angle": "angle(Self.X, Self.Y, PlayerCollision.ImagePointX(\"Center\"), PlayerCollision.ImagePointY(\"Center\")) + loopindex * 5"
									}
								},
								{
									"type": "comment",
									"text": "Also shake the screen for a more impactful effect."
								},
								{
									"callFunction": "ShakeScreen",
									"sid": 895080546796994,
									"parameters": [
										"0.05",
										"0.25"
									]
								}
							],
							"sid": 361611857027313
						}
					]
				},
				{
					"eventType": "comment",
					"text": "If a fire ball collides with a solid object, destroy it and leave a small explosion behind it."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "FireBall",
							"sid": 106929309443027,
							"parameters": {
								"object": "Ground"
							}
						},
						{
							"id": "on-collision-with-another-object",
							"objectClass": "FireBall",
							"sid": 163318276578133,
							"parameters": {
								"object": "RoomDoor"
							}
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "FireBall",
							"sid": 269264297257208,
							"parameters": {
								"object": "SmallExplosion",
								"layer": "\"BossFront\"",
								"image-point": "0",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-angle",
							"objectClass": "SmallExplosion",
							"sid": 524121561083722,
							"parameters": {
								"angle": "0"
							}
						},
						{
							"id": "destroy",
							"objectClass": "FireBall",
							"sid": 613225493741196
						}
					],
					"sid": 970830818676110,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "While a fire ball is flying, leave a fire trail behind it."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 956088904650140,
							"parameters": {
								"interval-seconds": "0.1"
							}
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "FireBall",
							"sid": 321345312528615,
							"parameters": {
								"object": "FireBallTrail",
								"layer": "\"BossFront\"",
								"image-point": "0",
								"create-hierarchy": false
							}
						}
					],
					"sid": 638250268733673
				},
				{
					"eventType": "comment",
					"text": "If the shoot detonate bool is set to true, spawn a sequence of explosions close to the boss's front arm."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "BossFrontArm",
							"sid": 790570322734395,
							"parameters": {
								"instance-variable": "Detonate"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 605176990026481
						}
					],
					"actions": [],
					"sid": 735552817729380,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 142712696776097,
									"parameters": {
										"name": "\"Instance\"",
										"start-index": "0",
										"end-index": "7"
									}
								}
							],
							"actions": [],
							"sid": 307114594508720,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 624320259781347,
											"parameters": {
												"name": "\"Direction\"",
												"start-index": "0",
												"end-index": "1"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 519748955704419,
											"parameters": {
												"object-to-create": "Explosion",
												"layer": "\"World\"",
												"x": "BossFrontArm.ImagePointX(\"Fist\") + cos(180 * loopindex(\"Direction\")) * (loopindex(\"Instance\") * 16)",
												"y": "256",
												"create-hierarchy": false
											}
										},
										{
											"type": "comment",
											"text": "However, stop the animation of all explosions and make them wait a bit before being shown, so the player has time to react."
										},
										{
											"id": "stop-animation",
											"objectClass": "Explosion",
											"sid": 437852489460141
										},
										{
											"id": "start-timer",
											"objectClass": "Explosion",
											"sid": 817841644891563,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "loopindex(\"Instance\") * 0.1",
												"type": "once",
												"tag": "\"Detonate\""
											}
										}
									],
									"sid": 477339130935262
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Spawn a bunch of random metal debris and make them fly up, like if the punch broke part of ground."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 803031518253643,
									"parameters": {
										"name": "\"\"",
										"start-index": "-4",
										"end-index": "4"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 468607525180543,
									"parameters": {
										"object-to-create": "GroundDebri",
										"layer": "\"World\"",
										"x": "BossFrontArm.ImagePointX(\"Fist\")",
										"y": "256 + loopindex * 4",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "GroundDebri",
									"sid": 536500969956189,
									"parameters": {
										"frame-number": "choose(0, 1, 2, 3, 4, 5, 6, 7)"
									}
								},
								{
									"id": "set-angle-of-motion",
									"objectClass": "GroundDebri",
									"sid": 112187312557938,
									"behaviorType": "Bullet",
									"parameters": {
										"angle": "270 + loopindex * 2"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "GroundDebri",
									"sid": 285471742936830,
									"behaviorType": "Bullet",
									"parameters": {
										"speed": "192 + random(-64, 64)"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "GroundDebri",
									"sid": 419410310860778,
									"behaviorType": "Rotate",
									"parameters": {
										"speed": "random(-360, 360)"
									}
								}
							],
							"sid": 329454718179181
						},
						{
							"eventType": "comment",
							"text": "Also shake the screen for a more impactful effect."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "ShakeScreen",
									"sid": 925471477188443,
									"parameters": [
										"0.05",
										"0.75"
									]
								}
							],
							"sid": 779723082503473
						}
					]
				},
				{
					"eventType": "comment",
					"text": "When the detonate timer is over, show the explosions and allow them to hurt the player."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "Explosion",
							"sid": 363550964896920,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Detonate\""
							}
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "Explosion",
							"sid": 182080762551518,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "set-collisions-enabled",
							"objectClass": "Explosion",
							"sid": 998297689601510,
							"parameters": {
								"collisions": "enabled"
							}
						},
						{
							"id": "start-animation",
							"objectClass": "Explosion",
							"sid": 438020219719678,
							"parameters": {
								"from": "beginning"
							}
						}
					],
					"sid": 574132236213820
				},
				{
					"eventType": "comment",
					"text": "When the trail timer is over, leave trail of energy behind the boss's front arm, but only for 0.5 seconds."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "BossFrontArm",
							"sid": 210763092605575,
							"parameters": {
								"instance-variable": "Trail"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 491721447485268
						}
					],
					"actions": [
						{
							"id": "start-timer",
							"objectClass": "BossFrontArm",
							"sid": 274100298432271,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "0.5",
								"type": "once",
								"tag": "\"Trail\""
							}
						}
					],
					"sid": 398808042914778
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-timer-running",
							"objectClass": "BossFrontArm",
							"sid": 122940471495045,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Trail\""
							}
						}
					],
					"actions": [],
					"sid": 677933150280711,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 583549658684774,
									"parameters": {
										"interval-seconds": "0.05"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "BossFrontArm",
									"sid": 533433240340222,
									"parameters": {
										"object": "FrontArmTrail",
										"layer": "\"BossFront\"",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-angle",
									"objectClass": "FrontArmTrail",
									"sid": 957691707325199,
									"parameters": {
										"angle": "BossFrontArm.Angle"
									}
								},
								{
									"id": "move-to-bottom",
									"objectClass": "FrontArmTrail",
									"sid": 742971221674017
								}
							],
							"sid": 583483086967032
						}
					]
				}
			],
			"sid": 794151826109778
		},
		{
			"eventType": "comment",
			"text": "How many hits the boss need to take before dying."
		},
		{
			"eventType": "variable",
			"name": "BossHeath",
			"type": "number",
			"initialValue": "2",
			"comment": "",
			"isStatic": true,
			"isConstant": false,
			"sid": 782022062072899
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "BossHeath",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "If a sword slash collides with the boss's head, prevent the sword slash from dealing more damage by disabling it, and then damage the boss itself."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "SwordSlash",
							"sid": 432617934671860,
							"parameters": {
								"object": "BossHead"
							}
						}
					],
					"actions": [
						{
							"id": "set-collisions-enabled",
							"objectClass": "SwordSlash",
							"sid": 753232611696256,
							"parameters": {
								"collisions": "disabled"
							}
						},
						{
							"callFunction": "DamageBoss",
							"sid": 930358252090845,
							"parameters": [
								"1"
							]
						},
						{
							"id": "set-animation",
							"objectClass": "BossHead",
							"sid": 332118172027594,
							"parameters": {
								"animation": "\"Damage\"",
								"from": "beginning"
							}
						}
					],
					"sid": 197738815108548
				},
				{
					"eventType": "comment",
					"text": "Reset the boss's head animation after the damage animation is over."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "BossHead",
							"sid": 211974186405590,
							"parameters": {
								"animation": "\"Damage\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "BossHead",
							"sid": 164554118032979,
							"parameters": {
								"animation": "\"Default\"",
								"from": "beginning"
							}
						}
					],
					"sid": 878953729663658
				},
				{
					"eventType": "comment",
					"text": "Damage the boss by reducing it's heath."
				},
				{
					"functionName": "DamageBoss",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "Strength",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 501975007336654
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "Reduce the boss heath, but with a clamped value, so it never goes below zero."
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 181574131235846,
							"parameters": {
								"variable": "BossHeath",
								"value": "clamp(BossHeath - Strength, 0, Infinity)"
							}
						},
						{
							"type": "comment",
							"text": "Also prevent the boss from triggering other attack animation, by stopping the action cooldown timer."
						},
						{
							"id": "stop-timer",
							"objectClass": "GameManager",
							"sid": 802422228137708,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"ActionCooldown\""
							}
						}
					],
					"sid": 217058143456253,
					"children": [
						{
							"eventType": "comment",
							"text": "If even after being hit the boss heath still is higher than zero, interrupt his animation and make him show the damage stun animation."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 257805416886368,
									"parameters": {
										"variable": "BossHeath",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"callFunction": "StopAnimation",
									"sid": 238916865118648
								},
								{
									"callFunction": "SetBossAnimation",
									"sid": 538955272772730,
									"parameters": [
										"\"DamageStun\""
									]
								},
								{
									"type": "comment",
									"text": "Slow down time for a brief moment."
								},
								{
									"id": "set-time-scale",
									"objectClass": "System",
									"sid": 831153598917556,
									"parameters": {
										"time-scale": "0.1"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 335955990359542,
									"parameters": {
										"seconds": "0.025"
									}
								},
								{
									"id": "set-time-scale",
									"objectClass": "System",
									"sid": 726284192692258,
									"parameters": {
										"time-scale": "1"
									}
								},
								{
									"type": "comment",
									"text": "Also shake the screen for a more impactful effect."
								},
								{
									"callFunction": "ShakeScreen",
									"sid": 347101538315282,
									"parameters": [
										"0.05",
										"0.25"
									]
								}
							],
							"sid": 656642900132098
						},
						{
							"eventType": "comment",
							"text": "However, if the boss heath is equal to zero, interrupt his animation and make him show the death suffer animation."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 302604680539936
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 617466810817071,
									"parameters": {
										"variable": "BossHeath",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"callFunction": "StopAnimation",
									"sid": 874606634479235
								},
								{
									"callFunction": "SetBossAnimation",
									"sid": 812728584384379,
									"parameters": [
										"\"DeathSuffer\""
									]
								}
							],
							"sid": 927725044976250,
							"children": [
								{
									"eventType": "comment",
									"text": "Spawn a bunch of explosions around the boss's head."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 629470761219877,
											"parameters": {
												"count": "8"
											}
										}
									],
									"actions": [
										{
											"callFunction": "SpawnRandomExplosion",
											"sid": 483934794593680,
											"parameters": [
												"BossHead.ImagePointX(\"Center\") ",
												"BossHead.ImagePointY(\"Center\") ",
												"32",
												"16"
											]
										}
									],
									"sid": 813031353680779
								},
								{
									"eventType": "comment",
									"text": "Slow down time, so the player can better see the boss collapsing."
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-time-scale",
											"objectClass": "System",
											"sid": 563979323137817,
											"parameters": {
												"time-scale": "0.1"
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 458925100337706,
											"parameters": {
												"seconds": "0.5"
											}
										},
										{
											"id": "set-time-scale",
											"objectClass": "System",
											"sid": 245398431955091,
											"parameters": {
												"time-scale": "1"
											}
										},
										{
											"type": "comment",
											"text": "Also shake the screen for a more impactful effect."
										},
										{
											"callFunction": "ShakeScreen",
											"sid": 128856149601089,
											"parameters": [
												"0.05",
												"1"
											]
										}
									],
									"sid": 711375441157954
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Spawn explosions close the boss's body while it's being destroyed in the death suffer animation."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing-by-tags",
							"objectClass": "Timeline",
							"sid": 143345880961585,
							"parameters": {
								"tags": "\"DeathSuffer\""
							}
						}
					],
					"actions": [],
					"sid": 785092494819686,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 268071024281431,
									"parameters": {
										"interval-seconds": "0.05"
									}
								}
							],
							"actions": [
								{
									"callFunction": "SpawnRandomExplosion",
									"sid": 319856550952165,
									"parameters": [
										"BossChest.ImagePointX(\"Center\") ",
										"BossChest.ImagePointY(\"Center\") ",
										"64",
										"96"
									]
								}
							],
							"sid": 150696602822128
						}
					]
				},
				{
					"eventType": "comment",
					"text": "When the boss is finally completely destroyed, de-attach all of its body parts, so they can fall and rotate freely,"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timeline-finished-by-tags",
							"objectClass": "Timeline",
							"sid": 144541748315100,
							"parameters": {
								"tags": "\"DeathSuffer\""
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Also shake the screen for a more impactful effect."
						},
						{
							"callFunction": "ShakeScreen",
							"sid": 653220914489447,
							"parameters": [
								"0.1",
								"2"
							]
						}
					],
					"sid": 219882060418880,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 842004843306112,
									"parameters": {
										"object": "BossMovingParts"
									}
								}
							],
							"actions": [
								{
									"id": "remove-from-parent",
									"objectClass": "BossMovingParts",
									"sid": 211332429072586
								},
								{
									"id": "set-enabled",
									"objectClass": "BossMovingParts",
									"sid": 419415267551555,
									"behaviorType": "Bullet",
									"parameters": {
										"state": "enabled"
									}
								},
								{
									"id": "set-angle-of-motion",
									"objectClass": "BossMovingParts",
									"sid": 329289531194446,
									"behaviorType": "Bullet",
									"parameters": {
										"angle": "270"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "BossMovingParts",
									"sid": 968950810223820,
									"behaviorType": "Rotate",
									"parameters": {
										"state": "enabled"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "BossMovingParts",
									"sid": 479218323093910,
									"behaviorType": "Rotate",
									"parameters": {
										"speed": "choose(-45, 45)"
									}
								}
							],
							"sid": 320029616503361
						},
						{
							"eventType": "comment",
							"text": "Also spawn a huge amount of explosions around the boss's body."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 586518397525863,
									"parameters": {
										"count": "32"
									}
								}
							],
							"actions": [
								{
									"callFunction": "SpawnRandomExplosion",
									"sid": 576508655680537,
									"parameters": [
										"BossChest.ImagePointX(\"Center\") ",
										"BossChest.ImagePointY(\"Center\") ",
										"64",
										"96"
									]
								}
							],
							"sid": 978326173239604
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Spawn an explosion in a specific position, but with a randomizing factor for each axis."
				},
				{
					"functionName": "SpawnRandomExplosion",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "CenterX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 578556213922082
						},
						{
							"name": "CenterY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 110787084168791
						},
						{
							"name": "HorizontalRandom",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 262300937656842
						},
						{
							"name": "VerticalRandom",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 693881981519453
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 100062428370277,
							"parameters": {
								"object-to-create": "BigExplosion",
								"layer": "\"Effects\"",
								"x": "CenterX + random(-HorizontalRandom, HorizontalRandom)",
								"y": "CenterY + random(-VerticalRandom, VerticalRandom)",
								"create-hierarchy": false
							}
						}
					],
					"sid": 277816799868268
				}
			],
			"sid": 247775007656211
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "BreakableBlock",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "If the player collides with a breakable block while it's solid, prepare it to be destroyed by starting a timer."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "PlayerCollision",
							"sid": 215101741245855,
							"parameters": {
								"object": "BreakableBlock"
							}
						}
					],
					"actions": [],
					"sid": 709811685986520,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-enabled",
									"objectClass": "BreakableBlock",
									"sid": 486784115552229,
									"behaviorType": "Solid"
								},
								{
									"id": "is-timer-running",
									"objectClass": "BreakableBlock",
									"sid": 776405137909860,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"SelfDestroy\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "start-timer",
									"objectClass": "BreakableBlock",
									"sid": 256616205875203,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.5",
										"type": "once",
										"tag": "\"SelfDestroy\""
									}
								},
								{
									"type": "comment",
									"text": "Also spawns a trigger flash particle."
								},
								{
									"id": "spawn-another-object",
									"objectClass": "BreakableBlock",
									"sid": 261310410021912,
									"parameters": {
										"object": "TriggerFlash",
										"layer": "\"World\"",
										"image-point": "0",
										"create-hierarchy": false
									}
								}
							],
							"sid": 723092699937851
						}
					]
				},
				{
					"eventType": "comment",
					"text": "When the self destruction timer is over, completely disable the breakable block and wait a bit before it can be recharged."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "BreakableBlock",
							"sid": 692355448868263,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"SelfDestroy\""
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "BreakableBlock",
							"sid": 220684718142851,
							"behaviorType": "Solid",
							"parameters": {
								"state": "disabled"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "BreakableBlock",
							"sid": 638161432191228,
							"parameters": {
								"animation": "\"Off\"",
								"from": "beginning"
							}
						},
						{
							"id": "start-timer",
							"objectClass": "BreakableBlock",
							"sid": 961555156490120,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "1",
								"type": "once",
								"tag": "\"Recharge\""
							}
						}
					],
					"sid": 410473746345141
				},
				{
					"eventType": "comment",
					"text": "When the recharge timer is over, toggle the recharge bool on."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "BreakableBlock",
							"sid": 517420238251548,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Recharge\""
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "BreakableBlock",
							"sid": 724276204944455,
							"parameters": {
								"instance-variable": "Recharge",
								"value": "true"
							}
						}
					],
					"sid": 959446846817130
				},
				{
					"eventType": "comment",
					"text": "The breakable block is not immediately re-enabled because it could be overlapping the player when the timer ends, causing some very odd collision issues, so it's better to store its state in a local variable and only change the breakable block state when certain conditions are met."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "BreakableBlock",
							"sid": 978618168203383,
							"parameters": {
								"instance-variable": "Recharge"
							}
						}
					],
					"actions": [],
					"sid": 895482350080162,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "BreakableBlock",
									"sid": 606621499792699,
									"parameters": {
										"object": "PlayerCollision"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-enabled",
									"objectClass": "BreakableBlock",
									"sid": 673289227754525,
									"behaviorType": "Solid",
									"parameters": {
										"state": "enabled"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "BreakableBlock",
									"sid": 102424498501529,
									"parameters": {
										"animation": "\"On\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "BreakableBlock",
									"sid": 593319338690483,
									"parameters": {
										"instance-variable": "Recharge",
										"value": "false"
									}
								}
							],
							"sid": 148365224991985
						}
					]
				}
			],
			"sid": 954181428361263
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Hazards",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "If the player collides with an explosion or a fire ball, restart the game."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "PlayerCollision",
							"sid": 491319484918097,
							"parameters": {
								"object": "Explosion"
							}
						},
						{
							"id": "on-collision-with-another-object",
							"objectClass": "PlayerCollision",
							"sid": 645357951616107,
							"parameters": {
								"object": "FireBall"
							}
						}
					],
					"actions": [
						{
							"id": "reset-global-variables",
							"objectClass": "System",
							"sid": 631093073944878
						},
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 872865184487933
						}
					],
					"sid": 341596029358143,
					"isOrBlock": true
				}
			],
			"sid": 874232227957891
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "MemoryCleaner",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "When the animation of a particle object is over, destroy it to prevent any sort of CPU overload."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "SwordSlash",
							"sid": 319328539420057,
							"parameters": {
								"animation": "\"Default\""
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "SwordSlash",
							"sid": 491632665091953
						}
					],
					"sid": 145563836333385
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "SmallExplosion",
							"sid": 887501665736933,
							"parameters": {
								"animation": "\"Default\""
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "SmallExplosion",
							"sid": 125668889349841
						}
					],
					"sid": 613881021494447
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "EyeFire",
							"sid": 535072937083407,
							"parameters": {
								"animation": "\"Default\""
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "EyeFire",
							"sid": 691623740617240
						}
					],
					"sid": 189307020016545
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "FireBallTrail",
							"sid": 621452452739365,
							"parameters": {
								"animation": "\"Default\""
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "FireBallTrail",
							"sid": 202318598374876
						}
					],
					"sid": 676771774567026
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "Explosion",
							"sid": 725652116440633,
							"parameters": {
								"animation": "\"Default\""
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Explosion",
							"sid": 300627060106574
						}
					],
					"sid": 456992973087193
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "FrontArmTrail",
							"sid": 236259510042636,
							"parameters": {
								"animation": "\"Default\""
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "FrontArmTrail",
							"sid": 195193216722587
						}
					],
					"sid": 653860979075233
				}
			],
			"sid": 943292392435402
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "DebugTools",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Restart the game."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 807216704640287,
							"parameters": {
								"key": 82
							}
						},
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 493017165337054,
							"parameters": {
								"gamepad": "0",
								"button": "start-menu"
							}
						}
					],
					"actions": [
						{
							"id": "reset-global-variables",
							"objectClass": "System",
							"sid": 340685412143189
						},
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 356248864866243
						}
					],
					"sid": 608605042706636,
					"isOrBlock": true
				}
			],
			"sid": 731419774535474
		}
	],
	"sid": 703169307524782
}