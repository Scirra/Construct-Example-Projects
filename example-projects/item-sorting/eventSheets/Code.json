{
	"name": "Code",
	"events": [
		{
			"eventType": "comment",
			"text": "Made by Viridino Studios (@ViridinoStudios)\n\nMateus Ferreira Moreira - Programmer\nTwitter: @BonzerKitten\nE-mail: ferreiramoreiramateus@gmail.com\n\nFelipe Vaiano Calderan - Programmer\nTwitter: @fvcalderan\nE-mail: fvcalderan@gmail.com\n\nWesley Andrade - Artist\nTwitter: @andrart7\nE-mail: wesleymatos1989@gmail.com\n\nMade with the support of patrons on https://www.patreon.com/viridinostudios"
		},
		{
			"eventType": "comment",
			"text": "Whether or not the player is allowed to directly interact with the game."
		},
		{
			"eventType": "variable",
			"name": "AllowPlayerInput",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 607231162550848
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Setup",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Set up the game by playing a fade out animation."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 136663531850271
						}
					],
					"actions": [
						{
							"id": "tween-one-property",
							"objectClass": "Fade",
							"sid": 192565422340377,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FadeOut\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "0.5",
								"ease": "noease",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"type": "comment",
							"text": "Reset the board array, so it's prepared to accommodate every item in the layout."
						},
						{
							"id": "set-size",
							"objectClass": "Board",
							"sid": 582463385322894,
							"parameters": {
								"width": "Container.Count",
								"height": "MAXITEMSPERCONTAINER",
								"depth": "1"
							}
						},
						{
							"id": "clear",
							"objectClass": "Board",
							"sid": 785668129286784,
							"parameters": {
								"value": "-1"
							}
						}
					],
					"sid": 113218994578247,
					"children": [
						{
							"eventType": "variable",
							"name": "ContainerLoopindex",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 574996153101364
						},
						{
							"eventType": "variable",
							"name": "ItemLoopindex",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 977977908582755
						},
						{
							"eventType": "comment",
							"text": "Loop through each container, while looking for items with the same X position as the container itself."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-ordered",
									"objectClass": "System",
									"sid": 532356751434377,
									"parameters": {
										"object": "Container",
										"expression": "Container.X",
										"order": "ascending"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Increase the container loop index by one."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 549815666926845,
									"parameters": {
										"variable": "ContainerLoopindex",
										"value": "ContainerLoopindex + 1"
									}
								},
								{
									"type": "comment",
									"text": "Store the container loop index inside the container itself, so it can be referenced later."
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Container",
									"sid": 359088107936718,
									"parameters": {
										"instance-variable": "Index",
										"value": "ContainerLoopindex"
									}
								},
								{
									"type": "comment",
									"text": "Reset the item loop index back to minus one."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 890226118514905,
									"parameters": {
										"variable": "ItemLoopindex",
										"value": "-1"
									}
								}
							],
							"sid": 167743129836420,
							"children": [
								{
									"eventType": "comment",
									"text": "Pick all items that matches the container's X position."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 502644757750224,
											"parameters": {
												"object": "Item",
												"expression": "round(Item.X)",
												"comparison": 0,
												"value": "round(Container.X)"
											}
										}
									],
									"actions": [],
									"sid": 512555809872496,
									"children": [
										{
											"eventType": "comment",
											"text": "Loop through each item, adding their loop index to the board array."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each-ordered",
													"objectClass": "System",
													"sid": 816918897261252,
													"parameters": {
														"object": "Item",
														"expression": "Item.Y",
														"order": "descending"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Increase the item loop index by one."
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 857799333749489,
													"parameters": {
														"variable": "ItemLoopindex",
														"value": "ItemLoopindex + 1"
													}
												},
												{
													"type": "comment",
													"text": "Store the item loop index inside the board array, so it can be referenced later."
												},
												{
													"id": "set-at-xy",
													"objectClass": "Board",
													"sid": 238782043612804,
													"parameters": {
														"x": "ContainerLoopindex",
														"y": "ItemLoopindex",
														"value": "Item.UID & \"|\" & Item.AnimationName"
													}
												}
											],
											"sid": 575413699432185
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Which type of item was found."
						},
						{
							"eventType": "variable",
							"name": "ItemTypesFound",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 538640738701653
						},
						{
							"eventType": "comment",
							"text": "Loop through each item, looking for different types of items."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 671527446136230,
									"parameters": {
										"object": "Item"
									}
								}
							],
							"actions": [],
							"sid": 443524027265230,
							"children": [
								{
									"eventType": "comment",
									"text": "Whether or not a new type should be added to the list."
								},
								{
									"eventType": "variable",
									"name": "Add",
									"type": "boolean",
									"initialValue": "true",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 156384332064156
								},
								{
									"eventType": "comment",
									"text": "If the item types found list is empty, manually add the item type to the list."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 812488231363518,
											"parameters": {
												"value": "ItemTypesFound = \"\""
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 369185284277711,
											"parameters": {
												"variable": "Add",
												"value": "false"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 196714344727744,
											"parameters": {
												"variable": "ItemTypesFound",
												"value": "Item.AnimationName"
											}
										}
									],
									"sid": 797859090230140
								},
								{
									"eventType": "comment",
									"text": "However, if the item types found list isn't empty, check if the current item type is already in the list."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 763300432191990
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 381232900172051,
											"parameters": {
												"value": "ItemTypesFound <> \"\""
											}
										}
									],
									"actions": [],
									"sid": 581858644081950,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "repeat",
													"objectClass": "System",
													"sid": 151343507452908,
													"parameters": {
														"count": "tokencount(ItemTypesFound, \"|\")"
													}
												}
											],
											"actions": [],
											"sid": 223837985159039,
											"children": [
												{
													"eventType": "comment",
													"text": "If the current item type is already on the list, set the add bool to false and stop the loop."
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 692321283227367,
															"parameters": {
																"value": "Item.AnimationName = tokenat(ItemTypesFound, loopindex, \"|\")"
															}
														}
													],
													"actions": [
														{
															"id": "set-boolean-eventvar",
															"objectClass": "System",
															"sid": 388698000402937,
															"parameters": {
																"variable": "Add",
																"value": "false"
															}
														},
														{
															"id": "stop-loop",
															"objectClass": "System",
															"sid": 769192609493740
														}
													],
													"sid": 372785429381300
												}
											]
										}
									]
								},
								{
									"eventType": "comment",
									"text": "If the add bool is set to true, add the item type to the list."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 422186480750410,
											"parameters": {
												"value": "Add = 1"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 499016058761691,
											"parameters": {
												"variable": "ItemTypesFound",
												"value": "ItemTypesFound&\"|\"&Item.AnimationName"
											}
										}
									],
									"sid": 263300713154239
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Set the total item types by counting the number of tokens in the item types found variable."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 816182637735638,
									"parameters": {
										"variable": "TotalItemTypes",
										"value": "tokencount(ItemTypesFound, \"|\")"
									}
								}
							],
							"sid": 192933073265724
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Once the fade out animation is over, enable the player input."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "Fade",
							"sid": 616597091810110,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FadeOut\""
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 909101195795337,
							"parameters": {
								"variable": "AllowPlayerInput",
								"value": "true"
							}
						}
					],
					"sid": 311073805262498
				}
			],
			"sid": 559601819204842
		},
		{
			"eventType": "comment",
			"text": "How many items each container can contain at once."
		},
		{
			"eventType": "variable",
			"name": "MAXITEMSPERCONTAINER",
			"type": "number",
			"initialValue": "5",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 577165971597109
		},
		{
			"eventType": "comment",
			"text": "The distance between each item."
		},
		{
			"eventType": "variable",
			"name": "DISTANCEBETWEENEACHITEM",
			"type": "number",
			"initialValue": "144",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 223611834518299
		},
		{
			"eventType": "comment",
			"text": "The type of the picked item."
		},
		{
			"eventType": "variable",
			"name": "PickedItemType",
			"type": "string",
			"initialValue": "",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 866975088607812
		},
		{
			"eventType": "comment",
			"text": "The UID of the picked container."
		},
		{
			"eventType": "variable",
			"name": "PickedContainerUID",
			"type": "number",
			"initialValue": "-1",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 244593578600416
		},
		{
			"eventType": "comment",
			"text": "The index of the picked container."
		},
		{
			"eventType": "variable",
			"name": "PickedContainerIndex",
			"type": "number",
			"initialValue": "-1",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 972641901313120
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Controls",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "If the player touches a container, execute a sequence of tests to choose the appropriate set of actions that need to be performed."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-touched-object",
							"objectClass": "Touch",
							"sid": 320295594787718,
							"parameters": {
								"object": "Container",
								"type": "start"
							}
						}
					],
					"actions": [],
					"sid": 114979725283248,
					"children": [
						{
							"eventType": "comment",
							"text": "But only if the player input is enabled."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 477155494556818,
									"parameters": {
										"value": "AllowPlayerInput = 1"
									}
								}
							],
							"actions": [],
							"sid": 489070513217394,
							"children": [
								{
									"eventType": "comment",
									"text": "If the picked list is empty, try to pick the items from the selected container."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 287867022884983,
											"parameters": {
												"value": "Picked.Height = 0"
											}
										}
									],
									"actions": [],
									"sid": 221282872447548,
									"children": [
										{
											"eventType": "comment",
											"text": "Loop through every slot in the selected container."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 940175339228473,
													"parameters": {
														"name": "\"item\"",
														"start-index": "MAXITEMSPERCONTAINER - 1",
														"end-index": "0"
													}
												}
											],
											"actions": [],
											"sid": 641966757200064,
											"children": [
												{
													"eventType": "comment",
													"text": "If the slot isn't empty, add the item to the picked list."
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 890291206661954,
															"parameters": {
																"value": "Board.At(Container.Index, loopindex(\"item\")) <> -1"
															}
														}
													],
													"actions": [],
													"sid": 996040538822334,
													"children": [
														{
															"eventType": "comment",
															"text": "If there's no picked item type defined yet, set it to be the first item type at the bottom of the container."
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "evaluate-expression",
																	"objectClass": "System",
																	"sid": 978422598798998,
																	"parameters": {
																		"value": "PickedItemType = \"\""
																	}
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 658514931069369,
																	"parameters": {
																		"variable": "PickedItemType",
																		"value": "tokenat(Board.At(Container.Index, loopindex(\"item\")), 1, \"|\")"
																	}
																},
																{
																	"type": "comment",
																	"text": "Also add the picked item to the picked item list."
																},
																{
																	"callFunction": "AddToPicked",
																	"sid": 761925284773957,
																	"parameters": [
																		"Container.Index",
																		"loopindex(\"item\")",
																		"Board.At(Container.Index, loopindex(\"item\"))"
																	]
																}
															],
															"sid": 587570415510773
														},
														{
															"eventType": "comment",
															"text": "However, if there's already a defined picked item type, filter the picked item."
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 243388687679575
																},
																{
																	"id": "evaluate-expression",
																	"objectClass": "System",
																	"sid": 908024327962065,
																	"parameters": {
																		"value": "PickedItemType <> \"\""
																	}
																}
															],
															"actions": [],
															"sid": 163085191796526,
															"children": [
																{
																	"eventType": "comment",
																	"text": "If the picked item is of the same type as the first one in the container, add it to the picked item list."
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 966086163945936,
																			"parameters": {
																				"value": "PickedItemType = tokenat(Board.At(Container.Index, loopindex(\"item\")), 1, \"|\")"
																			}
																		}
																	],
																	"actions": [
																		{
																			"callFunction": "AddToPicked",
																			"sid": 894040604468224,
																			"parameters": [
																				"Container.Index",
																				"loopindex(\"item\")",
																				"Board.At(Container.Index, loopindex(\"item\"))"
																			]
																		}
																	],
																	"sid": 207321451701398
																},
																{
																	"eventType": "comment",
																	"text": "However, if the picked item isn't of the same type as the first one in the container, stop the loop."
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 183915336038022
																		},
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 183919860623007,
																			"parameters": {
																				"value": "PickedItemType <> tokenat(Board.At(Container.Index, loopindex(\"item\")), 1, \"|\")"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "stop-loop",
																			"objectClass": "System",
																			"sid": 747477213803037
																		}
																	],
																	"sid": 504314935622127
																}
															]
														}
													]
												}
											]
										},
										{
											"eventType": "comment",
											"text": "If the picked array height is equal to zero, reset it."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 360766272711317,
													"parameters": {
														"value": "Picked.Height = 0"
													}
												}
											],
											"actions": [
												{
													"callFunction": "ResetPicked",
													"sid": 479725231406186
												}
											],
											"sid": 172765401848234
										},
										{
											"eventType": "comment",
											"text": "However, if the picked array height is higher than zero, store the picked container UID and index to static variables, so they can be referenced later."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 711107632280300
												},
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 279428619754137,
													"parameters": {
														"value": "Picked.Height > 0"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 506169918741851,
													"parameters": {
														"variable": "PickedContainerUID",
														"value": "Container.UID"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 170721490035011,
													"parameters": {
														"variable": "PickedContainerIndex",
														"value": "Container.Index"
													}
												},
												{
													"type": "comment",
													"text": "Also move the cursor to the container's position."
												},
												{
													"id": "set-position",
													"objectClass": "Cursor",
													"sid": 101443544026452,
													"parameters": {
														"x": "Container.ImagePointX(\"Center\")",
														"y": "Container.ImagePointY(\"Center\")"
													}
												},
												{
													"id": "set-opacity",
													"objectClass": "Cursor",
													"sid": 369727768523712,
													"parameters": {
														"opacity": "0"
													}
												},
												{
													"id": "tween-one-property",
													"objectClass": "Cursor",
													"sid": 583404133346378,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"Fade\"",
														"property": "offsetOpacity",
														"end-value": "100",
														"time": "0.25",
														"ease": "noease",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 795191417184400
										}
									]
								},
								{
									"eventType": "comment",
									"text": "However, if the picked list isn't empty, try to transfer the previously picked items into the selected container."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 995796680258213
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 404894419807455,
											"parameters": {
												"value": "Picked.Height > 0"
											}
										}
									],
									"actions": [],
									"sid": 487750500258937,
									"children": [
										{
											"eventType": "comment",
											"text": "If the picked container is the same as before, reset the picked array, as nothing will change."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 859593868286355,
													"parameters": {
														"value": "Container.UID = PickedContainerUID"
													}
												}
											],
											"actions": [
												{
													"callFunction": "ResetPicked",
													"sid": 715051168103256
												}
											],
											"sid": 533983389091866
										},
										{
											"eventType": "comment",
											"text": "However, if the picked container is different, proceed with transfers process."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 846837480053282
												},
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 679321942336487,
													"parameters": {
														"value": "Container.UID <> PickedContainerUID"
													}
												}
											],
											"actions": [],
											"sid": 396095685010102,
											"children": [
												{
													"eventType": "comment",
													"text": "How many free slots are available in the current container."
												},
												{
													"eventType": "variable",
													"name": "FreeSlots",
													"type": "number",
													"initialValue": "0",
													"comment": "",
													"isStatic": false,
													"isConstant": false,
													"sid": 944064363257378
												},
												{
													"eventType": "comment",
													"text": "Whether or not the game should proceed with transfer process."
												},
												{
													"eventType": "variable",
													"name": "ProceedWithTransferPart0",
													"type": "boolean",
													"initialValue": "false",
													"comment": "",
													"isStatic": false,
													"isConstant": false,
													"sid": 883050356236535
												},
												{
													"eventType": "variable",
													"name": "SkipPart1",
													"type": "boolean",
													"initialValue": "false",
													"comment": "",
													"isStatic": false,
													"isConstant": false,
													"sid": 234236648640646
												},
												{
													"eventType": "comment",
													"text": "Count how many slots are free in the current container."
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for",
															"objectClass": "System",
															"sid": 250657197328287,
															"parameters": {
																"name": "\"item\"",
																"start-index": "MAXITEMSPERCONTAINER - 1",
																"end-index": "0"
															}
														}
													],
													"actions": [],
													"sid": 357530014902268,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "evaluate-expression",
																	"objectClass": "System",
																	"sid": 973525477398864,
																	"parameters": {
																		"value": "Board.At(Container.Index, loopindex(\"item\")) = -1"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 853047067945656,
																	"parameters": {
																		"variable": "FreeSlots",
																		"value": "FreeSlots + 1"
																	}
																}
															],
															"sid": 844169121184636
														}
													]
												},
												{
													"eventType": "comment",
													"text": "If every slot in the current container is free, proceed with the transfer."
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 212163883468059,
															"parameters": {
																"value": "FreeSlots = MAXITEMSPERCONTAINER"
															}
														}
													],
													"actions": [
														{
															"id": "set-boolean-eventvar",
															"objectClass": "System",
															"sid": 580054187706710,
															"parameters": {
																"variable": "ProceedWithTransferPart0",
																"value": "true"
															}
														},
														{
															"id": "set-boolean-eventvar",
															"objectClass": "System",
															"sid": 355401799720883,
															"parameters": {
																"variable": "SkipPart1",
																"value": "true"
															}
														}
													],
													"sid": 102242267124268
												},
												{
													"eventType": "comment",
													"text": "Also, if enough slots in the current container are free, proceed with the transfer."
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 202707527547026
														},
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 955670379135398,
															"parameters": {
																"value": "FreeSlots >= Picked.Height"
															}
														}
													],
													"actions": [
														{
															"id": "set-boolean-eventvar",
															"objectClass": "System",
															"sid": 221771390252392,
															"parameters": {
																"variable": "ProceedWithTransferPart0",
																"value": "true"
															}
														},
														{
															"id": "set-boolean-eventvar",
															"objectClass": "System",
															"sid": 672277294109015,
															"parameters": {
																"variable": "SkipPart1",
																"value": "false"
															}
														}
													],
													"sid": 664868106647206
												},
												{
													"eventType": "comment",
													"text": "However, if not enough slots in the current container are free, proceed with the transfer."
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 347157082386467
														},
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 148022551118626,
															"parameters": {
																"value": "FreeSlots < Picked.Height"
															}
														}
													],
													"actions": [
														{
															"id": "set-boolean-eventvar",
															"objectClass": "System",
															"sid": 890811164621974,
															"parameters": {
																"variable": "ProceedWithTransferPart0",
																"value": "false"
															}
														},
														{
															"id": "set-boolean-eventvar",
															"objectClass": "System",
															"sid": 738816768334097,
															"parameters": {
																"variable": "SkipPart1",
																"value": "false"
															}
														}
													],
													"sid": 729373599096658
												},
												{
													"eventType": "comment",
													"text": "If the proceed with transfer bool is set to false, reset the picked array."
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 353650169775848,
															"parameters": {
																"value": "ProceedWithTransferPart0 = 0"
															}
														}
													],
													"actions": [
														{
															"callFunction": "ResetPicked",
															"sid": 615814639844808
														}
													],
													"sid": 709382032482495
												},
												{
													"eventType": "comment",
													"text": "However, if the proceed with transfer bool is set to true, proceed with the transfer process."
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 729538643157251
														},
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 828260457320652,
															"parameters": {
																"value": "ProceedWithTransferPart0 = 1"
															}
														}
													],
													"actions": [],
													"sid": 249594597174950,
													"children": [
														{
															"eventType": "comment",
															"text": "Whether or not the game should proceed with transfer process."
														},
														{
															"eventType": "variable",
															"name": "ProceedWithTransferPart1",
															"type": "boolean",
															"initialValue": "false",
															"comment": "",
															"isStatic": false,
															"isConstant": false,
															"sid": 872076841082920
														},
														{
															"eventType": "comment",
															"text": "If the skip bool is set to true, set the proceed with transfer bool to true."
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "evaluate-expression",
																	"objectClass": "System",
																	"sid": 880592142352647,
																	"parameters": {
																		"value": "SkipPart1 = 1"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-boolean-eventvar",
																	"objectClass": "System",
																	"sid": 488477244196177,
																	"parameters": {
																		"variable": "ProceedWithTransferPart1",
																		"value": "true"
																	}
																}
															],
															"sid": 785244835635393
														},
														{
															"eventType": "comment",
															"text": "However, if the skip bool is set to false, check if the top item is compatible with the picked item."
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 178072298344906
																},
																{
																	"id": "evaluate-expression",
																	"objectClass": "System",
																	"sid": 822950209872790,
																	"parameters": {
																		"value": "SkipPart1 = 0"
																	}
																}
															],
															"actions": [],
															"sid": 521953971418991,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "for",
																			"objectClass": "System",
																			"sid": 398131134258392,
																			"parameters": {
																				"name": "\"item\"",
																				"start-index": "MAXITEMSPERCONTAINER - 1",
																				"end-index": "0"
																			}
																		}
																	],
																	"actions": [],
																	"sid": 551420386163066,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "evaluate-expression",
																					"objectClass": "System",
																					"sid": 840440719819042,
																					"parameters": {
																						"value": "Board.At(Container.Index, loopindex(\"item\")) <> -1"
																					}
																				}
																			],
																			"actions": [],
																			"sid": 437500288064207,
																			"children": [
																				{
																					"eventType": "comment",
																					"text": "If the top item is compatible with the picked item, set the proceed with transfer bool to true."
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "evaluate-expression",
																							"objectClass": "System",
																							"sid": 924423786703230,
																							"parameters": {
																								"value": "PickedItemType = tokenat(Board.At(Container.Index, loopindex(\"item\")), 1, \"|\")"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-boolean-eventvar",
																							"objectClass": "System",
																							"sid": 700289002966538,
																							"parameters": {
																								"variable": "ProceedWithTransferPart1",
																								"value": "true"
																							}
																						},
																						{
																							"id": "stop-loop",
																							"objectClass": "System",
																							"sid": 217740769291655
																						}
																					],
																					"sid": 615838974850436
																				},
																				{
																					"eventType": "comment",
																					"text": "However, if the top item isn't compatible with the picked item, set the proceed with transfer bool to false."
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "else",
																							"objectClass": "System",
																							"sid": 319566076136277
																						},
																						{
																							"id": "evaluate-expression",
																							"objectClass": "System",
																							"sid": 299301452945684,
																							"parameters": {
																								"value": "PickedItemType <> tokenat(Board.At(Container.Index, loopindex(\"item\")), 1, \"|\")"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-boolean-eventvar",
																							"objectClass": "System",
																							"sid": 645017901080115,
																							"parameters": {
																								"variable": "ProceedWithTransferPart1",
																								"value": "false"
																							}
																						},
																						{
																							"id": "stop-loop",
																							"objectClass": "System",
																							"sid": 781799817289651
																						}
																					],
																					"sid": 936436288985955
																				}
																			]
																		}
																	]
																}
															]
														},
														{
															"eventType": "comment",
															"text": "If the proceed with transfer bool is set to false, reset the picked array."
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "evaluate-expression",
																	"objectClass": "System",
																	"sid": 816088730660582,
																	"parameters": {
																		"value": "ProceedWithTransferPart1 = 0"
																	}
																}
															],
															"actions": [
																{
																	"callFunction": "ResetPicked",
																	"sid": 202195951948541
																}
															],
															"sid": 721235314709231
														},
														{
															"eventType": "comment",
															"text": "However, if the proceed with transfer bool is set to true, conclude the transfer process."
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 760221293596227
																},
																{
																	"id": "evaluate-expression",
																	"objectClass": "System",
																	"sid": 257902957095741,
																	"parameters": {
																		"value": "ProceedWithTransferPart1 = 1"
																	}
																}
															],
															"actions": [],
															"sid": 715278272618534,
															"children": [
																{
																	"eventType": "comment",
																	"text": "The current index in the selected container."
																},
																{
																	"eventType": "variable",
																	"name": "CurrentIndex",
																	"type": "number",
																	"initialValue": "0",
																	"comment": "",
																	"isStatic": false,
																	"isConstant": false,
																	"sid": 245226689759815
																},
																{
																	"eventType": "comment",
																	"text": "The first empty index in the selected container."
																},
																{
																	"eventType": "variable",
																	"name": "FirstEmptyIndex",
																	"type": "number",
																	"initialValue": "-1",
																	"comment": "",
																	"isStatic": false,
																	"isConstant": false,
																	"sid": 124678090935336
																},
																{
																	"eventType": "comment",
																	"text": "Transfer the items from the previous container to the selected container."
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "for",
																			"objectClass": "System",
																			"sid": 270651275419183,
																			"parameters": {
																				"name": "\"item\"",
																				"start-index": "0",
																				"end-index": "MAXITEMSPERCONTAINER - 1"
																			}
																		}
																	],
																	"actions": [],
																	"sid": 644287782375516,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "evaluate-expression",
																					"objectClass": "System",
																					"sid": 497453571074207,
																					"parameters": {
																						"value": "Board.At(Container.Index, loopindex(\"item\")) = -1"
																					}
																				}
																			],
																			"actions": [
																				{
																					"id": "set-at-xy",
																					"objectClass": "Board",
																					"sid": 149037912966488,
																					"parameters": {
																						"x": "Container.Index",
																						"y": "loopindex(\"item\")",
																						"value": "Picked.At(0, CurrentIndex)"
																					}
																				},
																				{
																					"id": "set-eventvar-value",
																					"objectClass": "System",
																					"sid": 242629868193961,
																					"parameters": {
																						"variable": "CurrentIndex",
																						"value": "CurrentIndex + 1"
																					}
																				}
																			],
																			"sid": 378359026852311,
																			"children": [
																				{
																					"eventType": "comment",
																					"text": "First empty index."
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "evaluate-expression",
																							"objectClass": "System",
																							"sid": 870124720408359,
																							"parameters": {
																								"value": "FirstEmptyIndex = -1"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-eventvar-value",
																							"objectClass": "System",
																							"sid": 218658628177117,
																							"parameters": {
																								"variable": "FirstEmptyIndex",
																								"value": "loopindex(\"item\")"
																							}
																						}
																					],
																					"sid": 847671544673994
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "evaluate-expression",
																							"objectClass": "System",
																							"sid": 246589749563952,
																							"parameters": {
																								"value": "CurrentIndex = Picked.Height"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "stop-loop",
																							"objectClass": "System",
																							"sid": 786279249613487
																						}
																					],
																					"sid": 134190596021554
																				}
																			]
																		}
																	]
																},
																{
																	"eventType": "comment",
																	"text": "Reset the index of the transferred items from the previous container."
																},
																{
																	"eventType": "variable",
																	"name": "TotalCleared",
																	"type": "number",
																	"initialValue": "0",
																	"comment": "",
																	"isStatic": false,
																	"isConstant": false,
																	"sid": 903766036704302
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "for",
																			"objectClass": "System",
																			"sid": 440040258993934,
																			"parameters": {
																				"name": "\"item\"",
																				"start-index": "MAXITEMSPERCONTAINER - 1",
																				"end-index": "0"
																			}
																		}
																	],
																	"actions": [],
																	"sid": 342737512160401,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "evaluate-expression",
																					"objectClass": "System",
																					"sid": 488040974392816,
																					"parameters": {
																						"value": "Board.At(PickedContainerIndex, loopindex(\"item\")) <> -1"
																					}
																				}
																			],
																			"actions": [
																				{
																					"id": "set-at-xy",
																					"objectClass": "Board",
																					"sid": 391926844594478,
																					"parameters": {
																						"x": "PickedContainerIndex",
																						"y": "loopindex(\"item\")",
																						"value": "-1"
																					}
																				},
																				{
																					"id": "set-eventvar-value",
																					"objectClass": "System",
																					"sid": 140987090269839,
																					"parameters": {
																						"variable": "TotalCleared",
																						"value": "TotalCleared + 1"
																					}
																				}
																			],
																			"sid": 344904239441147,
																			"children": [
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "evaluate-expression",
																							"objectClass": "System",
																							"sid": 824788369703215,
																							"parameters": {
																								"value": "TotalCleared = Picked.Height"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "stop-loop",
																							"objectClass": "System",
																							"sid": 863043005887920
																						}
																					],
																					"sid": 639109874879346
																				}
																			]
																		}
																	]
																},
																{
																	"eventType": "comment",
																	"text": "Pick and move the item sprites to the selected container."
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "for",
																			"objectClass": "System",
																			"sid": 663386016282515,
																			"parameters": {
																				"name": "\"item\"",
																				"start-index": "0",
																				"end-index": "Picked.Height - 1"
																			}
																		}
																	],
																	"actions": [],
																	"sid": 815459130502408,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "pick-by-unique-id",
																					"objectClass": "Item",
																					"sid": 143464778268953,
																					"parameters": {
																						"unique-id": "int(tokenat(Picked.At(0, loopindex(\"item\")), 0, \"|\"))"
																					}
																				}
																			],
																			"actions": [
																				{
																					"id": "set-position",
																					"objectClass": "Item",
																					"sid": 974137650882807,
																					"parameters": {
																						"x": "Container.X",
																						"y": "Container.Y - (FirstEmptyIndex + loopindex(\"item\")) * 144"
																					}
																				},
																				{
																					"type": "comment",
																					"text": "Play a bounce animation."
																				},
																				{
																					"id": "stop-tweens",
																					"objectClass": "Item",
																					"sid": 938362493362792,
																					"behaviorType": "Tween",
																					"parameters": {
																						"tags": "\"Bounce\""
																					}
																				},
																				{
																					"id": "set-size",
																					"objectClass": "Item",
																					"sid": 990032018286004,
																					"parameters": {
																						"width": "Self.ImageWidth * 0.25",
																						"height": "Self.ImageHeight * 0.25"
																					}
																				},
																				{
																					"id": "tween-two-properties",
																					"objectClass": "Item",
																					"sid": 566918350633009,
																					"behaviorType": "Tween",
																					"parameters": {
																						"tags": "\"Bounce\"",
																						"property": "size",
																						"end-x": "Self.ImageWidth",
																						"end-y": "Self.ImageHeight",
																						"time": "0.25",
																						"ease": "easeoutback",
																						"destroy-on-complete": "no",
																						"loop": "no",
																						"ping-pong": "no",
																						"repeat-count": "1"
																					}
																				},
																				{
																					"type": "comment",
																					"text": "Play a rotate animation."
																				},
																				{
																					"id": "set-angle",
																					"objectClass": "Item",
																					"sid": 511316429855224,
																					"parameters": {
																						"angle": "random(-45, 45)"
																					}
																				},
																				{
																					"id": "tween-one-property",
																					"objectClass": "Item",
																					"sid": 589349940319289,
																					"behaviorType": "Tween",
																					"parameters": {
																						"tags": "\"Rotate\"",
																						"property": "offsetAngle",
																						"end-value": "0",
																						"time": "0.25",
																						"ease": "easeinsine",
																						"destroy-on-complete": "no",
																						"loop": "no",
																						"ping-pong": "no",
																						"repeat-count": "1"
																					}
																				}
																			],
																			"sid": 415112804897426
																		}
																	]
																},
																{
																	"eventType": "comment",
																	"text": "Reset the picked array and check if the game is over."
																},
																{
																	"eventType": "block",
																	"conditions": [],
																	"actions": [
																		{
																			"callFunction": "ResetPicked",
																			"sid": 285264885384384
																		},
																		{
																			"callFunction": "CheckIfGameIsOver",
																			"sid": 973335367098940
																		}
																	],
																	"sid": 203746384865325
																}
															]
														}
													]
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Add an item to the picked array."
				},
				{
					"functionName": "AddToPicked",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "ContainerIndex",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 370284759522883
						},
						{
							"name": "ItemLoopindex",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 795572130862449
						},
						{
							"name": "Info",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 452763288067468
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 839977999388593,
							"parameters": {
								"object": "Container",
								"expression": "Container.Index",
								"comparison": 0,
								"value": "ContainerIndex"
							}
						}
					],
					"actions": [
						{
							"id": "push",
							"objectClass": "Picked",
							"sid": 758423716402774,
							"parameters": {
								"where": "back",
								"value": "Info",
								"axis": "y"
							}
						}
					],
					"sid": 950455866189485
				},
				{
					"eventType": "comment",
					"text": "Reset all information about the picked items, including local variables and the picked array."
				},
				{
					"functionName": "ResetPicked",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 591843526333774,
							"parameters": {
								"variable": "PickedItemType",
								"value": "\"\""
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 346481947794536,
							"parameters": {
								"variable": "PickedContainerUID",
								"value": "-1"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 579007274453732,
							"parameters": {
								"variable": "PickedContainerIndex",
								"value": "-1"
							}
						},
						{
							"id": "set-size",
							"objectClass": "Picked",
							"sid": 134399999568601,
							"parameters": {
								"width": "1",
								"height": "0",
								"depth": "1"
							}
						},
						{
							"type": "comment",
							"text": "Also remove the cursor from the screen."
						},
						{
							"id": "set-opacity",
							"objectClass": "Cursor",
							"sid": 572668226653433,
							"parameters": {
								"opacity": "100"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "Cursor",
							"sid": 861624535237011,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Fade\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "0.25",
								"ease": "noease",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 301534337351292
				}
			],
			"sid": 359485334559210
		},
		{
			"eventType": "comment",
			"text": "How many items of the same type need be on the same container for it to be considered complete"
		},
		{
			"eventType": "variable",
			"name": "REQUIREDITEMSOFSAMETYPEPERCONTAINER",
			"type": "number",
			"initialValue": "4",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 262347783484450
		},
		{
			"eventType": "comment",
			"text": "How many item types are currently present in the game."
		},
		{
			"eventType": "variable",
			"name": "TotalItemTypes",
			"type": "number",
			"initialValue": "3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 493408126985544
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "GameOver",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Check if the game is over."
				},
				{
					"functionName": "CheckIfGameIsOver",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 464203516272358,
					"children": [
						{
							"eventType": "comment",
							"text": "How many items of the same type are present in the current container."
						},
						{
							"eventType": "variable",
							"name": "HowManyOfSameType",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 103279578587933
						},
						{
							"eventType": "comment",
							"text": "How many correct columns are present in the scene."
						},
						{
							"eventType": "variable",
							"name": "CorrectColumns",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 558032968820479
						},
						{
							"eventType": "comment",
							"text": "The item type at the bottom of the current container."
						},
						{
							"eventType": "variable",
							"name": "BottomItemType",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 126730360136005
						},
						{
							"eventType": "comment",
							"text": "Loop through every container in the scene."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 521792018763489,
									"parameters": {
										"name": "\"x\"",
										"start-index": "0",
										"end-index": "Board.Width - 1"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 401886267434169,
									"parameters": {
										"variable": "HowManyOfSameType",
										"value": "0"
									}
								}
							],
							"sid": 771727685628170,
							"children": [
								{
									"eventType": "comment",
									"text": "If the current container is empty, set the bottom item type to be minus one."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 144545211156746,
											"parameters": {
												"value": "Board.At(loopindex(\"x\"), loopindex(\"y\")) = -1"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 612180012100936,
											"parameters": {
												"variable": "BottomItemType",
												"value": "-1"
											}
										}
									],
									"sid": 963321965432198
								},
								{
									"eventType": "comment",
									"text": "However, if the current container isn't empty, set the bottom item type to be the item type from the bottom of the current container."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 214791193460831
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 144085852829349,
											"parameters": {
												"value": "Board.At(loopindex(\"x\"), loopindex(\"y\")) <> -1"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 708182329426469,
											"parameters": {
												"variable": "BottomItemType",
												"value": "tokenat(Board.At(loopindex(\"x\"), loopindex(\"y\")), 1, \"|\")"
											}
										}
									],
									"sid": 321449163274371
								},
								{
									"eventType": "comment",
									"text": "The current item type in the current container."
								},
								{
									"eventType": "variable",
									"name": "CurrentItemType",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 121018093166453
								},
								{
									"eventType": "comment",
									"text": "Loop through every item in the container."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 943799995967703,
											"parameters": {
												"name": "\"y\"",
												"start-index": "0",
												"end-index": "Board.Height - 1"
											}
										}
									],
									"actions": [],
									"sid": 973990853666796,
									"children": [
										{
											"eventType": "comment",
											"text": "If the current item is empty, set the current item type to be minus one."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 617749042957423,
													"parameters": {
														"value": "Board.At(loopindex(\"x\"), loopindex(\"y\")) = -1"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 746801645438083,
													"parameters": {
														"variable": "CurrentItemType",
														"value": "-1"
													}
												}
											],
											"sid": 428123401298481
										},
										{
											"eventType": "comment",
											"text": "However, if the current item isn't empty, set the current item type to be the current item type in the loop."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 958885083828663
												},
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 288474342711017,
													"parameters": {
														"value": "Board.At(loopindex(\"x\"), loopindex(\"y\")) <> -1"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 565459669536914,
													"parameters": {
														"variable": "CurrentItemType",
														"value": "tokenat(Board.At(loopindex(\"x\"), loopindex(\"y\")), 1, \"|\")"
													}
												}
											],
											"sid": 853476579199306
										},
										{
											"eventType": "comment",
											"text": "If the current item type matches the bottom item type, increase the amount of correct items in the current container by one."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 798806001307637,
													"parameters": {
														"value": "CurrentItemType = BottomItemType"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 277901373722270,
													"parameters": {
														"variable": "HowManyOfSameType",
														"value": "HowManyOfSameType + 1"
													}
												}
											],
											"sid": 639925046446575
										}
									]
								},
								{
									"eventType": "comment",
									"text": "If the number of correct items in the container matches the number of required correct items in a container, increase the number of correct columns by one."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 804245941131046,
											"parameters": {
												"value": "HowManyOfSameType = REQUIREDITEMSOFSAMETYPEPERCONTAINER"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 280513259602986,
											"parameters": {
												"variable": "CorrectColumns",
												"value": "CorrectColumns + 1"
											}
										}
									],
									"sid": 688660989691883
								}
							]
						},
						{
							"eventType": "comment",
							"text": "If the number of correct columns matches the total item types in the scene, the game is over."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 129476635024659,
									"parameters": {
										"value": "CorrectColumns = TotalItemTypes"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Disable the player input."
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 621445494732233,
									"parameters": {
										"variable": "AllowPlayerInput",
										"value": "false"
									}
								},
								{
									"type": "comment",
									"text": "Play a fade out animation before restarting the game."
								},
								{
									"id": "tween-one-property",
									"objectClass": "Fade",
									"sid": 256708391249652,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"FadeIn\"",
										"property": "offsetOpacity",
										"end-value": "100",
										"time": "0.5",
										"ease": "noease",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 935616643402581
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Once the fade in animation is over, restart the game."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "Fade",
							"sid": 607827556038508,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FadeIn\""
							}
						}
					],
					"actions": [
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 366550431450235
						}
					],
					"sid": 564240952950648
				}
			],
			"sid": 817472952028406
		},
		{
			"eventType": "comment",
			"text": "How fast the large bubbles will move."
		},
		{
			"eventType": "variable",
			"name": "LARGEBUBBLESSCROLLINGSPEED",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 968914635762145
		},
		{
			"eventType": "comment",
			"text": "How fast the small bubbles will move."
		},
		{
			"eventType": "variable",
			"name": "SMALLBUBBLESSCROLLINGSPEED",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 669518696233166
		},
		{
			"eventType": "comment",
			"text": "The angle at which both large and small bubbles will move at."
		},
		{
			"eventType": "variable",
			"name": "BUBBLESSCROLLINGANGLE",
			"type": "number",
			"initialValue": "45",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 634381647368745
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Background",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Constantly scroll the large and small bubble textures, creating a more dynamic background."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 196450415231369
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Update the large bubble's image offset."
						},
						{
							"id": "set-image-offset-x",
							"objectClass": "LargeBubbles",
							"sid": 169135463341068,
							"parameters": {
								"offset-x": "Self.ImageOffsetX + cos(BUBBLESSCROLLINGANGLE) * LARGEBUBBLESSCROLLINGSPEED * 60 * dt"
							}
						},
						{
							"id": "set-image-offset-y",
							"objectClass": "LargeBubbles",
							"sid": 142988822003999,
							"parameters": {
								"offset-y": "Self.ImageOffsetY + sin(BUBBLESSCROLLINGANGLE) * LARGEBUBBLESSCROLLINGSPEED * 60 * dt"
							}
						},
						{
							"type": "comment",
							"text": "Update the small bubble's image offset."
						},
						{
							"id": "set-image-offset-x",
							"objectClass": "SmallBubbles",
							"sid": 454369777655608,
							"parameters": {
								"offset-x": "Self.ImageOffsetX + cos(BUBBLESSCROLLINGANGLE) * SMALLBUBBLESSCROLLINGSPEED * 60 * dt"
							}
						},
						{
							"id": "set-image-offset-y",
							"objectClass": "SmallBubbles",
							"sid": 213205344314493,
							"parameters": {
								"offset-y": "Self.ImageOffsetY + sin(BUBBLESSCROLLINGANGLE) * SMALLBUBBLESSCROLLINGSPEED * 60 * dt"
							}
						}
					],
					"sid": 965401316769986
				}
			],
			"sid": 563864219141134
		}
	],
	"sid": 489762479815655
}