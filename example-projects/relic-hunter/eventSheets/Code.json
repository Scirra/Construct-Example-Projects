{
	"name": "Code",
	"events": [
		{
			"eventType": "comment",
			"text": "Made by Viridino Studios (@ViridinoStudios)\n\nMateus Ferreira Moreira - Programmer\nX: @BonzerKitten\nE-mail: ferreiramoreiramateus@gmail.com\n\nFelipe Vaiano Calderan - Programmer\nX: @fvcalderan\nE-mail: fvcalderan@gmail.com\n\nWesley Andrade - Artist\nX: @andrart7\nE-mail: wesleymatos1989@gmail.com\n\nHelp us make new examples by supporting our work on https://www.patreon.com/viridinostudios"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Setup",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Setup the game by resetting both delay and score variables."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 743737120961710
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 475482939538661,
							"parameters": {
								"variable": "Delay",
								"value": "0"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 813279161168312,
							"parameters": {
								"variable": "Score",
								"value": "0"
							}
						},
						{
							"type": "comment",
							"text": "Also play a fade out animation to reveal the layout."
						},
						{
							"id": "tween-one-property",
							"objectClass": "Fade",
							"sid": 863947474188257,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FadeOut\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "0.25",
								"ease": "noease",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 358216741698898
				}
			],
			"sid": 969759505844328
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Instructions",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Whether or not the instructions were read by the player."
				},
				{
					"eventType": "variable",
					"name": "ReadInstructions",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 384980573513786
				},
				{
					"eventType": "comment",
					"text": "Check if the player has read the instructions."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 108270208288623
						}
					],
					"actions": [],
					"sid": 938723241272103,
					"children": [
						{
							"eventType": "comment",
							"text": "If the player has read the instruction, then make them invisible."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 152741758183059,
									"parameters": {
										"variable": "ReadInstructions"
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "TextBox",
									"sid": 603727459373936,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"type": "comment",
									"text": "Also spawn a golden skull a second later."
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 836554411997591,
									"parameters": {
										"seconds": "1"
									}
								},
								{
									"callFunction": "SpawnGoldenSkull",
									"sid": 754333350797171
								}
							],
							"sid": 204787561323663
						},
						{
							"eventType": "comment",
							"text": "However, if the hasn't read the instructions, then make them visible."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 845815292695537
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 731524475773491,
									"parameters": {
										"variable": "ReadInstructions"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "TextBox",
									"sid": 313389439018533,
									"parameters": {
										"visibility": "visible"
									}
								}
							],
							"sid": 493280195026765
						}
					]
				},
				{
					"eventType": "comment",
					"text": "If the player presses any key while the instructions haven't been read, destroy them with a tween animation."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-key-pressed",
							"objectClass": "Keyboard",
							"sid": 530284126701227
						},
						{
							"id": "on-any-button-pressed",
							"objectClass": "Gamepad",
							"sid": 521905316872039,
							"parameters": {
								"gamepad": "0"
							}
						}
					],
					"actions": [],
					"sid": 227934390066309,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 975369155428835,
									"parameters": {
										"variable": "ReadInstructions"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 998884949140019,
									"parameters": {
										"variable": "ReadInstructions",
										"value": "true"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "TextBox",
									"sid": 715676677769840,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"SelfDestroy\"",
										"property": "offsetY",
										"end-value": "1373",
										"time": "1.5",
										"ease": "easeinsine",
										"destroy-on-complete": "yes",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"type": "comment",
									"text": "Also spawn a golden skull soon after."
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 765508054326694
								},
								{
									"callFunction": "SpawnGoldenSkull",
									"sid": 491185607640594
								}
							],
							"sid": 860311052321334
						}
					],
					"isOrBlock": true
				}
			],
			"sid": 969166944782313
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Controls",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Move the player left."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 262558852323324,
							"parameters": {
								"key": 65
							}
						},
						{
							"id": "is-button-down",
							"objectClass": "Gamepad",
							"sid": 855104561067248,
							"parameters": {
								"gamepad": "0",
								"button": "d-pad-left"
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "PlayerCollider",
							"sid": 393697754010489,
							"behaviorType": "Platform",
							"parameters": {
								"control": "left"
							}
						}
					],
					"sid": 743720897978143,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Move the player right."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 769170089779812,
							"parameters": {
								"key": 68
							}
						},
						{
							"id": "is-button-down",
							"objectClass": "Gamepad",
							"sid": 273002926185396,
							"parameters": {
								"gamepad": "0",
								"button": "d-pad-right"
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "PlayerCollider",
							"sid": 104702389810774,
							"behaviorType": "Platform",
							"parameters": {
								"control": "right"
							}
						}
					],
					"sid": 704165589703106,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Make the player jump."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 770999721742914,
							"parameters": {
								"key": 87
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 522713771734770,
							"parameters": {
								"key": 32
							}
						},
						{
							"id": "is-button-down",
							"objectClass": "Gamepad",
							"sid": 494068926656645,
							"parameters": {
								"gamepad": "0",
								"button": "button-a"
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "PlayerCollider",
							"sid": 207965725706322,
							"behaviorType": "Platform",
							"parameters": {
								"control": "jump"
							}
						}
					],
					"sid": 750644856084442,
					"isOrBlock": true
				}
			],
			"sid": 647577155373577
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "AnimationsAndPolishment",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Check if the player is on the floor."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-floor",
							"objectClass": "PlayerCollider",
							"sid": 398863888750962,
							"behaviorType": "Platform"
						}
					],
					"actions": [],
					"sid": 900932918732655,
					"children": [
						{
							"eventType": "comment",
							"text": "If the player is moving while on the floor, play the walking animaiton."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-moving",
									"objectClass": "PlayerCollider",
									"sid": 563824688400641,
									"behaviorType": "Platform"
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "PlayerTextures",
									"sid": 732974687449876,
									"parameters": {
										"animation": "\"Walking\"",
										"from": "beginning"
									}
								}
							],
							"sid": 752216641591444
						},
						{
							"eventType": "comment",
							"text": "However, if the player isn't moving while on the floor, play the waiting animation."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 581417933438983
								},
								{
									"id": "is-moving",
									"objectClass": "PlayerCollider",
									"sid": 643330117741474,
									"behaviorType": "Platform",
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "PlayerTextures",
									"sid": 841411535516400,
									"parameters": {
										"animation": "\"Waiting\"",
										"from": "beginning"
									}
								}
							],
							"sid": 496896318871286
						}
					]
				},
				{
					"eventType": "comment",
					"text": "If the player is jumping, play the jumping animation."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-jumping",
							"objectClass": "PlayerCollider",
							"sid": 562378991895084,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "PlayerTextures",
							"sid": 826248066660332,
							"parameters": {
								"animation": "\"Jumping\"",
								"from": "beginning"
							}
						}
					],
					"sid": 270073973882612
				},
				{
					"eventType": "comment",
					"text": "If the player is falling, play the falling animation."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-falling",
							"objectClass": "PlayerCollider",
							"sid": 866500513950834,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "PlayerTextures",
							"sid": 971065670911289,
							"parameters": {
								"animation": "\"Falling\"",
								"from": "beginning"
							}
						}
					],
					"sid": 879131553092478
				},
				{
					"eventType": "comment",
					"text": "If the player is on the floor while moving, increase the dust spawn rate."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-floor",
							"objectClass": "PlayerCollider",
							"sid": 680364111534036,
							"behaviorType": "Platform"
						},
						{
							"id": "is-moving",
							"objectClass": "PlayerCollider",
							"sid": 748321799025908,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "set-rate",
							"objectClass": "Dust",
							"sid": 680374369757218,
							"parameters": {
								"rate": "15"
							}
						}
					],
					"sid": 539066731108993
				},
				{
					"eventType": "comment",
					"text": "However, if the player is neither on the floor nor moving, decrease the dust spawn rate."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-floor",
							"objectClass": "PlayerCollider",
							"sid": 386009126715630,
							"behaviorType": "Platform",
							"isInverted": true
						},
						{
							"id": "is-moving",
							"objectClass": "PlayerCollider",
							"sid": 609575158253171,
							"behaviorType": "Platform",
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-rate",
							"objectClass": "Dust",
							"sid": 732421449140961,
							"parameters": {
								"rate": "0"
							}
						}
					],
					"sid": 125407564684821,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "If the player is moving horizontally, update its width to make it face the correct direction."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 588095631226429,
							"parameters": {
								"value": "PlayerCollider.Platform.VectorX <> 0"
							}
						}
					],
					"actions": [
						{
							"id": "set-width",
							"objectClass": "PlayerTextures",
							"sid": 883927749375881,
							"parameters": {
								"width": "sign(PlayerCollider.Platform.VectorX) * Self.ImageWidth"
							}
						}
					],
					"sid": 113437395881835
				},
				{
					"eventType": "comment",
					"text": "If the player jumps, play a tween animation that makes it taller for a moment."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-jump",
							"objectClass": "PlayerCollider",
							"sid": 759937735913835,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "stop-all-tweens",
							"objectClass": "PlayerTextures",
							"sid": 865245114676854,
							"behaviorType": "Tween"
						},
						{
							"id": "set-size",
							"objectClass": "PlayerTextures",
							"sid": 993096387363828,
							"parameters": {
								"width": "Self.ImageWidth * sign(Self.Width)",
								"height": "Self.ImageHeight"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "PlayerTextures",
							"sid": 483714355513688,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Height\"",
								"property": "offsetHeight",
								"end-value": "Self.ImageHeight * 1.35",
								"time": "0.125",
								"ease": "easeoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "yes",
								"repeat-count": "1"
							}
						}
					],
					"sid": 247020166777175
				},
				{
					"eventType": "comment",
					"text": "If the player lands, play a tween animation that makes it shorter for a moment."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-landed",
							"objectClass": "PlayerCollider",
							"sid": 984653814394570,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "stop-all-tweens",
							"objectClass": "PlayerTextures",
							"sid": 239823812086989,
							"behaviorType": "Tween"
						},
						{
							"id": "set-size",
							"objectClass": "PlayerTextures",
							"sid": 755211615768429,
							"parameters": {
								"width": "Self.ImageWidth * sign(Self.Width)",
								"height": "Self.ImageHeight"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "PlayerTextures",
							"sid": 914594700998093,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Height\"",
								"property": "offsetHeight",
								"end-value": "Self.ImageHeight * 0.85",
								"time": "0.125",
								"ease": "easeoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "yes",
								"repeat-count": "1"
							}
						}
					],
					"sid": 479505046687138,
					"children": [
						{
							"eventType": "comment",
							"text": "If the player is also overlapping a ground collider, make the ground texture bounce."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-at-offset",
									"objectClass": "PlayerCollider",
									"sid": 283425453209100,
									"parameters": {
										"object": "GroundCollider",
										"offset-x": "0",
										"offset-y": "4"
									}
								}
							],
							"actions": [],
							"sid": 472548893147223,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-children",
											"objectClass": "GroundCollider",
											"sid": 456301757631854,
											"parameters": {
												"child": "GroundTextures",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"id": "stop-all-tweens",
											"objectClass": "GroundTextures",
											"sid": 535708016826243,
											"behaviorType": "Tween"
										},
										{
											"id": "set-y",
											"objectClass": "GroundTextures",
											"sid": 927877623210856,
											"parameters": {
												"y": "GroundCollider.Y"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "GroundTextures",
											"sid": 461699193503885,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"Bounce\"",
												"property": "offsetY",
												"end-value": "Self.Y + 4",
												"time": "0.125",
												"ease": "easeoutsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"type": "comment",
											"text": "Also make the screen shake for a moment."
										},
										{
											"id": "shake",
											"objectClass": "Background",
											"sid": 272873349227776,
											"behaviorType": "ScrollTo",
											"parameters": {
												"magnitude": "4",
												"duration": "0.25",
												"mode": "reducing-magnitude"
											}
										}
									],
									"sid": 727679416014334
								}
							]
						}
					]
				}
			],
			"sid": 201618339792041
		},
		{
			"eventType": "comment",
			"text": "The amount of time the next ghost will be behind the player while following it."
		},
		{
			"eventType": "variable",
			"name": "Delay",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 195991923370609
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Ghost",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "If a ghost collides with the player, simulate a game over scenario."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Ghost",
							"sid": 997478135773406,
							"parameters": {
								"object": "PlayerCollider"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Disable the platformer behavior and stop the current animation."
						},
						{
							"id": "set-enabled",
							"objectClass": "PlayerCollider",
							"sid": 840884265513422,
							"behaviorType": "Platform",
							"parameters": {
								"state": "disabled"
							}
						},
						{
							"id": "set-animation-speed",
							"objectClass": "PlayerTextures",
							"sid": 764197798191355,
							"parameters": {
								"speed": "0"
							}
						},
						{
							"type": "comment",
							"text": "Create a hit effect with slightly randomized parameters, like angle, size and opacity."
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 497977893196945,
							"parameters": {
								"object-to-create": "Hit",
								"layer": "PlayerTextures.LayerName",
								"x": "(Ghost.X + PlayerCollider.X) / 2",
								"y": "(Ghost.Y + PlayerCollider.Y) / 2",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-angle",
							"objectClass": "Hit",
							"sid": 456962483814680,
							"parameters": {
								"angle": "random(0, 360)"
							}
						},
						{
							"id": "set-size",
							"objectClass": "Hit",
							"sid": 379022488583075,
							"parameters": {
								"width": "384",
								"height": "384"
							}
						},
						{
							"id": "set-opacity",
							"objectClass": "Hit",
							"sid": 686739201120879,
							"parameters": {
								"opacity": "0"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "Hit",
							"sid": 579236994389609,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Opacity\"",
								"property": "offsetOpacity",
								"end-value": "100",
								"time": "0.15",
								"ease": "easeoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 448148752828807,
					"children": [
						{
							"eventType": "comment",
							"text": "Pick all ghosts and make them stop, by disabling their follow behavior and stopping their current animation."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 772031540174977,
									"parameters": {
										"object": "Ghost"
									}
								}
							],
							"actions": [],
							"sid": 652593864238097,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 709802493316871,
											"parameters": {
												"object": "Ghost"
											}
										}
									],
									"actions": [
										{
											"id": "set-enabled",
											"objectClass": "Ghost",
											"sid": 461354587513515,
											"behaviorType": "Follow",
											"parameters": {
												"state": false
											}
										},
										{
											"id": "set-animation-speed",
											"objectClass": "Ghost",
											"sid": 984696997627316,
											"parameters": {
												"speed": "0"
											}
										}
									],
									"sid": 374655578972136
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Make the screen shake for a moment and play a fade out animation to end the round."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "shake",
									"objectClass": "Background",
									"sid": 832706779832105,
									"behaviorType": "ScrollTo",
									"parameters": {
										"magnitude": "24",
										"duration": "1",
										"mode": "reducing-magnitude"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "Fade",
									"sid": 463488327036179,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"FadeIn\"",
										"property": "offsetOpacity",
										"end-value": "100",
										"time": "2",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"type": "comment",
									"text": "Restart the game once the fade out animation is done."
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 742452445863232
								},
								{
									"id": "restart-layout",
									"objectClass": "System",
									"sid": 126953557154971
								}
							],
							"sid": 980791562424692
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Spawn a ghost at the player's position."
				},
				{
					"functionName": "SpawnGhost",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "Create a ghost on top of the player."
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 300858879830000,
							"parameters": {
								"object-to-create": "Ghost",
								"layer": "PlayerCollider.LayerName",
								"x": "PlayerCollider.X",
								"y": "PlayerCollider.Y",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "Ghost",
							"sid": 393062477483610,
							"parameters": {
								"where": "in-front",
								"object": "PlayerTextures"
							}
						},
						{
							"type": "comment",
							"text": "Create a particle emitter on top of the ghost and attach it to the ghost."
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 431298342044352,
							"parameters": {
								"object-to-create": "GhostParticles",
								"layer": "Ghost.LayerName",
								"x": "Ghost.X",
								"y": "Ghost.Y",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "add-child",
							"objectClass": "Ghost",
							"sid": 800243503974982,
							"parameters": {
								"child": "GhostParticles",
								"transform-x": true,
								"transform-y": true,
								"transform-w": false,
								"transform-h": false,
								"transform-a": false,
								"transform-o": false,
								"transform-z-elevation": false,
								"transform-visibility": false,
								"destroy-with-parent": true
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "GhostParticles",
							"sid": 184737275538408,
							"parameters": {
								"where": "in-front",
								"object": "Ghost"
							}
						}
					],
					"sid": 348689358639319,
					"children": [
						{
							"eventType": "comment",
							"text": "If the delay is set to zero, then start the ghost already."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 971005615422763,
									"parameters": {
										"value": "Delay = 0"
									}
								}
							],
							"actions": [
								{
									"callFunction": "StartGhost",
									"sid": 802098764016658
								}
							],
							"sid": 813521169107723
						},
						{
							"eventType": "comment",
							"text": "However, if the delay is higher than zero, start a timer with the same amount of time."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 356943271740117
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 770351134301558,
									"parameters": {
										"value": "Delay > 0"
									}
								}
							],
							"actions": [
								{
									"id": "start-timer",
									"objectClass": "Ghost",
									"sid": 227068149792175,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "Delay",
										"type": "once",
										"tag": "\"Start\""
									}
								}
							],
							"sid": 612715495910614
						},
						{
							"eventType": "comment",
							"text": "Increase the delay for the next ghost."
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 977272518728861,
									"parameters": {
										"variable": "Delay",
										"value": "Delay + 1"
									}
								},
								{
									"type": "comment",
									"text": "Make ghost follow the player."
								},
								{
									"id": "follow-object",
									"objectClass": "Ghost",
									"sid": 657476204039735,
									"behaviorType": "Follow",
									"parameters": {
										"object": "PlayerCollider",
										"from-current-position": false
									}
								},
								{
									"id": "set-max-delay",
									"objectClass": "Ghost",
									"sid": 937615598073724,
									"behaviorType": "Follow",
									"parameters": {
										"max-delay": "Delay"
									}
								},
								{
									"id": "set-delay",
									"objectClass": "Ghost",
									"sid": 591203797010754,
									"behaviorType": "Follow",
									"parameters": {
										"delay": "Delay"
									}
								}
							],
							"sid": 776053142550043
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Once the start timer is over, start the ghost."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "Ghost",
							"sid": 990705634588943,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Start\""
							}
						}
					],
					"actions": [
						{
							"callFunction": "StartGhost",
							"sid": 773534509919517
						}
					],
					"sid": 655933744380965
				},
				{
					"eventType": "comment",
					"text": "Start the ghost by making it visible to the player, with a fade in animaiton."
				},
				{
					"functionName": "StartGhost",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "Ghost",
							"sid": 161757374094004,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "set-opacity",
							"objectClass": "Ghost",
							"sid": 151133971186339,
							"parameters": {
								"opacity": "0"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "Ghost",
							"sid": 350187212532813,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FadeIn\"",
								"property": "offsetOpacity",
								"end-value": "100",
								"time": "1",
								"ease": "easeoutback",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 514546547562095
				},
				{
					"eventType": "comment",
					"text": "Once the fade in animation is over, make the ghost able to collide with the player."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "Ghost",
							"sid": 683471083955071,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FadeIn\""
							}
						}
					],
					"actions": [
						{
							"id": "set-collisions-enabled",
							"objectClass": "Ghost",
							"sid": 826497099641083,
							"parameters": {
								"collisions": "enabled"
							}
						}
					],
					"sid": 719709593593779
				},
				{
					"eventType": "comment",
					"text": "Constantly update the width of each ghost, making them looking towards the player direction."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 403916844918529,
							"parameters": {
								"object": "Ghost"
							}
						}
					],
					"actions": [],
					"sid": 651239308807937,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 950678204705517,
									"parameters": {
										"value": "Ghost.X < PlayerCollider.X"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "Ghost",
									"sid": 243023091692227,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 996620072037561
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 873791677805321
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 169202967504042,
									"parameters": {
										"value": "Ghost.X > PlayerCollider.X"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "Ghost",
									"sid": 468330048025789,
									"parameters": {
										"state": "mirrored"
									}
								}
							],
							"sid": 121395229629174
						}
					]
				}
			],
			"sid": 871686368645492
		},
		{
			"eventType": "comment",
			"text": "The amount of golden skulls the player was able to collect."
		},
		{
			"eventType": "variable",
			"name": "Score",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 528237360331309
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "GoldenSkull",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "If the player collides with a golden skull, destroy it and increase the player's score."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "PlayerCollider",
							"sid": 602459514825553,
							"parameters": {
								"object": "GoldenSkull"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "GoldenSkull",
							"sid": 198159926871266
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 270626756443852,
							"parameters": {
								"variable": "Score",
								"value": "Score + 1"
							}
						},
						{
							"type": "comment",
							"text": "Make the screen shake for a moment."
						},
						{
							"id": "shake",
							"objectClass": "Background",
							"sid": 607464929574437,
							"behaviorType": "ScrollTo",
							"parameters": {
								"magnitude": "12",
								"duration": "0.25",
								"mode": "reducing-magnitude"
							}
						},
						{
							"type": "comment",
							"text": "Spawn a new golden skull."
						},
						{
							"callFunction": "SpawnGoldenSkull",
							"sid": 933383592013346
						},
						{
							"type": "comment",
							"text": "Update the score text."
						},
						{
							"id": "set-text",
							"objectClass": "Score",
							"sid": 908806860878960,
							"parameters": {
								"text": "\"Score: \" & zeropad(Score, 3)"
							}
						},
						{
							"type": "comment",
							"text": "Create a shockwave effect with slightly randomized parameters, like angle and size."
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 227947296172465,
							"parameters": {
								"object-to-create": "Shockwave",
								"layer": "\"World\"",
								"x": "GoldenSkull.X",
								"y": "GoldenSkull.Y",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-angle",
							"objectClass": "Shockwave",
							"sid": 697084519607704,
							"parameters": {
								"angle": "random(0, 360)"
							}
						},
						{
							"id": "set-size",
							"objectClass": "Shockwave",
							"sid": 804406812937876,
							"parameters": {
								"width": "2",
								"height": "2"
							}
						},
						{
							"id": "tween-two-properties",
							"objectClass": "Shockwave",
							"sid": 340218132861598,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Size\"",
								"property": "size",
								"end-x": "192",
								"end-y": "192",
								"time": "0.5",
								"ease": "easeoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "Shockwave",
							"sid": 629475836832115,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Opacitty\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "0.5",
								"ease": "noease",
								"destroy-on-complete": "yes",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 482790462607431,
					"children": [
						{
							"eventType": "comment",
							"text": "If the score is a multiple of 3, spawn a new ghost."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 583349743886211,
									"parameters": {
										"value": "Score % 3 = 0"
									}
								}
							],
							"actions": [
								{
									"callFunction": "SpawnGhost",
									"sid": 294028078546717
								}
							],
							"sid": 872384056311319
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Spawn a golden skull at a random spawn point, but only if the spawn point is far enough."
				},
				{
					"functionName": "SpawnGoldenSkull",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 466821082491430,
							"parameters": {
								"object": "SpawnPoint",
								"expression": "distance(PlayerCollider.X, PlayerCollider.Y, SpawnPoint.X, SpawnPoint.Y) >= 256"
							}
						},
						{
							"id": "pick-random-instance",
							"objectClass": "System",
							"sid": 994129288008298,
							"parameters": {
								"object": "SpawnPoint"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Create a golden skull behind the player."
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 532464068867935,
							"parameters": {
								"object-to-create": "GoldenSkull",
								"layer": "0",
								"x": "SpawnPoint.X",
								"y": "SpawnPoint.Y",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "GoldenSkull",
							"sid": 182519691210065,
							"parameters": {
								"where": "behind",
								"object": "PlayerTextures"
							}
						},
						{
							"type": "comment",
							"text": "Make it appear gradually with a tween animation."
						},
						{
							"id": "set-size",
							"objectClass": "GoldenSkull",
							"sid": 747817964491425,
							"parameters": {
								"width": "2",
								"height": "2"
							}
						},
						{
							"id": "tween-two-properties",
							"objectClass": "GoldenSkull",
							"sid": 219512800556948,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FadeIn\"",
								"property": "size",
								"end-x": "Self.ImageWidth",
								"end-y": "Self.ImageHeight",
								"time": "0.5",
								"ease": "easeoutback",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"type": "comment",
							"text": "Create a particle emitter on top of the golden skull and attach it to the golden skull."
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 613141610030175,
							"parameters": {
								"object-to-create": "SkullParticles",
								"layer": "GoldenSkull.LayerName",
								"x": "GoldenSkull.X",
								"y": "GoldenSkull.Y",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "add-child",
							"objectClass": "GoldenSkull",
							"sid": 799220723792041,
							"parameters": {
								"child": "SkullParticles",
								"transform-x": true,
								"transform-y": true,
								"transform-w": false,
								"transform-h": false,
								"transform-a": false,
								"transform-o": false,
								"transform-z-elevation": false,
								"transform-visibility": false,
								"destroy-with-parent": true
							}
						},
						{
							"type": "comment",
							"text": "Create an impact effect with slightly randomized parameters, like angle and size."
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 712354274552667,
							"parameters": {
								"object-to-create": "Impact",
								"layer": "\"World\"",
								"x": "GoldenSkull.X",
								"y": "GoldenSkull.Y",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-angle",
							"objectClass": "Impact",
							"sid": 390069030554321,
							"parameters": {
								"angle": "random(0, 360)"
							}
						},
						{
							"id": "set-size",
							"objectClass": "Impact",
							"sid": 554098115607288,
							"parameters": {
								"width": "256",
								"height": "256"
							}
						},
						{
							"id": "tween-two-properties",
							"objectClass": "Impact",
							"sid": 648303532041247,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Size\"",
								"property": "size",
								"end-x": "32",
								"end-y": "32",
								"time": "0.5",
								"ease": "easeoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "Impact",
							"sid": 362926085353522,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Opacity\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "0.5",
								"ease": "noease",
								"destroy-on-complete": "yes",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 418914652400115
				}
			],
			"sid": 102293781716395
		}
	],
	"sid": 596358904483874
}