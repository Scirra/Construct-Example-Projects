{
	"name": "MainCode",
	"events": [
		{
			"eventType": "comment",
			"text": "Made by Viridino Studios (@ViridinoStudios)\n\nMateus Ferreira - Programmer\nTwitter: @BonzerKitten\nE-mail: ferreiramoreiramateus@gmail.com\n\nWesley Andrade - Artist\nTwitter: @andrart7\nE-mail: wesleymatos1989@gmail.com\n\nMade with the support of patrons on https://www.patreon.com/viridinostudios"
		},
		{
			"eventType": "comment",
			"text": "Project settings."
		},
		{
			"eventType": "variable",
			"name": "TARGETFRAMERATE",
			"type": "number",
			"initialValue": "60",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 762172364557089
		},
		{
			"eventType": "variable",
			"name": "DEFAULTLAYOUTSCALE",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 455783733766901
		},
		{
			"eventType": "comment",
			"text": "Player references."
		},
		{
			"eventType": "variable",
			"name": "InputLeft",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 978318750935198
		},
		{
			"eventType": "variable",
			"name": "InputRight",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 759928168194647
		},
		{
			"eventType": "variable",
			"name": "InputUp",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 491629948748393
		},
		{
			"eventType": "variable",
			"name": "InputDown",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 988659530652295
		},
		{
			"eventType": "variable",
			"name": "HorizontalAxis",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 704650960119333
		},
		{
			"eventType": "variable",
			"name": "VerticalAxis",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 873836784155865
		},
		{
			"eventType": "variable",
			"name": "AxisAngle",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 486607320101382
		},
		{
			"eventType": "variable",
			"name": "ActionState",
			"type": "string",
			"initialValue": "Default",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 152399516365925
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Player",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "PlayerSetup",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Reset global variables to prevent traces from previous sessions."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-start-of-layout",
									"objectClass": "System",
									"sid": 796671218886728
								}
							],
							"actions": [
								{
									"id": "reset-global-variables",
									"objectClass": "System",
									"sid": 927961188957356
								},
								{
									"id": "set-layout-scale",
									"objectClass": "System",
									"sid": 871918819024045,
									"parameters": {
										"scale": "DEFAULTLAYOUTSCALE"
									}
								}
							],
							"sid": 717612525165036
						},
						{
							"eventType": "comment",
							"text": "Setup the player by adding its graphics to the collider as a child."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-created",
									"objectClass": "PlayerGraphics",
									"sid": 594730415360274
								}
							],
							"actions": [
								{
									"id": "set-position-to-another-object",
									"objectClass": "PlayerGraphics",
									"sid": 841884366138315,
									"parameters": {
										"object": "PlayerCollision",
										"image-point-optional": "0"
									}
								},
								{
									"id": "add-child",
									"objectClass": "PlayerCollision",
									"sid": 764565144345918,
									"parameters": {
										"child": "PlayerGraphics",
										"transform-x": true,
										"transform-y": true,
										"transform-w": false,
										"transform-h": false,
										"transform-a": false,
										"transform-z-elevation": false,
										"destroy-with-parent": true
									}
								}
							],
							"sid": 960983322737064
						}
					],
					"sid": 784603836528212
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "PlayerControls",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Receive and store input from the player to be used later in many situations."
						},
						{
							"eventType": "comment",
							"text": "Toggle input left."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 940876619458367,
									"parameters": {
										"key": 37
									}
								},
								{
									"id": "is-button-down",
									"objectClass": "Gamepad",
									"sid": 485439395839532,
									"parameters": {
										"gamepad": "0",
										"button": "d-pad-left"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 798140548127237,
									"parameters": {
										"variable": "InputLeft",
										"value": "1"
									}
								}
							],
							"sid": 264402595788968,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 857228404289996
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 661153111744936,
									"parameters": {
										"variable": "InputLeft",
										"value": "0"
									}
								}
							],
							"sid": 286939735207559
						},
						{
							"eventType": "comment",
							"text": "Toggle input right."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 419887578263887,
									"parameters": {
										"key": 39
									}
								},
								{
									"id": "is-button-down",
									"objectClass": "Gamepad",
									"sid": 910485628604972,
									"parameters": {
										"gamepad": "0",
										"button": "d-pad-right"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 736893529451941,
									"parameters": {
										"variable": "InputRight",
										"value": "1"
									}
								}
							],
							"sid": 600039708179932,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 517755708762973
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 655417879433674,
									"parameters": {
										"variable": "InputRight",
										"value": "0"
									}
								}
							],
							"sid": 740689455255456
						},
						{
							"eventType": "comment",
							"text": "Toggle input up."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 616884787279611,
									"parameters": {
										"key": 38
									}
								},
								{
									"id": "is-button-down",
									"objectClass": "Gamepad",
									"sid": 618941853617328,
									"parameters": {
										"gamepad": "0",
										"button": "d-pad-up"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 996680032145102,
									"parameters": {
										"variable": "InputUp",
										"value": "1"
									}
								}
							],
							"sid": 633581533344193,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 353307726704705
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 942415071733078,
									"parameters": {
										"variable": "InputUp",
										"value": "0"
									}
								}
							],
							"sid": 573106451468937
						},
						{
							"eventType": "comment",
							"text": "Toggle input down."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 675557998752242,
									"parameters": {
										"key": 40
									}
								},
								{
									"id": "is-button-down",
									"objectClass": "Gamepad",
									"sid": 681442548497853,
									"parameters": {
										"gamepad": "0",
										"button": "d-pad-down"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 721258906245844,
									"parameters": {
										"variable": "InputDown",
										"value": "1"
									}
								}
							],
							"sid": 508639076125027,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 195726474801099
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 471050106117999,
									"parameters": {
										"variable": "InputDown",
										"value": "0"
									}
								}
							],
							"sid": 373306371993938
						},
						{
							"eventType": "comment",
							"text": "Calculate both axis and looking angle based on the player input."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-tick",
									"objectClass": "System",
									"sid": 653715903966159
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 674592570485943,
									"parameters": {
										"variable": "HorizontalAxis",
										"value": "InputRight - InputLeft"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 170521698251227,
									"parameters": {
										"variable": "VerticalAxis",
										"value": "InputDown - InputUp"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 952715159736944,
									"parameters": {
										"variable": "AxisAngle",
										"value": "round(angle(0, 0, HorizontalAxis, VerticalAxis))"
									}
								}
							],
							"sid": 837605888771891
						},
						{
							"eventType": "comment",
							"text": "Move the player horizontally based on its horizontal axis."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 813101034976766,
									"parameters": {
										"variable": "ActionState",
										"comparison": 0,
										"value": "\"Default\""
									}
								}
							],
							"actions": [],
							"sid": 435542447657055,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 427198568160026,
											"parameters": {
												"variable": "HorizontalAxis",
												"comparison": 0,
												"value": "-1"
											}
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "PlayerCollision",
											"sid": 438842780344667,
											"behaviorType": "Platform",
											"parameters": {
												"control": "left"
											}
										}
									],
									"sid": 218643322130565
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 845222543977971,
											"parameters": {
												"variable": "HorizontalAxis",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "PlayerCollision",
											"sid": 107141759677760,
											"behaviorType": "Platform",
											"parameters": {
												"control": "right"
											}
										}
									],
									"sid": 809294448852088
								}
							]
						}
					],
					"sid": 284160857497412
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "PlayerAnimations",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 372736167732011,
									"parameters": {
										"variable": "ActionState",
										"comparison": 0,
										"value": "\"Default\""
									}
								}
							],
							"actions": [],
							"sid": 401012595539122,
							"children": [
								{
									"eventType": "comment",
									"text": "Mirror the player graphics based on its horizontal axis."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 222108290653900,
											"parameters": {
												"variable": "HorizontalAxis",
												"comparison": 1,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-width",
											"objectClass": "PlayerGraphics",
											"sid": 378401687968936,
											"parameters": {
												"width": "Self.ImageWidth * HorizontalAxis"
											}
										}
									],
									"sid": 225065771646475
								},
								{
									"eventType": "comment",
									"text": "Change the animation states depending on what the player is currently doing."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-on-floor",
											"objectClass": "PlayerCollision",
											"sid": 125905488323615,
											"behaviorType": "Platform"
										}
									],
									"actions": [],
									"sid": 389554193983680,
									"children": [
										{
											"eventType": "comment",
											"text": "Walk animation."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-moving",
													"objectClass": "PlayerCollision",
													"sid": 384038571714334,
													"behaviorType": "Platform"
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "PlayerGraphics",
													"sid": 954164777781549,
													"parameters": {
														"animation": "\"Walk\"",
														"from": "beginning"
													}
												}
											],
											"sid": 724799428013836
										},
										{
											"eventType": "comment",
											"text": "Idle animation."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 590484686395342
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "PlayerGraphics",
													"sid": 485108436446568,
													"parameters": {
														"animation": "\"Idle\"",
														"from": "beginning"
													}
												}
											],
											"sid": 771458233062695
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Jump animation."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-jumping",
											"objectClass": "PlayerCollision",
											"sid": 694228869988870,
											"behaviorType": "Platform"
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "PlayerGraphics",
											"sid": 324653163149980,
											"parameters": {
												"animation": "\"Jump\"",
												"from": "beginning"
											}
										}
									],
									"sid": 213507613275916
								},
								{
									"eventType": "comment",
									"text": "Fall animation."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-falling",
											"objectClass": "PlayerCollision",
											"sid": 467384038159618,
											"behaviorType": "Platform"
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "PlayerGraphics",
											"sid": 462477188005238,
											"parameters": {
												"animation": "\"Fall\"",
												"from": "beginning"
											}
										}
									],
									"sid": 768429682538679
								}
							]
						}
					],
					"sid": 921833879566076
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "PlayerParticles",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Spawn different types of dust particles depending on the player actions."
						},
						{
							"eventType": "comment",
							"text": "Walking dust."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-moving",
									"objectClass": "PlayerCollision",
									"sid": 463773975665385,
									"behaviorType": "Platform"
								},
								{
									"id": "is-on-floor",
									"objectClass": "PlayerCollision",
									"sid": 383060393704507,
									"behaviorType": "Platform"
								}
							],
							"actions": [],
							"sid": 521940510826457,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "every-x-seconds",
											"objectClass": "System",
											"sid": 254108591978941,
											"parameters": {
												"interval-seconds": "0.1"
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "PlayerGraphics",
											"sid": 704684476058782,
											"parameters": {
												"object": "WalkingDust",
												"layer": "\"World\"",
												"image-point": "\"\"",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-width",
											"objectClass": "WalkingDust",
											"sid": 962949973136323,
											"parameters": {
												"width": "Self.Width * HorizontalAxis"
											}
										}
									],
									"sid": 893563852312136
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "WalkingDust",
									"sid": 247077637645545,
									"parameters": {
										"animation": "\"Default\""
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "WalkingDust",
									"sid": 433745691568687
								}
							],
							"sid": 261645271310484
						},
						{
							"eventType": "comment",
							"text": "Landing dust."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-landed",
									"objectClass": "PlayerCollision",
									"sid": 513471347308033,
									"behaviorType": "Platform"
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerGraphics",
									"sid": 834442520282317,
									"parameters": {
										"object": "LandingDust",
										"layer": "\"World\"",
										"image-point": "\"\"",
										"create-hierarchy": false
									}
								}
							],
							"sid": 875075074408110
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "LandingDust",
									"sid": 397514806585316,
									"parameters": {
										"animation": "\"Default\""
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "LandingDust",
									"sid": 112490050948336
								}
							],
							"sid": 281393043506154
						},
						{
							"eventType": "comment",
							"text": "Jumping dust."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-jump",
									"objectClass": "PlayerCollision",
									"sid": 787812836955384,
									"behaviorType": "Platform"
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerGraphics",
									"sid": 557738117087785,
									"parameters": {
										"object": "JumpingDust",
										"layer": "\"World\"",
										"image-point": "\"\"",
										"create-hierarchy": false
									}
								}
							],
							"sid": 214279439234230
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "JumpingDust",
									"sid": 340367547331967,
									"parameters": {
										"animation": "\"Default\""
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "JumpingDust",
									"sid": 599271824549731
								}
							],
							"sid": 366382635788223
						}
					],
					"sid": 858999474960428
				}
			],
			"sid": 438447210557978
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Teleport",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Setup the trigger position to match to platform top mechanism."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "TeleportTrigger",
							"sid": 691960503749229
						}
					],
					"actions": [
						{
							"id": "set-position-to-another-object",
							"objectClass": "TeleportTrigger",
							"sid": 393911202696413,
							"parameters": {
								"object": "TeleportPlatformFront",
								"image-point-optional": "\"Trigger\""
							}
						}
					],
					"sid": 998371177364058
				},
				{
					"eventType": "comment",
					"text": "Setup the platform back by moving it to the bottom of the layer, so it's always behind the player."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "TeleportPlatformBack",
							"sid": 357073584171779
						}
					],
					"actions": [
						{
							"id": "move-to-bottom",
							"objectClass": "TeleportPlatformBack",
							"sid": 801553842697415
						}
					],
					"sid": 738829876531865
				},
				{
					"eventType": "comment",
					"text": "Destroy the player object and create a giant white flash."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "PlayerCollision",
							"sid": 632223383188225,
							"parameters": {
								"object": "TeleportTrigger"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "TeleportTrigger",
							"sid": 763642753172528,
							"parameters": {
								"instance-variable": "Charged"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "TeleportTrigger",
							"sid": 215487575064132,
							"parameters": {
								"instance-variable": "Charged",
								"value": "false"
							}
						},
						{
							"id": "destroy",
							"objectClass": "PlayerCollision",
							"sid": 738698704844020
						},
						{
							"id": "spawn-another-object",
							"objectClass": "TeleportPlatformFront",
							"sid": 861136958912584,
							"parameters": {
								"object": "Flash",
								"layer": "\"World\"",
								"image-point": "\"Flash\"",
								"create-hierarchy": false
							}
						},
						{
							"callFunction": "ShakeScreen",
							"sid": 732616136549345,
							"parameters": [
								"0.1",
								"0.25"
							]
						}
					],
					"sid": 444812351366441
				},
				{
					"eventType": "comment",
					"text": "Setup the giant white flash and animate it to disappear after some time."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "Flash",
							"sid": 475468299004326
						}
					],
					"actions": [
						{
							"id": "set-size",
							"objectClass": "Flash",
							"sid": 784168343081722,
							"parameters": {
								"width": "16",
								"height": "0"
							}
						},
						{
							"id": "cast-ray",
							"objectClass": "Flash",
							"sid": 948758805265042,
							"behaviorType": "LineOfSight",
							"parameters": {
								"from-x": "Self.X",
								"from-y": "Self.Y",
								"to-x": "Self.X",
								"to-y": "Self.Y - Self.LineOfSight.Range",
								"use-collision-cells": true
							}
						}
					],
					"sid": 984648318403167,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "ray-intersected",
									"objectClass": "Flash",
									"sid": 589851470152846,
									"behaviorType": "LineOfSight"
								}
							],
							"actions": [
								{
									"id": "tween-one-property",
									"objectClass": "Flash",
									"sid": 277325325206509,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"IncreaseHeight\"",
										"property": "offsetHeight",
										"end-value": "Self.LineOfSight.HitDistance",
										"time": "0.25",
										"ease": "easeinoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								}
							],
							"sid": 852766279747460
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "Flash",
							"sid": 284551763125519,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"IncreaseHeight\""
							}
						}
					],
					"actions": [
						{
							"id": "tween-one-property",
							"objectClass": "Flash",
							"sid": 305528213774589,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"DecreaseWidth\"",
								"property": "offsetWidth",
								"end-value": "0",
								"time": "0.25",
								"ease": "easeinoutsine",
								"destroy-on-complete": "yes",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 735183857432216
				}
			],
			"sid": 865963099006963
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Camera",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "CAMERASPEED",
					"type": "number",
					"initialValue": "0.1",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 491563133307748
				},
				{
					"eventType": "variable",
					"name": "CAMERAOFFSETX",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": true,
					"sid": 770507095067125
				},
				{
					"eventType": "variable",
					"name": "CAMERAOFFSETY",
					"type": "number",
					"initialValue": "-16",
					"comment": "",
					"isStatic": true,
					"isConstant": true,
					"sid": 238811815189955
				},
				{
					"eventType": "variable",
					"name": "HammerX",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 132079849945544
				},
				{
					"eventType": "variable",
					"name": "HammerY",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 146807434996636
				},
				{
					"eventType": "comment",
					"text": "Interpolate the camera position to constantly track the player with smooth movement."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 395432848804866,
							"parameters": {
								"first-value": "Hammer.Count",
								"comparison": 4,
								"second-value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 209148953142006,
							"parameters": {
								"variable": "HammerX",
								"value": "Hammer.X"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 632819160059563,
							"parameters": {
								"variable": "HammerY",
								"value": "Hammer.Y"
							}
						}
					],
					"sid": 435649057504302
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 898158200516661
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 460403907142277,
							"parameters": {
								"first-value": "Hammer.Count",
								"comparison": 0,
								"second-value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 993531585152316,
							"parameters": {
								"variable": "HammerX",
								"value": "PlayerCollision.X"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 381818234562829,
							"parameters": {
								"variable": "HammerY",
								"value": "PlayerCollision.Y"
							}
						}
					],
					"sid": 216194742056097
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 460710361558147,
							"parameters": {
								"first-value": "PlayerCollision.Count",
								"comparison": 4,
								"second-value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "Camera",
							"sid": 572452097531791,
							"parameters": {
								"x": "lerp(Self.X, (PlayerCollision.X + HammerX) / 2 + CAMERAOFFSETX, CameraSpeed * TARGETFRAMERATE * dt)",
								"y": "lerp(Self.Y, (PlayerCollision.Y + HammerY) / 2 + CAMERAOFFSETY, CameraSpeed * TARGETFRAMERATE * dt)"
							}
						}
					],
					"sid": 210987962721910
				},
				{
					"eventType": "comment",
					"text": "Create a screen shake effect to add more intensity to specific actions."
				},
				{
					"functionName": "ShakeScreen",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "Intensity",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 284747500709328
						},
						{
							"name": "Duration",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 869993685765301
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "tween-value",
							"objectClass": "GameManager",
							"sid": 886668294322734,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"ScreenShake\"",
								"start-value": "Intensity",
								"end-value": "0",
								"time": "Duration",
								"ease": "default",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 480374386182628
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing",
							"objectClass": "GameManager",
							"sid": 679875644675674,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"ScreenShake\""
							}
						}
					],
					"actions": [
						{
							"id": "set-layout-scale",
							"objectClass": "System",
							"sid": 970711442095747,
							"parameters": {
								"scale": "DEFAULTLAYOUTSCALE + random(-GameManager.Tween.Value(\"ScreenShake\"), GameManager.Tween.Value(\"ScreenShake\"))"
							}
						}
					],
					"sid": 374062129976910
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "GameManager",
							"sid": 817730354247511,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"ScreenShake\""
							}
						}
					],
					"actions": [
						{
							"id": "set-layout-scale",
							"objectClass": "System",
							"sid": 533175411510357,
							"parameters": {
								"scale": "DEFAULTLAYOUTSCALE"
							}
						}
					],
					"sid": 738605321089608
				}
			],
			"sid": 552517355456284
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Hazards",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Restart the game."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "PlayerCollision",
							"sid": 174515758362378,
							"parameters": {
								"object": "Spike"
							}
						}
					],
					"actions": [
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 699463130295548
						}
					],
					"sid": 358273904108520
				}
			],
			"sid": 269062095261804
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Effects",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Update the pixellate effect to match the current pixel density of the window."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 974631288816317
						}
					],
					"actions": [
						{
							"id": "set-layer-effect-parameter",
							"objectClass": "System",
							"sid": 865832046942955,
							"parameters": {
								"layer": "\"Effects\"",
								"effect": "\"Pixellate\"",
								"parameter-index": "0",
								"value": "PlatformInfo.CanvasDeviceWidth / OriginalViewportWidth"
							}
						}
					],
					"sid": 239341280523677
				}
			],
			"sid": 165879874964069
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "DebugTools",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Restart the game."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 886860410172297,
							"parameters": {
								"key": 82
							}
						},
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 549166494317235,
							"parameters": {
								"gamepad": "0",
								"button": "start-menu"
							}
						}
					],
					"actions": [
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 259241878741840
						}
					],
					"sid": 261502125594386,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Close the game."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 191029648628512,
							"parameters": {
								"key": 27
							}
						}
					],
					"actions": [
						{
							"id": "close",
							"objectClass": "Browser",
							"sid": 885884145918904
						}
					],
					"sid": 409208253555805
				}
			],
			"sid": 876242795795519
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "ScrollingBackground",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "HORIZONTALSPEED",
					"type": "number",
					"initialValue": "0.1",
					"comment": "",
					"isStatic": false,
					"isConstant": true,
					"sid": 617022310168035
				},
				{
					"eventType": "variable",
					"name": "VERTICALSPEED",
					"type": "number",
					"initialValue": "0.1",
					"comment": "",
					"isStatic": false,
					"isConstant": true,
					"sid": 859461312543425
				},
				{
					"eventType": "comment",
					"text": "Constantly scroll the background."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 440248802025647
						}
					],
					"actions": [
						{
							"id": "set-image-offset-x",
							"objectClass": "Background",
							"sid": 735634255956251,
							"parameters": {
								"offset-x": "Self.ImageOffsetX + HORIZONTALSPEED * TARGETFRAMERATE * dt"
							}
						},
						{
							"id": "set-image-offset-y",
							"objectClass": "Background",
							"sid": 809518361183198,
							"parameters": {
								"offset-y": "Self.ImageOffsetY + VERTICALSPEED * TARGETFRAMERATE * dt"
							}
						}
					],
					"sid": 120680822599132
				}
			],
			"sid": 129190677110833
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "HammerCombo",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Start the hammer down animation once the player requested it."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 373096980148595,
							"parameters": {
								"key": 90
							}
						},
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 938574165308135,
							"parameters": {
								"gamepad": "0",
								"button": "button-a"
							}
						}
					],
					"actions": [],
					"sid": 370881972507571,
					"children": [
						{
							"eventType": "comment",
							"text": "Only allow this action if the player is on floor and in the correct action state."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 756461286540689,
									"parameters": {
										"variable": "ActionState",
										"comparison": 0,
										"value": "\"Default\""
									}
								},
								{
									"id": "is-on-floor",
									"objectClass": "PlayerCollision",
									"sid": 952078983938431,
									"behaviorType": "Platform"
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 645359153803767,
									"parameters": {
										"variable": "ActionState",
										"value": "\"HammerDown\""
									}
								},
								{
									"id": "set-animation",
									"objectClass": "PlayerGraphics",
									"sid": 344066085785478,
									"parameters": {
										"animation": "\"HammerDown\"",
										"from": "beginning"
									}
								}
							],
							"sid": 189937693752339
						}
					],
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Once the hammer down animation is complete, generate many shock effects and move the player object up by changing its Y vector."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "PlayerGraphics",
							"sid": 499265509201654,
							"parameters": {
								"animation": "\"HammerDown\""
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Change action state."
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 248720043589534,
							"parameters": {
								"variable": "ActionState",
								"value": "\"HammerSpinning\""
							}
						},
						{
							"type": "comment",
							"text": "Adjust player properties."
						},
						{
							"id": "set-vector-y",
							"objectClass": "PlayerCollision",
							"sid": 468504189058464,
							"behaviorType": "Platform",
							"parameters": {
								"vector-y": "-256"
							}
						},
						{
							"id": "set-max-fall-speed",
							"objectClass": "PlayerCollision",
							"sid": 136946272198560,
							"behaviorType": "Platform",
							"parameters": {
								"max-fall-speed": "32"
							}
						},
						{
							"type": "comment",
							"text": "Set hammer spinning animation."
						},
						{
							"id": "set-animation",
							"objectClass": "PlayerGraphics",
							"sid": 138734097056678,
							"parameters": {
								"animation": "\"HammerSpinning\"",
								"from": "beginning"
							}
						},
						{
							"type": "comment",
							"text": "Spawn effects."
						},
						{
							"id": "spawn-another-object",
							"objectClass": "PlayerGraphics",
							"sid": 505330351354507,
							"parameters": {
								"object": "ShockAirParticles",
								"layer": "\"World\"",
								"image-point": "\"Thunder\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-angle",
							"objectClass": "ShockAirParticles",
							"sid": 550232976756454,
							"parameters": {
								"angle": "270"
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "PlayerGraphics",
							"sid": 789441650437386,
							"parameters": {
								"object": "ShockGlow",
								"layer": "\"World\"",
								"image-point": "\"Thunder\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "PlayerGraphics",
							"sid": 429582549217917,
							"parameters": {
								"object": "ShockImpact",
								"layer": "\"World\"",
								"image-point": "\"Thunder\"",
								"create-hierarchy": false
							}
						},
						{
							"type": "comment",
							"text": "Flash the player graphics."
						},
						{
							"callFunction": "FlashObject",
							"sid": 202421431979113,
							"parameters": [
								"PlayerGraphics.UID",
								"0.5"
							]
						},
						{
							"type": "comment",
							"text": "Shake the screen."
						},
						{
							"callFunction": "ShakeScreen",
							"sid": 268769533930807,
							"parameters": [
								"0.1",
								"0.5"
							]
						}
					],
					"sid": 941209295893564,
					"children": [
						{
							"eventType": "comment",
							"text": "Spawn 8 light beams with various sizes and angles."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 741180144231087,
									"parameters": {
										"count": "8"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerGraphics",
									"sid": 981062351397453,
									"parameters": {
										"object": "TiledBackground",
										"layer": "\"World\"",
										"image-point": "\"Thunder\"",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-angle",
									"objectClass": "TiledBackground",
									"sid": 124655506019603,
									"parameters": {
										"angle": "loopindex * 45"
									}
								},
								{
									"id": "set-angle",
									"objectClass": "TiledBackground",
									"sid": 446354945252467,
									"parameters": {
										"angle": "Self.Angle + random(-10, 10)"
									}
								},
								{
									"id": "set-height",
									"objectClass": "TiledBackground",
									"sid": 869772345867857,
									"parameters": {
										"height": "random(2, 8)"
									}
								}
							],
							"sid": 398447755884059
						},
						{
							"eventType": "comment",
							"text": "Spawn 4 thunders."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 669087776397587,
									"parameters": {
										"count": "4"
									}
								}
							],
							"actions": [
								{
									"callFunction": "GenerateThunder",
									"sid": 186587901195115,
									"parameters": [
										"PlayerGraphics.ImagePointX(\"Thunder\")",
										"PlayerGraphics.ImagePointY(\"Thunder\")",
										"270"
									]
								}
							],
							"sid": 143581052887900
						},
						{
							"eventType": "comment",
							"text": "Spawn 16 Z shaped shocks."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 788632767908924,
									"parameters": {
										"count": "16"
									}
								}
							],
							"actions": [
								{
									"callFunction": "SpawnZShapedShock",
									"sid": 166205041294475,
									"parameters": [
										"PlayerGraphics.ImagePointX(\"Thunder\")",
										"PlayerGraphics.ImagePointY(\"Thunder\")",
										"32"
									]
								}
							],
							"sid": 989119471513195
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Throw the hammer while in the air if the player requests it."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-animation-playing",
							"objectClass": "PlayerGraphics",
							"sid": 321929633911676,
							"parameters": {
								"animation": "\"HammerSpinning\""
							}
						}
					],
					"actions": [],
					"sid": 858665479132953,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 357244395076935,
									"parameters": {
										"key": 90
									}
								},
								{
									"id": "on-button-pressed",
									"objectClass": "Gamepad",
									"sid": 879729450853238,
									"parameters": {
										"gamepad": "0",
										"button": "button-a"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Change action state."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 963077362807835,
									"parameters": {
										"variable": "ActionState",
										"value": "\"HammerThrow\""
									}
								},
								{
									"type": "comment",
									"text": "Adjust player properties."
								},
								{
									"id": "set-max-fall-speed",
									"objectClass": "PlayerCollision",
									"sid": 434893832999382,
									"behaviorType": "Platform",
									"parameters": {
										"max-fall-speed": "512"
									}
								},
								{
									"id": "set-vector-x",
									"objectClass": "PlayerCollision",
									"sid": 235424330202616,
									"behaviorType": "Platform",
									"parameters": {
										"vector-x": "0"
									}
								},
								{
									"id": "set-vector-y",
									"objectClass": "PlayerCollision",
									"sid": 928776562592090,
									"behaviorType": "Platform",
									"parameters": {
										"vector-y": "0"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "PlayerCollision",
									"sid": 904348916345322,
									"behaviorType": "Platform",
									"parameters": {
										"state": "disabled"
									}
								},
								{
									"type": "comment",
									"text": "Set hammer throw animation."
								},
								{
									"id": "set-animation",
									"objectClass": "PlayerGraphics",
									"sid": 314328527528796,
									"parameters": {
										"animation": "\"HammerThrow\"",
										"from": "beginning"
									}
								},
								{
									"type": "comment",
									"text": "Throw the hammer forward by tweening its X position."
								},
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerGraphics",
									"sid": 491653378677365,
									"parameters": {
										"object": "Hammer",
										"layer": "\"World\"",
										"image-point": "\"Hand\"",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-angle",
									"objectClass": "Hammer",
									"sid": 997839007507148,
									"parameters": {
										"angle": "angle(Self.X, Self.Y, Self.X + PlayerGraphics.Width / PlayerGraphics.ImageWidth, Self.Y)"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "Hammer",
									"sid": 145681318084127,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"MoveForward\"",
										"property": "offsetX",
										"end-value": "Self.X + (PlayerGraphics.Width / PlayerGraphics.ImageWidth) * 128",
										"time": "0.5",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								},
								{
									"type": "comment",
									"text": "Enable the shock trail for the hammer."
								},
								{
									"callFunction": "ToggleShockTrail",
									"sid": 752271269322870,
									"parameters": [
										true,
										"Hammer.UID"
									]
								},
								{
									"type": "comment",
									"text": "Spawn and pin the hammer particles to the hammer itself by using the scene graph system."
								},
								{
									"id": "spawn-another-object",
									"objectClass": "Hammer",
									"sid": 494980701807759,
									"parameters": {
										"object": "HammerParticles",
										"layer": "\"World\"",
										"image-point": "\"Head\"",
										"create-hierarchy": false
									}
								},
								{
									"id": "move-to-object",
									"objectClass": "HammerParticles",
									"sid": 923987621788485,
									"parameters": {
										"where": "behind",
										"object": "Hammer"
									}
								},
								{
									"id": "add-child",
									"objectClass": "Hammer",
									"sid": 949204608720303,
									"parameters": {
										"child": "HammerParticles",
										"transform-x": true,
										"transform-y": true,
										"transform-w": true,
										"transform-h": true,
										"transform-a": true,
										"transform-z-elevation": true,
										"destroy-with-parent": true
									}
								}
							],
							"sid": 581665233120840,
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "While in the air, spawn \"copies\" of the player as some sort of visual effect."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 587924551618582,
									"parameters": {
										"interval-seconds": "0.1"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerCollision",
									"sid": 127253540820843,
									"parameters": {
										"object": "FallingTrail",
										"layer": "\"World\"",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"type": "comment",
									"text": "Match the player looking direction."
								},
								{
									"id": "set-width",
									"objectClass": "FallingTrail",
									"sid": 768178758107734,
									"parameters": {
										"width": "PlayerGraphics.Width"
									}
								},
								{
									"type": "comment",
									"text": "Move the sprite to a random direction."
								},
								{
									"id": "tween-two-properties",
									"objectClass": "FallingTrail",
									"sid": 607105411146714,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"MoveOut\"",
										"property": "position",
										"end-x": "Self.X + random(-4, 4)",
										"end-y": "Self.Y + random(-4, 4)",
										"time": "0.1",
										"ease": "default",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								}
							],
							"sid": 469191954987472
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Stop the hammer when colliding with the ground."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Hammer",
							"sid": 584818014278002,
							"parameters": {
								"object": "Ground"
							}
						}
					],
					"actions": [],
					"sid": 448455883318389,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 300565828992475
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Hammer",
									"sid": 293833536325834,
									"parameters": {
										"object": "Ground"
									}
								}
							],
							"actions": [
								{
									"id": "move-at-angle",
									"objectClass": "Hammer",
									"sid": 375702028770144,
									"parameters": {
										"angle": "Self.Angle + 180",
										"distance": "0.1"
									}
								}
							],
							"sid": 854532406318352
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "StopHammerAction",
									"sid": 266504878560370
								}
							],
							"sid": 193243333830127
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Stop the hammer when it reaches its max travel distance."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "Hammer",
							"sid": 302752881493998,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"MoveForward\""
							}
						}
					],
					"actions": [
						{
							"callFunction": "StopHammerAction",
							"sid": 451954011340151
						}
					],
					"sid": 493784554934397
				},
				{
					"eventType": "comment",
					"text": "Stop the hammer if the player requests is to stop."
				},
				{
					"eventType": "comment",
					"text": "Is only possible to stop the hammer manually after a small threshold of 4 pixels, so it doesn't trigger automatically."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing",
							"objectClass": "Hammer",
							"sid": 474978144517578,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"MoveForward\""
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 711987943188703,
							"parameters": {
								"first-value": "distance(PlayerGraphics.ImagePointX(\"Hand\"), PlayerGraphics.ImagePointY(\"Hand\"), Hammer.X, Hammer.Y)",
								"comparison": 4,
								"second-value": "4"
							}
						}
					],
					"actions": [],
					"sid": 439260612933548,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 638423444475531,
									"parameters": {
										"key": 90
									}
								},
								{
									"id": "on-button-pressed",
									"objectClass": "Gamepad",
									"sid": 535400781604616,
									"parameters": {
										"gamepad": "0",
										"button": "button-a"
									}
								}
							],
							"actions": [
								{
									"callFunction": "StopHammerAction",
									"sid": 798845051240589
								}
							],
							"sid": 707189964273007,
							"isOrBlock": true
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Stop all hammer related actions."
				},
				{
					"functionName": "StopHammerAction",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "Change action state."
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 617914495732873,
							"parameters": {
								"variable": "ActionState",
								"value": "\"MoveToHammer\""
							}
						},
						{
							"type": "comment",
							"text": "Disable the shock trail for the hammer."
						},
						{
							"callFunction": "ToggleShockTrail",
							"sid": 519104025980481,
							"parameters": [
								false,
								"Hammer.UID"
							]
						},
						{
							"type": "comment",
							"text": "Make sure the hammer is not moving anymore by forcefully stopping it."
						},
						{
							"id": "stop-tweens",
							"objectClass": "Hammer",
							"sid": 144825258697939,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"MoveForward\""
							}
						},
						{
							"type": "comment",
							"text": "Spawn a few particles on the hammer head."
						},
						{
							"id": "spawn-another-object",
							"objectClass": "Hammer",
							"sid": 648354144365608,
							"parameters": {
								"object": "HammerShockParticles",
								"layer": "\"World\"",
								"image-point": "\"Head\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-angle",
							"objectClass": "HammerShockParticles",
							"sid": 204873989282343,
							"parameters": {
								"angle": "anglelerp(Hammer.Angle + 180, 270, 0.5)"
							}
						},
						{
							"type": "comment",
							"text": "Rotate the hammer up to signalize its state."
						},
						{
							"id": "tween-one-property",
							"objectClass": "Hammer",
							"sid": 709173709611462,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"PointUp\"",
								"property": "offsetAngle",
								"end-value": "270",
								"time": "0.25",
								"ease": "easeoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						},
						{
							"type": "comment",
							"text": "Destroy the hammer particles with a fade animation."
						},
						{
							"id": "tween-one-property",
							"objectClass": "HammerParticles",
							"sid": 888162555166128,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"SelfDestroy\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "0.25",
								"ease": "easeoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						},
						{
							"type": "comment",
							"text": "Move the player towards the hammer."
						},
						{
							"id": "tween-two-properties",
							"objectClass": "PlayerCollision",
							"sid": 945569465242274,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"MoveToHammer\"",
								"property": "position",
								"end-x": "Hammer.X",
								"end-y": "Hammer.Y + 16",
								"time": "distance(Self.X, Self.Y, Hammer.X, Hammer.Y) / 1024",
								"ease": "default",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						},
						{
							"type": "comment",
							"text": "Enable the shock trail for the player."
						},
						{
							"callFunction": "ToggleShockTrail",
							"sid": 950221224737431,
							"parameters": [
								true,
								"PlayerGraphics.UID"
							]
						},
						{
							"type": "comment",
							"text": "Flash the hammer object."
						},
						{
							"callFunction": "FlashObject",
							"sid": 454372976963372,
							"parameters": [
								"Hammer.UID",
								"0.25"
							]
						},
						{
							"type": "comment",
							"text": "Shake the screen."
						},
						{
							"callFunction": "ShakeScreen",
							"sid": 791483974592890,
							"parameters": [
								"0.05",
								"0.25"
							]
						}
					],
					"sid": 188877402635055
				},
				{
					"eventType": "comment",
					"text": "Spawn a following trail behind the player ever 0.01 seconds while it's moving towards the hammer."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing",
							"objectClass": "PlayerCollision",
							"sid": 683300640026235,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"MoveToHammer\""
							}
						}
					],
					"actions": [],
					"sid": 923380059628847,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 126360079694147,
									"parameters": {
										"interval-seconds": "0.01"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerCollision",
									"sid": 471982355466016,
									"parameters": {
										"object": "FollowingTrail",
										"layer": "\"World\"",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"type": "comment",
									"text": "Match the player looking direciton."
								},
								{
									"id": "set-width",
									"objectClass": "FollowingTrail",
									"sid": 543103974613258,
									"parameters": {
										"width": "PlayerGraphics.Width"
									}
								}
							],
							"sid": 838697580094496
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Reset everything once the combo is complete."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "PlayerCollision",
							"sid": 707778391498407,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"MoveToHammer\""
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Change action state."
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 710073087509416,
							"parameters": {
								"variable": "ActionState",
								"value": "\"Default\""
							}
						},
						{
							"type": "comment",
							"text": "Destroy the hammer."
						},
						{
							"id": "destroy",
							"objectClass": "Hammer",
							"sid": 858286137003391
						},
						{
							"type": "comment",
							"text": "Adjust player properties."
						},
						{
							"id": "set-enabled",
							"objectClass": "PlayerCollision",
							"sid": 725869065775716,
							"behaviorType": "Platform",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"id": "set-vector-x",
							"objectClass": "PlayerCollision",
							"sid": 348133026838872,
							"behaviorType": "Platform",
							"parameters": {
								"vector-x": "0"
							}
						},
						{
							"id": "set-vector-y",
							"objectClass": "PlayerCollision",
							"sid": 725168599294468,
							"behaviorType": "Platform",
							"parameters": {
								"vector-y": "0"
							}
						},
						{
							"type": "comment",
							"text": "Disable the shock trail for the player."
						},
						{
							"callFunction": "ToggleShockTrail",
							"sid": 782733531255314,
							"parameters": [
								false,
								"PlayerGraphics.UID"
							]
						}
					],
					"sid": 738378425428896
				},
				{
					"eventType": "comment",
					"text": "Cancel the combo if the player land while spinning the hammer."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-floor",
							"objectClass": "PlayerCollision",
							"sid": 877563755678673,
							"behaviorType": "Platform"
						}
					],
					"actions": [],
					"sid": 668443455766214,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 978897265926864,
									"parameters": {
										"variable": "ActionState",
										"comparison": 0,
										"value": "\"HammerSpinning\""
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Change action state."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 340468088894620,
									"parameters": {
										"variable": "ActionState",
										"value": "\"Default\""
									}
								},
								{
									"type": "comment",
									"text": "Adjust player properties."
								},
								{
									"id": "set-enabled",
									"objectClass": "PlayerCollision",
									"sid": 786070036443829,
									"behaviorType": "Platform",
									"parameters": {
										"state": "enabled"
									}
								},
								{
									"id": "set-vector-x",
									"objectClass": "PlayerCollision",
									"sid": 182396545948939,
									"behaviorType": "Platform",
									"parameters": {
										"vector-x": "0"
									}
								},
								{
									"id": "set-vector-y",
									"objectClass": "PlayerCollision",
									"sid": 836943803035432,
									"behaviorType": "Platform",
									"parameters": {
										"vector-y": "0"
									}
								}
							],
							"sid": 535801923365967
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Destroy the object after its animation is complete, so it doesn't cause any CPU overload."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "ShockImpact",
							"sid": 191090422186880,
							"parameters": {
								"animation": "\"Default\""
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "ShockImpact",
							"sid": 397888580668321
						}
					],
					"sid": 232826322072896
				}
			],
			"sid": 142161480485921
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "ShockEffects",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Change the \"AdjustHSL\" effect parameters from an object to make it completely white, then slowly return to its original colors."
				},
				{
					"functionName": "FlashObject",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "ObjectUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 116664798557563
						},
						{
							"name": "Duration",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 939800610214513
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "ElectrifiedObjects",
							"sid": 416225550523638,
							"parameters": {
								"unique-id": "ObjectUID"
							}
						}
					],
					"actions": [
						{
							"id": "tween-value",
							"objectClass": "ElectrifiedObjects",
							"sid": 114415378026521,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FlashObject\"",
								"start-value": "200",
								"end-value": "100",
								"time": "Duration",
								"ease": "default",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 385625182245459
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing",
							"objectClass": "ElectrifiedObjects",
							"sid": 125344896961012,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"FlashObject\""
							}
						}
					],
					"actions": [
						{
							"id": "set-effect-parameter",
							"objectClass": "ElectrifiedObjects",
							"sid": 557860688650963,
							"parameters": {
								"effect": "\"AdjustHSL\"",
								"parameter-index": "2",
								"value": "Self.Tween.Value(\"FlashObject\")"
							}
						}
					],
					"sid": 948744500466096
				},
				{
					"eventType": "comment",
					"text": "Allow an object to leave a shock trail behind it by toggling a bool variable."
				},
				{
					"functionName": "ToggleShockTrail",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "Enabled",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 334719717531684
						},
						{
							"name": "ObjectUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 220228513763416
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "ElectrifiedObjects",
							"sid": 250546029205741,
							"parameters": {
								"unique-id": "ObjectUID"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "ElectrifiedObjects",
							"sid": 978952746443570,
							"parameters": {
								"instance-variable": "LastX",
								"value": "Self.ImagePointX(\"ShockTrail\")"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "ElectrifiedObjects",
							"sid": 521947789218317,
							"parameters": {
								"instance-variable": "LastY",
								"value": "Self.ImagePointY(\"ShockTrail\")"
							}
						}
					],
					"sid": 136946110997829,
					"children": [
						{
							"eventType": "comment",
							"text": "Toggle on."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 631835202277780,
									"parameters": {
										"variable": "Enabled"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "ElectrifiedObjects",
									"sid": 458780980935649,
									"parameters": {
										"instance-variable": "ShowShockTrail",
										"value": "true"
									}
								}
							],
							"sid": 143269884441822
						},
						{
							"eventType": "comment",
							"text": "Toggle off."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 927072478819863
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 972560265523503,
									"parameters": {
										"variable": "Enabled"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "ElectrifiedObjects",
									"sid": 311766135438465,
									"parameters": {
										"instance-variable": "ShowShockTrail",
										"value": "false"
									}
								}
							],
							"sid": 619043140929432
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "ElectrifiedObjects",
							"sid": 214350570305418,
							"parameters": {
								"instance-variable": "ShowShockTrail"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Spawn trail effect."
						},
						{
							"id": "spawn-another-object",
							"objectClass": "ElectrifiedObjects",
							"sid": 392092756365802,
							"parameters": {
								"object": "ShockTrail",
								"layer": "\"Effects\"",
								"image-point": "\"ShockTrail\"",
								"create-hierarchy": false
							}
						},
						{
							"type": "comment",
							"text": "Move trail behind the bullet."
						},
						{
							"id": "move-to-object",
							"objectClass": "ShockTrail",
							"sid": 605943388193505,
							"parameters": {
								"where": "behind",
								"object": "ElectrifiedObjects"
							}
						},
						{
							"type": "comment",
							"text": "Adjust the trail angle to point towards the bullet."
						},
						{
							"id": "set-angle-toward-position",
							"objectClass": "ShockTrail",
							"sid": 460724493228377,
							"parameters": {
								"x": "ElectrifiedObjects.LastX",
								"y": "ElectrifiedObjects.LastY"
							}
						},
						{
							"type": "comment",
							"text": "Adjust the trail width to reach the bullet last position."
						},
						{
							"id": "set-width",
							"objectClass": "ShockTrail",
							"sid": 926089613164256,
							"parameters": {
								"width": "distance(Self.X, Self.Y, ElectrifiedObjects.LastX, ElectrifiedObjects.LastY) * 1.5"
							}
						},
						{
							"type": "comment",
							"text": "Animate the trail width."
						},
						{
							"id": "tween-one-property",
							"objectClass": "ShockTrail",
							"sid": 467924651791846,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"DecreaseHeight\"",
								"property": "offsetHeight",
								"end-value": "0",
								"time": "0.25",
								"ease": "default",
								"destroy-on-complete": "yes",
								"loop": "no",
								"ping-pong": "no"
							}
						},
						{
							"type": "comment",
							"text": "Update the player last position."
						},
						{
							"callFunction": "UpdateLastPosition",
							"sid": 384819340563282,
							"parameters": [
								"ElectrifiedObjects.UID"
							]
						}
					],
					"sid": 659648599007959,
					"children": [
						{
							"eventType": "comment",
							"text": "Also spawns a Z shaped rock effect every 0.05 seconds."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 149415896596254,
									"parameters": {
										"interval-seconds": "0.05"
									}
								}
							],
							"actions": [
								{
									"callFunction": "SpawnZShapedShock",
									"sid": 659658585189252,
									"parameters": [
										"ElectrifiedObjects.ImagePointX(\"ShockTrail\")",
										"ElectrifiedObjects.ImagePointY(\"ShockTrail\")",
										"4"
									]
								}
							],
							"sid": 185512223382127
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Store the object previous position in a couple of local variables."
				},
				{
					"functionName": "UpdateLastPosition",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "ObjectUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 761130648679134
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "ElectrifiedObjects",
							"sid": 524413112389760,
							"parameters": {
								"unique-id": "ObjectUID"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "ElectrifiedObjects",
							"sid": 266139218432801,
							"parameters": {
								"instance-variable": "LastX",
								"value": "Self.ImagePointX(\"ShockTrail\")"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "ElectrifiedObjects",
							"sid": 139242207823981,
							"parameters": {
								"instance-variable": "LastY",
								"value": "Self.ImagePointY(\"ShockTrail\")"
							}
						}
					],
					"sid": 306682759813791
				},
				{
					"eventType": "comment",
					"text": "Spawn a \"Z\" shaped shock effect and randomize some of its parameters."
				},
				{
					"functionName": "SpawnZShapedShock",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "PositionX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 594714607409281
						},
						{
							"name": "PositionY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 917470374390823
						},
						{
							"name": "PositionRandomness",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 335031090552259
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 398345343005054,
							"parameters": {
								"object-to-create": "ZShapedShock",
								"layer": "\"World\"",
								"x": "PositionX",
								"y": "PositionY",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-position",
							"objectClass": "ZShapedShock",
							"sid": 614100844491896,
							"parameters": {
								"x": "Self.X + cos(random(0, 360)) * random(-PositionRandomness, PositionRandomness)",
								"y": "Self.Y + sin(random(0, 360)) * random(-PositionRandomness, PositionRandomness)"
							}
						},
						{
							"id": "set-angle",
							"objectClass": "ZShapedShock",
							"sid": 814846761791281,
							"parameters": {
								"angle": "random(0, 360)"
							}
						},
						{
							"id": "tween-two-properties",
							"objectClass": "ZShapedShock",
							"sid": 198479995140601,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"DecreaseSize\"",
								"property": "size",
								"end-x": "0",
								"end-y": "Self.Height / 2",
								"time": "0.25",
								"ease": "easeinsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 730869472191135
				},
				{
					"eventType": "comment",
					"text": "Create a whole thunder by spawning a sequence of objects with different angle, varying from -30 to +30 after each iteration."
				},
				{
					"eventType": "variable",
					"name": "CurrentPosX",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 853497960272478
				},
				{
					"eventType": "variable",
					"name": "CurrentPosY",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 846749590503513
				},
				{
					"eventType": "variable",
					"name": "NextPosX",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 704859746854507
				},
				{
					"eventType": "variable",
					"name": "NextPosY",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 186025831581392
				},
				{
					"eventType": "variable",
					"name": "CurrentAngle",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 522529029735714
				},
				{
					"eventType": "variable",
					"name": "DEFAULTWIDTH",
					"type": "number",
					"initialValue": "32",
					"comment": "",
					"isStatic": true,
					"isConstant": true,
					"sid": 784164436986797
				},
				{
					"functionName": "GenerateThunder",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "SpawnPosX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 707407808187142
						},
						{
							"name": "SpawnPosY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 820950931182583
						},
						{
							"name": "SpawnAngle",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 873008064233543
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 424070093528880,
							"parameters": {
								"variable": "CurrentPosX",
								"value": "SpawnPosX"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 903861271874566,
							"parameters": {
								"variable": "CurrentPosY",
								"value": "SpawnPosY"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 453210856206486,
							"parameters": {
								"variable": "CurrentAngle",
								"value": "SpawnAngle"
							}
						}
					],
					"sid": 341707054729813,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 800740480224745,
									"parameters": {
										"count": "10"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 900480098482971,
									"parameters": {
										"variable": "CurrentAngle",
										"value": "CurrentAngle + random(-30, 30)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 764180131127043,
									"parameters": {
										"variable": "NextPosX",
										"value": "CurrentPosX + cos(CurrentAngle) * DefaultWidth"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 513132984280930,
									"parameters": {
										"variable": "NextPosY",
										"value": "CurrentPosY + sin(CurrentAngle) * DefaultWidth"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 974289641034813,
									"parameters": {
										"object-to-create": "ThunderLine",
										"layer": "\"World\"",
										"x": "CurrentPosX",
										"y": "CurrentPosY",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-angle",
									"objectClass": "ThunderLine",
									"sid": 862971546045282,
									"parameters": {
										"angle": "CurrentAngle"
									}
								},
								{
									"id": "set-width",
									"objectClass": "ThunderLine",
									"sid": 157746623485758,
									"parameters": {
										"width": "DEFAULTWIDTH"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 309598143584093,
									"parameters": {
										"variable": "CurrentPosX",
										"value": "NextPosX"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 570159411187592,
									"parameters": {
										"variable": "CurrentPosY",
										"value": "NextPosY"
									}
								}
							],
							"sid": 799500530551348
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Offset the thunder texture in order to give it a feeling of noisy motion."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 818488302251880
						}
					],
					"actions": [
						{
							"id": "set-image-offset-x",
							"objectClass": "ThunderLine",
							"sid": 117135467749738,
							"parameters": {
								"offset-x": "Self.ImageOffsetX - random(1, 5) * 60 * dt"
							}
						}
					],
					"sid": 739043056084275
				}
			],
			"sid": 292096481836263
		}
	],
	"sid": 703169307524782
}